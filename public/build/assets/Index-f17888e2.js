import{i as N,z as V,T as q,j as M,k as P,x as T,o as u,c as _,b as t,a as d,t as o,u as e,F as f,r as $,d as j,w as g,l as r,v as w,m as p,f as U,g as s,h as B,n as x,O as z}from"./app-8b08b02b.js";import{_ as E}from"./AdminLayout-2a0b7492.js";import{P as O}from"./PageHeader-f9559e85.js";import{P as H}from"./Paginate-50e2af07.js";import{h as L}from"./moment-a9aaa855.js";import{s as R}from"./sharedComposable-7773727f.js";import{_ as Y}from"./OverviewGrid-f71a88c2.js";import{S as y}from"./SpinnerBtn-92ab3ac7.js";import{d as b}from"./drawer-fe4c5e1a.js";import{_ as G}from"./NoDataFound-f8b61a7b.js";import"./dropdown-dfddaeee.js";import"./Modal-68ba130b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-e495c250.js";import"./toastComposable-d43a11ef.js";const J={class:"container p-4 sm:p-6"},K={class:"space-y-6"},Q={class:"table-responsive whitespace-nowrap rounded-primary"},W={class:"table"},X={class:""},Z={class:""},tt={class:""},et={class:""},st={class:""},ot={class:"flex justify-end"},at={key:0},it={class:"flex gap-1"},lt={class:"max-h-20",alt:""},nt={class:"text-left"},dt={class:"text-left"},rt={class:"text-left"},ct={class:"flex justify-end"},ut={class:"dropdown","data-placement":"bottom-start"},_t={class:"dropdown-toggle"},pt={class:"dropdown-content w-40"},bt={class:"dropdown-list"},mt={class:"dropdown-list-item"},vt=["onClick"],ht={class:"dropdown-list-item"},ft=["onClick"],gt={id:"addNewCategoryDrawer",class:"drawer drawer-right"},wt={class:"drawer-header"},xt=t("button",{type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},[t("i",{"data-feather":"x",width:"1.5rem",height:"1.5rem"})],-1),yt={class:"drawer-body"},Ct={class:"mb-2"},kt={class:"label mb-2"},Ft={class:"mb-2"},It={class:"label mb-2"},Dt={class:"mb-2"},St={class:"label mb-2"},At={class:"mb-2"},Nt={class:"label mb-2"},Vt={value:"1"},qt={value:"0"},Mt={class:"mb-2"},Pt={class:"label mb-2"},Tt={value:"1"},$t={value:"0"},jt={class:"drawer-footer"},Ut={class:"flex justify-end gap-2"},Bt={type:"button",class:"btn btn-secondary","data-dismiss":"drawer"},zt={id:"editCategoryDrawer",class:"drawer drawer-right"},Et={class:"drawer-header"},Ot=t("button",{type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},[t("i",{"data-feather":"x",width:"1.5rem",height:"1.5rem"})],-1),Ht={class:"drawer-body"},Lt={class:"mb-2"},Rt={class:"label mb-2"},Yt={class:"mb-2"},Gt={class:"label mb-2"},Jt={class:"mb-2"},Kt={class:"label mb-2"},Qt={class:"mb-2"},Wt={class:"label mb-2"},Xt={value:"1"},Zt={value:"0"},te={class:"mb-2"},ee={class:"label mb-2"},se={value:"1"},oe={value:"0"},ae={class:"drawer-footer"},ie={class:"flex justify-end gap-2"},le={type:"button",class:"btn btn-secondary","data-dismiss":"drawer"},ne=U({layout:E}),Ce=Object.assign(ne,{__name:"Index",props:["categories","totalCategories","activeCategories","inActiveCategories","languages","buttons","segments"],setup(c){const{deleteRow:C}=R();N(()=>{b.init()});const m=c,k=V(()=>[{value:m.totalCategories,title:s("Total"),iconClass:"bx bx-badge"},{value:m.activeCategories,title:s("Active"),iconClass:"bx bx-badge-check"},{value:m.inActiveCategories,title:s("Inactive"),iconClass:"bx bx-x-circle"}]),n=q({title:"",status:1,icon:null,preview:null,is_featured:0}),l=M({}),F=()=>{n.post(route("admin.service-categories.store"),{onSuccess:()=>{n.reset(),b.of("#addNewCategoryDrawer").hide()}})},I=v=>{l.value={...v},b.of("#editCategoryDrawer").show()},D=()=>{l.value.preview instanceof File||(l.value.preview=null),l.value.icon instanceof File||(l.value.icon=null),z.post(route("admin.service-categories.update",l.value.id),{_method:"PATCH",category:l.value},{onSuccess:()=>{l.value={},b.of("#editCategoryDrawer").hide()}})};return(v,i)=>{const h=P("Icon"),S=T("lazy");return u(),_(f,null,[t("main",J,[d(O,{title:"Service Categories",buttons:c.buttons},null,8,["buttons"]),t("div",K,[d(Y,{items:k.value,grid:"3"},null,8,["items"]),t("div",Q,[t("table",W,[t("thead",null,[t("tr",null,[t("th",X,o(e(s)("Name")),1),t("th",Z,o(e(s)("Slug")),1),t("th",tt,o(e(s)("Status")),1),t("th",et,o(e(s)("Featured")),1),t("th",st,o(e(s)("Created At")),1),t("th",ot,o(e(s)("Action")),1)])]),c.categories.total>0?(u(),_("tbody",at,[(u(!0),_(f,null,$(c.categories.data,a=>(u(),_("tr",{key:a.id},[t("td",it,[r(t("img",lt,null,512),[[S,a.icon]]),B(" "+o(a.title),1)]),t("td",nt,o(a.slug),1),t("td",dt,[t("span",{class:x(["badge",a.status==1?"badge-primary":"badge-danger"])},o(a.status==1?e(s)("Active"):e(s)("Inactive")),3)]),t("td",rt,[t("span",{class:x(["badge",a.is_featured==1?"badge-success":"badge-danger"])},o(a.is_featured==1?e(s)("Featured"):e(s)("Not Featured")),3)]),t("td",null,o(e(L)(a.created_at).format("D-MMM-Y")),1),t("td",null,[t("div",ct,[t("div",ut,[t("div",_t,[d(h,{class:"w-30 text-lg",icon:"bi:three-dots-vertical"})]),t("div",pt,[t("ul",bt,[t("li",mt,[t("button",{onClick:A=>I(a),class:"dropdown-link"},[d(h,{class:"w-30 text-lg",icon:"bx:edit"}),t("span",null,o(e(s)("Edit")),1)],8,vt)]),t("li",ht,[t("button",{as:"button",class:"dropdown-link",onClick:A=>e(C)(v.route("admin.service-categories.destroy",a.id))},[d(h,{class:"w-30 text-lg",icon:"bx:trash"}),t("span",null,o(e(s)("Delete")),1)],8,ft)])])])])])])]))),128))])):(u(),j(G,{key:1,"for-table":"true"}))])]),d(H,{links:c.categories.links},null,8,["links"])])]),t("div",gt,[t("form",{onSubmit:i[5]||(i[5]=g(a=>F(),["prevent"]))},[t("div",wt,[t("h5",null,o(e(s)("Add New Category")),1),xt]),t("div",yt,[t("div",Ct,[t("label",kt,o(e(s)("Title")),1),r(t("input",{"onUpdate:modelValue":i[0]||(i[0]=a=>e(n).title=a),type:"text",class:"input",required:""},null,512),[[w,e(n).title]])]),t("div",Ft,[t("label",It,o(e(s)("Icon")),1),t("input",{onInput:i[1]||(i[1]=a=>e(n).icon=a.target.files[0]),type:"file",class:"input"},null,32)]),t("div",Dt,[t("label",St,o(e(s)("Preview")),1),t("input",{onInput:i[2]||(i[2]=a=>e(n).preview=a.target.files[0]),type:"file",class:"input",required:""},null,32)]),t("div",At,[t("label",Nt,o(e(s)("Is Active?")),1),r(t("select",{required:"","onUpdate:modelValue":i[3]||(i[3]=a=>e(n).status=a),class:"select"},[t("option",Vt,o(e(s)("Active")),1),t("option",qt,o(e(s)("Draft")),1)],512),[[p,e(n).status]])]),t("div",Mt,[t("label",Pt,o(e(s)("Is Featured?")),1),r(t("select",{required:"","onUpdate:modelValue":i[4]||(i[4]=a=>e(n).is_featured=a),class:"select"},[t("option",Tt,o(e(s)("Featured")),1),t("option",$t,o(e(s)("Not Featured")),1)],512),[[p,e(n).is_featured]])])]),t("div",jt,[t("div",Ut,[t("button",Bt,[t("span",null,o(e(s)("Close")),1)]),d(y,{classes:"btn btn-primary",processing:e(n).processing,"btn-text":e(s)("Save Changes")},null,8,["processing","btn-text"])])])],32)]),t("div",zt,[t("form",{onSubmit:i[11]||(i[11]=g(a=>D(),["prevent"]))},[t("div",Et,[t("h5",null,o(e(s)("Edit Category")),1),Ot]),t("div",Ht,[t("div",Lt,[t("label",Rt,o(e(s)("Title")),1),r(t("input",{"onUpdate:modelValue":i[6]||(i[6]=a=>l.value.title=a),type:"text",class:"input",required:""},null,512),[[w,l.value.title]])]),t("div",Yt,[t("label",Gt,o(e(s)("Icon")),1),t("input",{onInput:i[7]||(i[7]=a=>l.value.icon=a.target.files[0]),type:"file",class:"input"},null,32)]),t("div",Jt,[t("label",Kt,o(e(s)("Preview")),1),t("input",{onInput:i[8]||(i[8]=a=>l.value.preview=a.target.files[0]),type:"file",class:"input"},null,32)]),t("div",Qt,[t("label",Wt,o(e(s)("Is Active?")),1),r(t("select",{required:"","onUpdate:modelValue":i[9]||(i[9]=a=>l.value.status=a),class:"select"},[t("option",Xt,o(e(s)("Active")),1),t("option",Zt,o(e(s)("Draft")),1)],512),[[p,l.value.status]])]),t("div",te,[t("label",ee,o(e(s)("Is Featured?")),1),r(t("select",{required:"","onUpdate:modelValue":i[10]||(i[10]=a=>l.value.is_featured=a),class:"select"},[t("option",se,o(e(s)("Featured")),1),t("option",oe,o(e(s)("Not Featured")),1)],512),[[p,l.value.is_featured]])])]),t("div",ae,[t("div",ie,[t("button",le,[t("span",null,o(e(s)("Close")),1)]),d(y,{classes:"btn btn-primary",processing:l.value.processing,"btn-text":e(s)("Save Changes")},null,8,["processing","btn-text"])])])],32)])],64)}}});export{Ce as default};
