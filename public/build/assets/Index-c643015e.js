import{i as V,g as o,T as $,k,o as i,c,b as t,a as n,u as s,t as a,F as b,r as w,d as A,w as B,l as T,v as C,f as P,p as L,h}from"./app-8b08b02b.js";import{_ as N}from"./AdminLayout-2a0b7492.js";import{P as Y}from"./PageHeader-f9559e85.js";import{_ as E}from"./OverviewGrid-f71a88c2.js";import{P as j}from"./Paginate-50e2af07.js";import{_ as q}from"./NoDataFound-f8b61a7b.js";import{_ as H}from"./FilterDropdown-576dea2b.js";import{s as R}from"./sharedComposable-7773727f.js";import{h as z}from"./moment-a9aaa855.js";import{d as D}from"./drawer-fe4c5e1a.js";import{t as G}from"./toastComposable-d43a11ef.js";import{S as J}from"./SpinnerBtn-92ab3ac7.js";import"./dropdown-dfddaeee.js";import"./Modal-68ba130b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-e495c250.js";const K={class:"container flex-grow p-4 sm:p-6"},Q={class:"space-y-4"},W={class:"table-responsive whitespace-nowrap rounded-primary"},X={class:"table"},Z={class:"!text-right"},tt={key:0},et={class:"text-xs uppercase"},st={class:"text-xs uppercase"},at={class:"!text-right"},ot={id:"infoDrawer",class:"drawer drawer-right"},nt={class:"drawer-header"},lt=t("button",{type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},[t("i",{"data-feather":"x",width:"1.5rem",height:"1.5rem"})],-1),it={class:"drawer-body"},rt={class:"mb-2"},ct={class:"label mb-2 block font-semibold"},dt={class:"label my-2 block font-semibold"},ut=["onUpdate:modelValue"],mt=["onClick"],pt={class:"drawer-footer"},_t={class:"flex justify-between gap-2"},bt={type:"button",class:"btn btn-secondary w-full","data-dismiss":"drawer"},ht=t("div",{class:"drawer-backdrop"},null,-1),ft=P({layout:N}),$t=Object.assign(ft,{__name:"Index",props:["segments","buttons","transferTransactions","request","totalTransferTransaction","totalServiceFee","todayTransfers","transfer_details","type"],setup(d){var v,x;V(()=>{D.init()});const{formatCurrency:f}=R(),u=d,S=[{value:u.totalTransferTransaction,title:o("Total"),iconClass:"bx bx-badge-check"},{value:f(u.totalServiceFee||0),title:o("Total Service Fee"),iconClass:"bx bx-dollar"},{value:u.todayTransfers,title:o("Today's Transfers"),iconClass:"bx bx-calendar"}],I=[{label:"ID",value:"id"},{label:"Amount",value:"from_amount"},{label:"User Email",value:"user_email"}],l=$({title:(v=u.transfer_details)==null?void 0:v.name,items:((x=u.transfer_details)==null?void 0:x.items)??[]}),F={value:""},M=()=>{l.items.push({...F})},O=m=>{l.items.splice(m,1)};function U(m,r,_){m.put(route("admin.option.update",r),{onSuccess:()=>{G.success("Option Updated successfully"),D.of(_).hide()}})}return(m,r)=>{const _=k("Link"),y=k("Icon");return i(),c(b,null,[t("main",K,[n(Y,{title:s(o)("Transfer List"),buttons:d.buttons},null,8,["title","buttons"]),t("div",Q,[n(E,{grid:3,items:S}),n(H,{options:I}),t("div",W,[t("table",X,[t("thead",null,[t("tr",null,[t("th",null,a(s(o)("ID")),1),t("th",null,a(s(o)("User Name")),1),t("th",null,a(s(o)("Transfer To")),1),t("th",null,a(s(o)("Request Amount")),1),t("th",null,a(s(o)("Converted Amount")),1),t("th",null,a(s(o)("Service Fee")),1),t("th",Z,a(s(o)("Created At")),1)])]),d.transferTransactions.total?(i(),c("tbody",tt,[(i(!0),c(b,null,w(d.transferTransactions.data,e=>(i(),c("tr",{key:e.id},[t("td",null,a(e.id),1),t("td",null,[n(_,{class:"text-primary-500 hover:underline",href:m.route("admin.users.show",e==null?void 0:e.user_id)},{default:L(()=>{var p;return[h(a((p=e==null?void 0:e.user)==null?void 0:p.name),1)]}),_:2},1032,["href"])]),t("td",null,a(e.transfer_to||"balance"),1),t("td",null,[h(a(e.from_amount)+" ",1),t("span",et,a(e.default_currency),1)]),t("td",null,[h(a(e.to_amount)+" ",1),t("span",st,a(e.transfer_currency),1)]),t("td",null,a(s(f)(+e.service_fee||0)),1),t("td",at,a(s(z)(e.created_at).format("DD MMM, YYYY")),1)]))),128))])):(i(),A(q,{key:1,"for-table":"true"}))])]),n(j,{links:d.transferTransactions.links},null,8,["links"])])]),t("div",ot,[t("form",{method:"POST",onSubmit:r[1]||(r[1]=B(e=>U(s(l),"transfer_details","#infoDrawer"),["prevent"]))},[t("div",nt,[t("h5",null,a(s(o)("Conversion Details")),1),lt]),t("div",it,[t("div",rt,[t("label",ct,a(s(o)("Title")),1),T(t("input",{type:"text",class:"input",placeholder:"Title","onUpdate:modelValue":r[0]||(r[0]=e=>s(l).title=e)},null,512),[[C,s(l).title]]),t("label",dt,a(s(o)("Add Details")),1),(i(!0),c(b,null,w(s(l).items,(e,p)=>(i(),c("div",{class:"mb-2 flex items-center gap-x-2",key:p},[T(t("input",{type:"text",class:"input",placeholder:"detail","onUpdate:modelValue":g=>e.value=g},null,8,ut),[[C,e.value]]),t("button",{type:"button",onClick:g=>O(p),class:"btn btn-danger"},[n(y,{icon:"bx:x",class:"text-lg"})],8,mt)]))),128)),t("button",{type:"button",onClick:M,class:"btn btn-primary"},[n(y,{icon:"bx:plus",class:"text-lg"})])])]),t("div",pt,[t("div",_t,[t("button",bt,[t("span",null,a(s(o)("Cancel")),1)]),n(J,{processing:s(l).processing,classes:"w-full btn btn-primary flex items-center","btn-text":s(o)("Submit")},null,8,["processing","btn-text"])])])],32),ht])],64)}}});export{$t as default};
