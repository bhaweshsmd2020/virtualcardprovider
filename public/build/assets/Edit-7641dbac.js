import{j as C,T as S,o as r,c as u,a as y,b as e,t as a,u as t,l as d,v as c,m as h,F as m,r as b,e as f,s as v,w as B,f as D,g as n}from"./app-55c25e51.js";import{_ as A}from"./AdminLayout-d7dc3a0b.js";import{P as N}from"./PageHeader-8abf30c3.js";import{S as O}from"./SpinnerBtn-5f5f7277.js";import{_ as P}from"./ImageInput.vue_vue_type_script_setup_true_lang-338ca183.js";import"./dropdown-8ee40221.js";import"./moment-a9aaa855.js";import"./sharedComposable-713147fd.js";import"./toastComposable-bc1f97e9.js";import"./Modal-522ea419.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-869d906f.js";const w={class:"container p-4 sm:p-6"},F={class:"mx-auto flex w-[650px] flex-col gap-5"},L={class:"card"},M={class:"card-header -mb-2"},E={class:"card-body"},T={class:"grid grid-cols-2 gap-3"},Y={class:"label mb-1"},$={class:"label mb-1"},j={class:"label mb-1"},H={class:"label mb-1"},z={class:"label mb-1"},K={class:"card"},q={class:"card-header -mb-2"},G={class:"card-body"},J={class:"grid grid-cols-1 gap-3"},Q={class:"label mb-1"},R={value:""},W=["value"],X={class:"grid grid-cols-2 gap-3"},Z={class:"label mb-1"},ee={value:""},te=["value"],se={value:"1000"},le={key:0},oe={class:"label mb-1"},ae={class:"grid grid-cols-2 gap-3"},ne={class:"label mb-1"},ie={value:""},de=["value"],re={value:"1000"},ue={key:0},ce={class:"label mb-1"},_e={class:"label mb-1"},pe={class:"label mb-1"},me={class:"card"},be={class:"card-header -mb-2"},ge={class:"card-body"},he={class:"grid grid-cols-3 gap-3"},ve={class:"label mb-1"},ye=["value"],fe={class:"label mb-1"},Ve=["value"],Ue={class:"label mb-1"},ke=["value"],Ie={class:"card"},xe={class:"card-header -mb-2"},Ce={class:"card-body"},Se={class:"grid grid-cols-2 gap-3"},Be={class:"label mb-1"},De={class:"label mb-1"},Ae=["onUpdate:modelValue"],Ne={class:"card"},Oe={class:"card-header -mb-2"},Pe={class:"card-body"},we={class:"grid grid-cols-2 gap-3"},Fe=e("label",{class:"label mb-1"}," Card Limit ",-1),Le=["onUpdate:modelValue"],Me=e("label",{class:"label mb-1"}," Card Topup Limit ",-1),Ee=["onUpdate:modelValue"],Te=e("label",{class:"label mb-1"}," Total Card Spending Limit ",-1),Ye=["onUpdate:modelValue"],$e={class:"card"},je={class:"card-header -mb-2"},He={class:"card-body"},ze={class:"grid grid-cols-2 gap-3"},Ke={class:"col-span-2"},qe={for:"toggle-checked-input0",class:"toggle label"},Ge=e("div",{class:"toggle-body"},null,-1),Je={class:"label"},Qe={for:"toggle-checked-input1",class:"toggle label"},Re=e("div",{class:"toggle-body"},null,-1),We={class:"label"},Xe={for:"toggle-checked-input2",class:"toggle label"},Ze=e("div",{class:"toggle-body"},null,-1),et={class:"label"},tt={for:"toggle-checked-input3",class:"toggle label"},st=e("div",{class:"toggle-body"},null,-1),lt={class:"label"},ot={key:0},at={for:"toggle-checked-input4",class:"toggle label"},nt=e("div",{class:"toggle-body"},null,-1),it={class:"label"},dt={class:"label mb-1"},rt={class:"mt-5 text-end"},ut=D({layout:A}),kt=Object.assign(ut,{__name:"Edit",props:["userInfo","countries","cities","states","cards","cardlimits","othercity","otherstate"],setup(g){var V,U;const i=g,k=C(i.userInfo.wallets.map(_=>{var o;return{id:_.id,balance:_.balance,name:(o=_.currency)==null?void 0:o.currency}})),l=S({first_name:i.userInfo.first_name,last_name:i.userInfo.last_name,username:i.userInfo.username,avatar:"",email:i.userInfo.email,phone:i.userInfo.phone,card_limit:i.userInfo.card_limit,dob_day:i.userInfo.dob_day,dob_month:i.userInfo.dob_month,dob_year:i.userInfo.dob_year,country_code:i.userInfo.country_code,country_id:i.userInfo.country_id,state_id:i.userInfo.state_id,other_state:((V=i.otherstate)==null?void 0:V.name)||"",city_id:i.userInfo.city_id,other_city:((U=i.othercity)==null?void 0:U.name)||"",postal_code:i.userInfo.postal_code,address_line:i.userInfo.address_line,password:"",balance:i.userInfo.balance,status:!!i.userInfo.status,email_verified_at:i.userInfo.email_verified_at!=null,phone_verified_at:i.userInfo.phone_verified_at!=null,kyc_verified_at:i.userInfo.kyc_verified_at!=null,google2fa_secret:i.userInfo.google2fa_secret!=null,wallets:k.value,meta:i.userInfo.meta,_method:"PATCH",card_limits:{},topup_limit:{},spending_limit:{}});Array.isArray(i.cardlimits)&&i.cardlimits.forEach(_=>{l.card_limits[_.card_type]=_.limit,l.topup_limit[_.card_type]=_.topup_limit,l.spending_limit[_.card_type]=_.spending_limit});const I=()=>{l.post(route("admin.users.update",i.userInfo.id),{preserveState:!1})};return(_,o)=>(r(),u("main",w,[y(N),e("form",{onSubmit:o[23]||(o[23]=B(s=>I(),["prevent"]))},[e("div",F,[e("div",L,[e("h6",M,a(t(n)("Basic Information")),1),e("div",E,[e("div",T,[e("div",null,[e("label",Y,a(t(n)("First Name")),1),d(e("input",{type:"text",class:"input","onUpdate:modelValue":o[0]||(o[0]=s=>t(l).first_name=s)},null,512),[[c,t(l).first_name]])]),e("div",null,[e("label",$,a(t(n)("Last Name")),1),d(e("input",{type:"text",class:"input","onUpdate:modelValue":o[1]||(o[1]=s=>t(l).last_name=s)},null,512),[[c,t(l).last_name]])]),e("div",null,[e("label",j,a(t(n)("Username")),1),d(e("input",{type:"text",class:"input","onUpdate:modelValue":o[2]||(o[2]=s=>t(l).username=s)},null,512),[[c,t(l).username]])]),y(P,{modelValue:t(l).avatar,"onUpdate:modelValue":o[3]||(o[3]=s=>t(l).avatar=s),label:"Avatar"},null,8,["modelValue"]),e("div",null,[e("label",H,a(t(n)("Email")),1),d(e("input",{type:"email",class:"input","onUpdate:modelValue":o[4]||(o[4]=s=>t(l).email=s)},null,512),[[c,t(l).email]])]),e("div",null,[e("label",z,a(t(n)("Phone")),1),d(e("input",{type:"text",class:"input","onUpdate:modelValue":o[5]||(o[5]=s=>t(l).phone=s)},null,512),[[c,t(l).phone]])])])])]),e("div",K,[e("h6",q,a(t(n)("Address")),1),e("div",G,[e("div",J,[e("div",null,[e("label",Q,a(t(n)("Country")),1),d(e("select",{"onUpdate:modelValue":o[6]||(o[6]=s=>t(l).country_id=s),class:"select"},[e("option",R,a(t(n)("Select Country")),1),(r(!0),u(m,null,b(g.countries,s=>(r(),u("option",{value:s.id,key:s.id},a(s.name),9,W))),128))],512),[[h,t(l).country_id]])]),e("div",X,[e("div",null,[e("label",Z,a(t(n)("State")),1),d(e("select",{"onUpdate:modelValue":o[7]||(o[7]=s=>t(l).state_id=s),class:"select"},[e("option",ee,a(t(n)("Select State")),1),(r(!0),u(m,null,b(g.states,s=>(r(),u("option",{value:s.id,key:s.id},a(s.name),9,te))),128)),e("option",se,a(t(n)("Other")),1)],512),[[h,t(l).state_id]])]),t(l).state_id==1e3?(r(),u("div",le,[e("label",oe,a(t(n)("State Name")),1),d(e("input",{type:"text",class:"input","onUpdate:modelValue":o[8]||(o[8]=s=>t(l).other_state=s)},null,512),[[c,t(l).other_state]])])):f("",!0)]),e("div",ae,[e("div",null,[e("label",ne,a(t(n)("City")),1),d(e("select",{"onUpdate:modelValue":o[9]||(o[9]=s=>t(l).city_id=s),class:"select"},[e("option",ie,a(t(n)("Select City")),1),(r(!0),u(m,null,b(g.cities,s=>(r(),u("option",{value:s.id,key:s.id},a(s.name),9,de))),128)),e("option",re,a(t(n)("Other")),1)],512),[[h,t(l).city_id]])]),t(l).city_id==1e3?(r(),u("div",ue,[e("label",ce,a(t(n)("City Name")),1),d(e("input",{type:"text",class:"input","onUpdate:modelValue":o[10]||(o[10]=s=>t(l).other_city=s)},null,512),[[c,t(l).other_city]])])):f("",!0)]),e("div",null,[e("label",_e,a(t(n)("Postal Code")),1),d(e("input",{type:"text",class:"input","onUpdate:modelValue":o[11]||(o[11]=s=>t(l).postal_code=s)},null,512),[[c,t(l).postal_code]])]),e("div",null,[e("label",pe,a(t(n)("Address Line")),1),d(e("input",{type:"text",class:"input","onUpdate:modelValue":o[12]||(o[12]=s=>t(l).address_line=s)},null,512),[[c,t(l).address_line]])])])])]),e("div",me,[e("h6",be,a(t(n)("Date of Birth")),1),e("div",ge,[e("div",he,[e("div",null,[e("label",ve,a(t(n)("DOB Day")),1),d(e("select",{"onUpdate:modelValue":o[13]||(o[13]=s=>t(l).dob_day=s),class:"select"},[(r(),u(m,null,b(31,s=>e("option",{value:s,key:s},a(s),9,ye)),64))],512),[[h,t(l).dob_day]])]),e("div",null,[e("label",fe,a(t(n)("DOB Month")),1),d(e("select",{"onUpdate:modelValue":o[14]||(o[14]=s=>t(l).dob_month=s),class:"select"},[(r(),u(m,null,b(12,s=>e("option",{value:s,key:s},a(s),9,Ve)),64))],512),[[h,t(l).dob_month]])]),e("div",null,[e("label",Ue,a(t(n)("DOB Year")),1),d(e("select",{"onUpdate:modelValue":o[15]||(o[15]=s=>t(l).dob_year=s),class:"select"},[(r(),u(m,null,b(100,s=>e("option",{value:new Date().getFullYear()-s,key:s},a(new Date().getFullYear()-s),9,ke)),64))],512),[[h,t(l).dob_year]])])])])]),e("div",Ie,[e("h6",xe,a(t(n)("Balances")),1),e("div",Ce,[e("div",Se,[e("div",null,[e("label",Be,a(t(n)("Balance"))+" ("+a(t(n)("Main"))+")",1),d(e("input",{type:"number",step:"any",class:"input","onUpdate:modelValue":o[16]||(o[16]=s=>t(l).balance=s)},null,512),[[c,t(l).balance]])]),(r(!0),u(m,null,b(t(l).wallets,s=>{var p;return r(),u("div",{key:s.id},[e("label",De,a(t(n)("Balance"))+" ("+a((p=s==null?void 0:s.name)==null?void 0:p.toUpperCase())+")",1),d(e("input",{type:"number",step:"any",class:"input","onUpdate:modelValue":x=>s.balance=x},null,8,Ae),[[c,s.balance]])])}),128))])])]),e("div",Ne,[e("h6",Oe,a(t(n)("Card Settings")),1),e("div",Pe,[e("div",we,[(r(!0),u(m,null,b(g.cards,s=>(r(),u("div",{key:s.id},[e("h5",null,a(s.title),1),Fe,d(e("input",{type:"number",class:"input","onUpdate:modelValue":p=>t(l).card_limits[s.id]=p},null,8,Le),[[c,t(l).card_limits[s.id]]]),Me,d(e("input",{type:"number",class:"input","onUpdate:modelValue":p=>t(l).topup_limit[s.id]=p},null,8,Ee),[[c,t(l).topup_limit[s.id]]]),Te,d(e("input",{type:"number",class:"input","onUpdate:modelValue":p=>t(l).spending_limit[s.id]=p},null,8,Ye),[[c,t(l).spending_limit[s.id]]])]))),128))])])]),e("div",$e,[e("h6",je,a(t(n)("Others")),1),e("div",He,[e("div",ze,[e("div",Ke,[e("div",null,[e("label",qe,[d(e("input",{class:"toggle-input peer sr-only",id:"toggle-checked-input0",type:"checkbox","onUpdate:modelValue":o[17]||(o[17]=s=>t(l).status=s)},null,512),[[v,t(l).status]]),Ge,e("span",Je,a(t(n)("Is Active?")),1)])]),e("div",null,[e("label",Qe,[d(e("input",{class:"toggle-input peer sr-only",id:"toggle-checked-input1",type:"checkbox","onUpdate:modelValue":o[18]||(o[18]=s=>t(l).email_verified_at=s)},null,512),[[v,t(l).email_verified_at]]),Re,e("span",We,a(t(n)("Email Verified")),1)])]),e("div",null,[e("label",Xe,[d(e("input",{class:"toggle-input peer sr-only",id:"toggle-checked-input2",type:"checkbox","onUpdate:modelValue":o[19]||(o[19]=s=>t(l).phone_verified_at=s)},null,512),[[v,t(l).phone_verified_at]]),Ze,e("span",et,a(t(n)("Phone Verified")),1)])]),e("div",null,[e("label",tt,[d(e("input",{class:"toggle-input peer sr-only",id:"toggle-checked-input3",type:"checkbox","onUpdate:modelValue":o[20]||(o[20]=s=>t(l).kyc_verified_at=s)},null,512),[[v,t(l).kyc_verified_at]]),st,e("span",lt,a(t(n)("KYC Verified")),1)])]),g.userInfo.google2fa_secret?(r(),u("div",ot,[e("label",at,[d(e("input",{class:"toggle-input peer sr-only",id:"toggle-checked-input4",type:"checkbox","onUpdate:modelValue":o[21]||(o[21]=s=>t(l).google2fa_secret=s)},null,512),[[v,t(l).google2fa_secret]]),nt,e("span",it,a(t(n)("2fa Authorization")),1)])])):f("",!0)]),e("div",null,[e("label",dt,a(t(n)("Password")),1),d(e("input",{type:"password",class:"input","onUpdate:modelValue":o[22]||(o[22]=s=>t(l).password=s)},null,512),[[c,t(l).password]])])]),e("div",rt,[y(O,{classes:"btn btn-primary",processing:t(l).processing,"btn-text":t(n)("Update user")},null,8,["processing","btn-text"])])])])])],32)]))}});export{kt as default};
