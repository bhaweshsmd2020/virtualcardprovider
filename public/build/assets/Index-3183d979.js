import{i as j,g as s,T as I,j as N,k as T,o as c,c as u,b as t,a as n,t as a,u as e,F as h,r as V,d as B,w as g,l as m,v as f,m as w,f as q,n as E,p as F,q as O,O as P}from"./app-55c25e51.js";import{_ as U}from"./AdminLayout-d7dc3a0b.js";import{P as z}from"./PageHeader-8abf30c3.js";import{P as H}from"./Paginate-d3bcd4a4.js";import{h as L}from"./moment-a9aaa855.js";import{s as R}from"./sharedComposable-713147fd.js";import{_ as Y}from"./OverviewGrid-646656c7.js";import{S as C}from"./SpinnerBtn-5f5f7277.js";import{d as p}from"./drawer-fe4c5e1a.js";import{t as y}from"./toastComposable-bc1f97e9.js";import{_ as G}from"./NoDataFound-c4885428.js";import{_ as J}from"./FilterDropdown-df98b38e.js";import"./dropdown-8ee40221.js";import"./Modal-522ea419.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-869d906f.js";const K={class:"container p-4 sm:p-6"},Q={class:"space-y-6"},W={class:"table-responsive whitespace-nowrap rounded-primary"},X={class:"table"},Z={class:"flex justify-end"},tt={key:0},et={class:"flex justify-end"},st={class:"dropdown","data-placement":"bottom-start"},at={class:"dropdown-toggle"},ot={class:"dropdown-content w-40"},lt={class:"dropdown-list"},nt={class:"dropdown-list-item"},it=["onClick"],rt={class:"dropdown-list-item"},dt={id:"addNewCategoryDrawer",class:"drawer drawer-right"},ct={class:"drawer-header"},ut=t("button",{type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},[t("i",{"data-feather":"x",width:"1.5rem",height:"1.5rem"})],-1),mt={class:"drawer-body"},pt={class:"mb-2"},_t={class:"mb-2"},bt={value:"1"},vt={value:"0"},ht={class:"drawer-footer"},gt={class:"flex justify-between gap-2"},ft={type:"button",class:"btn btn-secondary w-full","data-dismiss":"drawer"},wt={id:"editCategoryDrawer",class:"drawer drawer-right"},Ct={class:"drawer-header"},yt=t("button",{type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},[t("i",{"data-feather":"x",width:"1.5rem",height:"1.5rem"})],-1),xt={class:"drawer-body"},kt={class:"mb-2"},St={class:"mb-2"},Dt={value:"1"},At={value:"0"},$t={class:"drawer-footer"},Mt={class:"flex justify-between gap-2"},jt={type:"button",class:"btn btn-secondary w-full","data-dismiss":"drawer"},It=q({layout:U}),Jt=Object.assign(It,{__name:"Index",props:["categories","totalCategories","activeCategories","inActiveCategories","languages","buttons","segments"],setup(d){const{deleteRow:x}=R();j(()=>{p.init()});const _=d,k=[{value:_.totalCategories,title:s("Total Categories"),iconClass:"bx bx-bar-chart"},{value:_.activeCategories,title:s("Active Categories"),iconClass:"bx bx-check-circle"},{value:_.inActiveCategories,title:s("Inactive Categories"),iconClass:"bx bx-x-circle"}],r=I({title:"",status:1,language:"en"}),i=N({}),S=()=>{r.post(route("admin.card-category.store"),{onSuccess:()=>{r.reset(),y.success(s("Category has been added successfully")),p.of("#addNewCategoryDrawer").hide()}})},D=v=>{i.value={...v},p.of("#editCategoryDrawer").show()},A=()=>{P.patch(route("admin.card-category.update",i.value.id),i.value,{onSuccess:()=>{i.value={},y.success(s("Category has been updated successfully")),p.of("#editCategoryDrawer").hide()}})},$=[{label:"Title",value:"title"},{label:"Status",value:"status",options:[{label:"Active",value:1},{label:"Inactive",value:0}]}];return(v,l)=>{const b=T("Icon");return c(),u(h,null,[t("main",K,[n(z,{title:"Card Categories",buttons:d.buttons},null,8,["buttons"]),t("div",Q,[n(Y,{items:k,grid:"3"}),n(J,{options:$}),t("div",W,[t("table",X,[t("thead",null,[t("tr",null,[t("th",null,a(e(s)("Name")),1),t("th",null,a(e(s)("Slug")),1),t("th",null,a(e(s)("Status")),1),t("th",null,a(e(s)("Created At")),1),t("th",Z,a(e(s)("Action")),1)])]),d.categories.total?(c(),u("tbody",tt,[(c(!0),u(h,null,V(d.categories.data,o=>(c(),u("tr",{key:o.id},[t("td",null,a(o.title),1),t("td",null,a(o.slug),1),t("td",null,[t("span",{class:E(["badge",o.status==1?"badge-success":"badge-danger"])},a(o.status==1?e(s)("Active"):e(s)("Draft")),3)]),t("td",null,a(e(L)(o.created_at).format("D-MMM-Y")),1),t("td",null,[t("div",et,[t("div",st,[t("div",at,[n(b,{class:"w-30 text-lg",icon:"bi:three-dots-vertical"})]),t("div",ot,[t("ul",lt,[t("li",nt,[t("button",{onClick:M=>D(o),class:"dropdown-link"},[n(b,{class:"h-6 text-slate-400",icon:"material-symbols:edit-outline"}),t("span",null,a(e(s)("Edit")),1)],8,it)]),t("li",rt,[n(e(O),{as:"button",class:"dropdown-link",onClick:M=>e(x)("/admin/category/"+o.id)},{default:F(()=>[n(b,{class:"h-6",icon:"material-symbols:delete-outline"}),t("span",null,a(e(s)("Delete")),1)]),_:2},1032,["onClick"])])])])])])])]))),128))])):(c(),B(G,{key:1,"for-table":"true"}))])]),n(H,{links:d.categories.links},null,8,["links"])])]),t("div",dt,[t("form",{onSubmit:l[2]||(l[2]=g(o=>S(),["prevent"]))},[t("div",ct,[t("h5",null,a(e(s)("Add New Category")),1),ut]),t("div",mt,[t("div",pt,[t("label",null,a(e(s)("Title")),1),m(t("input",{"onUpdate:modelValue":l[0]||(l[0]=o=>e(r).title=o),type:"text",name:"title",class:"input",required:""},null,512),[[f,e(r).title]])]),t("div",_t,[t("label",null,a(e(s)("Status")),1),m(t("select",{required:"","onUpdate:modelValue":l[1]||(l[1]=o=>e(r).status=o),class:"select",name:"status"},[t("option",bt,a(e(s)("Active")),1),t("option",vt,a(e(s)("Inactive")),1)],512),[[w,e(r).status]])])]),t("div",ht,[t("div",gt,[t("button",ft,[t("span",null,a(e(s)("Close")),1)]),n(C,{classes:"btn btn-primary w-full",processing:e(r).processing,"btn-text":e(s)("Save Changes")},null,8,["processing","btn-text"])])])],32)]),t("div",wt,[t("form",{onSubmit:l[5]||(l[5]=g(o=>A(),["prevent"]))},[t("div",Ct,[t("h5",null,a(e(s)("Edit Category")),1),yt]),t("div",xt,[t("div",kt,[t("label",null,a(e(s)("Title")),1),m(t("input",{"onUpdate:modelValue":l[3]||(l[3]=o=>i.value.title=o),type:"text",name:"title",class:"input",required:""},null,512),[[f,i.value.title]])]),t("div",St,[t("label",null,a(e(s)("Status")),1),m(t("select",{"onUpdate:modelValue":l[4]||(l[4]=o=>i.value.status=o),class:"select",name:"status"},[t("option",Dt,a(e(s)("Active")),1),t("option",At,a(e(s)("Draft")),1)],512),[[w,i.value.status]])])]),t("div",$t,[t("div",Mt,[t("button",jt,[t("span",null,a(e(s)("Close")),1)]),n(C,{classes:"btn btn-primary w-full",processing:i.value.processing,"btn-text":e(s)("Save Changes")},null,8,["processing","btn-text"])])])],32)])],64)}}});export{Jt as default};
