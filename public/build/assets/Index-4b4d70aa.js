import{i as A,g as s,T as f,k as I,x as $,o as p,c as v,b as t,a as r,t as a,u as e,F as w,r as M,d as N,e as T,w as g,l as c,v as y,m as h,f as F,n as E}from"./app-55c25e51.js";import{_ as j}from"./AdminLayout-d7dc3a0b.js";import{P as q}from"./PageHeader-8abf30c3.js";import{P as z}from"./Paginate-d3bcd4a4.js";import{h as O}from"./moment-a9aaa855.js";import{s as H}from"./sharedComposable-713147fd.js";import{_ as L}from"./OverviewGrid-646656c7.js";import{_ as R}from"./NoDataFound-c4885428.js";import{S as x}from"./SpinnerBtn-5f5f7277.js";import{d as m}from"./drawer-fe4c5e1a.js";import{_ as k}from"./ImageInput.vue_vue_type_script_setup_true_lang-338ca183.js";import"./dropdown-8ee40221.js";import"./Modal-522ea419.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-869d906f.js";import"./toastComposable-bc1f97e9.js";const Y={class:"container flex-grow p-4 sm:p-6"},G={class:"space-y-6"},J={class:"card"},K={class:"table-responsive whitespace-nowrap rounded-primary"},Q={class:"table"},W={class:"!text-right"},X={class:"text-left"},Z={class:"avatar rounded-square w-70-per"},tt={class:"text-left"},et={class:"text-left"},st={class:"text-left"},at={class:"dropdown","data-placement":"bottom-start"},nt={class:"dropdown-toggle"},ot={class:"dropdown-content w-40"},lt={class:"dropdown-list"},rt={class:"dropdown-list-item"},it=["onClick"],dt={class:"dropdown-list-item"},ct=["onClick"],ut={id:"addNewPartnerDrawer",class:"drawer drawer-right"},pt={class:"drawer-header"},mt=t("button",{type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},[t("i",{"data-feather":"x",width:"1.5rem",height:"1.5rem"})],-1),_t={class:"drawer-body"},bt={class:"mb-2"},vt={class:"mb-2"},ht={value:"partner"},ft={value:"integration"},wt={class:"mb-2"},gt={class:"select",name:"status"},yt={value:"1"},xt={value:"0"},kt={class:"drawer-footer"},Pt={class:"flex justify-end gap-2"},Bt={type:"button",class:"btn btn-secondary w-full","data-dismiss":"drawer"},Ct={id:"editPartnerDrawer",class:"drawer drawer-right"},Dt={class:"drawer-header"},Vt=t("button",{type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},[t("i",{"data-feather":"x",width:"1.5rem",height:"1.5rem"})],-1),St={class:"drawer-body"},Ut={class:"mb-2"},At={class:"mb-2"},It={value:"partner"},$t={value:"integration"},Mt={class:"mb-2"},Nt={value:"1"},Tt={value:"0"},Ft={class:"drawer-footer"},Et={class:"flex justify-end gap-2"},jt={type:"button",class:"btn btn-secondary w-full","data-dismiss":"drawer"},qt=F({layout:j}),ae=Object.assign(qt,{__name:"Index",props:["brands","totalBrands","activeBrands","inActiveBrands","buttons"],setup(u){const{deleteRow:P}=H();A(()=>{m.init()});const _=u,B=[{value:_.totalBrands,title:s("Total Partners"),iconClass:"bx bx-bar-chart"},{value:_.activeBrands,title:s("Active Partners"),iconClass:"bx bx-check-circle"},{value:_.inActiveBrands,title:s("Inactive Partners"),iconClass:"bx bx-x-circle"}],i=f({url:"",status:"1",type:"partner",preview:""}),o=f({id:"",title:"",preview:"",type:"partner",status:"1",_method:"put"}),C=()=>{i.post(route("admin.partner.store"),{onSuccess:()=>{i.reset(),m.of("#addNewPartnerDrawer").hide()}})};function D(d){o.id=d.id,o.title=d.title,o.status=d.status,o.type=d.type,o.preview=d.preview,m.of("#editPartnerDrawer").show()}const V=()=>{o.preview instanceof File||(o.preview=""),o.post(route("admin.partner.update",o.id),{onSuccess:()=>{o.reset(),m.of("#editPartnerDrawer").hide()}})};return(d,l)=>{const b=I("Icon"),S=$("lazy");return p(),v(w,null,[t("main",Y,[r(q,{title:"Partners",buttons:u.buttons},null,8,["buttons"]),t("div",G,[r(L,{items:B,grid:"3"}),t("div",J,[t("div",K,[t("table",Q,[t("thead",null,[t("tr",null,[t("th",null,a(e(s)("Image")),1),t("th",null,a(e(s)("Url")),1),t("th",null,a(e(s)("Type")),1),t("th",null,a(e(s)("Status")),1),t("th",null,a(e(s)("Created At")),1),t("th",W,a(e(s)("Action")),1)])]),t("tbody",null,[(p(!0),v(w,null,M(u.brands.data,n=>(p(),v("tr",{key:n.id},[t("td",X,[c(t("img",Z,null,512),[[S,n.preview]])]),t("td",tt,a(n.title),1),t("td",et,a(n.lang=="en"?"Partner":n.lang),1),t("td",st,[t("span",{class:E(["badge",n.status==1?"badge-success":"badge-danger"])},a(n.status==1?e(s)("Active"):e(s)("Draft")),3)]),t("td",null,a(e(O)(n.created_at).format("D-MMM-Y")),1),t("td",null,[t("div",at,[t("div",nt,[r(b,{class:"w-30 text-lg",icon:"bi:three-dots-vertical"})]),t("div",ot,[t("ul",lt,[t("li",rt,[t("button",{onClick:U=>D(n),class:"dropdown-link"},[r(b,{icon:"bx:edit"}),t("span",null,a(e(s)("Edit")),1)],8,it)]),t("li",dt,[t("button",{class:"dropdown-link",onClick:U=>e(P)(d.route("admin.partner.destroy",n.id))},[r(b,{icon:"bx:trash"}),t("span",null,a(e(s)("Delete")),1)],8,ct)])])])])])]))),128))]),u.brands.total?T("",!0):(p(),N(R,{key:0,"for-table":!0}))])])]),r(z,{links:u.brands.links},null,8,["links"])])]),t("div",ut,[t("form",{onSubmit:l[3]||(l[3]=g(n=>C(),["prevent"]))},[t("div",pt,[t("h5",null,a(e(s)("Add New Partner")),1),mt]),t("div",_t,[t("div",bt,[t("label",null,a(e(s)("Brand Url")),1),c(t("input",{type:"text",name:"url","onUpdate:modelValue":l[0]||(l[0]=n=>e(i).url=n),class:"input"},null,512),[[y,e(i).url]])]),r(k,{label:e(s)("Brand Image"),modelValue:e(i).preview,"onUpdate:modelValue":l[1]||(l[1]=n=>e(i).preview=n),class:"mb-2"},null,8,["label","modelValue"]),t("div",vt,[t("label",null,a(e(s)("Type")),1),c(t("select",{class:"select",name:"type","onUpdate:modelValue":l[2]||(l[2]=n=>e(i).type=n)},[t("option",ht,a(e(s)("Partner / Brand")),1),t("option",ft,a(e(s)("Integration Partner")),1)],512),[[h,e(i).type]])]),t("div",wt,[t("label",null,a(e(s)("Status")),1),t("select",gt,[t("option",yt,a(e(s)("Active")),1),t("option",xt,a(e(s)("Deactivate")),1)])])]),t("div",kt,[t("div",Pt,[t("button",Bt,[t("span",null,a(e(s)("Close")),1)]),r(x,{classes:"btn btn-primary w-full",processing:e(i).processing,"btn-text":e(s)("Create")},null,8,["processing","btn-text"])])])],32)]),t("div",Ct,[t("form",{onSubmit:l[8]||(l[8]=g(n=>V(),["prevent"]))},[t("div",Dt,[t("h5",null,a(e(s)("Edit Partner")),1),Vt]),t("div",St,[t("div",Ut,[t("label",null,a(e(s)("Brand Url")),1),c(t("input",{type:"text",name:"url","onUpdate:modelValue":l[4]||(l[4]=n=>e(o).title=n),class:"input",id:"url"},null,512),[[y,e(o).title]])]),r(k,{label:e(s)("Brand Image"),modelValue:e(o).preview,"onUpdate:modelValue":l[5]||(l[5]=n=>e(o).preview=n),class:"mb-2"},null,8,["label","modelValue"]),t("div",At,[t("label",null,a(e(s)("Type")),1),c(t("select",{class:"select",name:"type","onUpdate:modelValue":l[6]||(l[6]=n=>e(o).type=n),id:"type",required:""},[t("option",It,a(e(s)("Partner / Brand")),1),t("option",$t,a(e(s)("Integration Partner")),1)],512),[[h,e(o).type]])]),t("div",Mt,[t("label",null,a(e(s)("Status")),1),c(t("select",{"onUpdate:modelValue":l[7]||(l[7]=n=>e(o).status=n),class:"select",name:"status",id:"status"},[t("option",Nt,a(e(s)("Active")),1),t("option",Tt,a(e(s)("Deactive")),1)],512),[[h,e(o).status]])])]),t("div",Ft,[t("div",Et,[t("button",jt,[t("span",null,a(e(s)("Close")),1)]),r(x,{classes:"btn btn-primary w-full",processing:e(o).processing,"btn-text":e(s)("Save Changes")},null,8,["processing","btn-text"])])])],32)])],64)}}});export{ae as default};
