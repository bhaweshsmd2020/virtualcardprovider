import{j as f,T as A,i as L,k as S,o as u,c as m,a as _,b as e,t as o,l as i,v as r,u as l,m as y,e as V,F as M,r as U,w as k,f as F}from"./app-8b08b02b.js";import{_ as N}from"./AdminLayout-2a0b7492.js";import{P as I}from"./PageHeader-f9559e85.js";import{S as P}from"./SpinnerBtn-92ab3ac7.js";import{_ as E}from"./RichEditor-1062f286.js";import{t as v}from"./toastComposable-d43a11ef.js";import"./dropdown-dfddaeee.js";import"./moment-a9aaa855.js";import"./sharedComposable-7773727f.js";import"./Modal-68ba130b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-e495c250.js";const T={class:"container flex-grow p-4 sm:p-6"},q={class:"card card-body space-y-3"},B={class:"label mb-1"},D=["placeholder"],R={class:"grid grid-cols-2 gap-3"},z={class:"label mb-1",for:"currency_id"},$={class:"label mb-1"},j=["placeholder"],O={class:"grid grid-cols-2 gap-3"},H={class:"label mb-1"},G=["placeholder"],J={class:"label mb-1"},K=["placeholder"],Q={class:"label mb-1"},W={value:"",disabled:""},X={value:"fixed"},Y={value:"percentage"},Z={key:0},ee={class:"label mb-1"},te={key:1},se={class:"label mb-1"},ae={class:"label mb-1"},le={class:"label mb-1"},ne={class:"card card-body"},oe=e("p",{class:"col-span-full mb-2 text-lg font-semibold"},"Exchange Rate",-1),ie={class:"grid grid-cols-2 gap-3"},re={class:"label mb-1 uppercase"},de=["onUpdate:modelValue"],ce={class:"card card-body space-y-3"},ue={class:"space-y-3"},me={class:"grid grid-cols-12"},pe={class:"col-span-5"},_e={class:"label mb-1"},be={class:"col-span-6"},he={class:"label mb-1"},ge={class:"col-span-5"},ye=["onUpdate:modelValue"],ve={class:"col-span-6"},fe=["onUpdate:modelValue"],Ve={value:"text"},Me={value:"number"},Ue={value:"textarea"},we={value:"email"},Ce={class:"col-span-1"},xe=["onClick"],Ae=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-x-circle",viewBox:"0 0 16 16"},[e("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),e("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})],-1),Le=[Ae],Se={class:"label mb-1"},ke={value:"1"},Fe={value:"0"},Ne=F({layout:N}),He=Object.assign(Ne,{__name:"Create",props:["segments","buttons","currencies"],setup(b){const h=b,d=f([{type:"",label:""}]);f([]);const s=A({name:"",currency_name:"",delay:"",min_limit:"",max_limit:"",fixed_charge:"",charge_type:"",percent_charge:"",image:"",instruction:"",status:1,inputs:[],rates:{}});L(()=>{for(let t=0;t<h.currencies.length;t++)s.rates.hasOwnProperty(h.currencies[t])||(s.rates[h.currencies[t]]="")});const w=()=>{if(d.value.length>=10){v.danger("10 Max, Limit Reached");return}const t={type:"",label:""};d.value.push(t)},C=t=>{if(d.value.length<=1){v.danger("1 Min, Limit Reached");return}d.value=d.value.filter((n,g)=>g!==t)},x=()=>{s.inputs=d.value,s.post(route("admin.payout-methods.store"),{onSuccess:()=>{v.success("Method Created successfully")}})};return(t,n)=>{const g=S("Icon");return u(),m("main",T,[_(I,{title:"New Payout Method",segments:b.segments,buttons:b.buttons},null,8,["segments","buttons"]),e("form",{class:"mx-auto max-w-3xl space-y-4",method:"post",onSubmit:k(x,["prevent"]),enctype:"multipart/form-data"},[e("div",q,[e("div",null,[e("label",B,o(t.trans("Method Name")),1),i(e("input",{type:"text",class:"input",placeholder:t.trans("Method Name"),required:"",name:"name","onUpdate:modelValue":n[0]||(n[0]=a=>l(s).name=a)},null,8,D),[[r,l(s).name]])]),e("div",R,[e("div",null,[e("label",z,o(t.trans("Enter Currency Name")),1),i(e("input",{type:"text",class:"input",name:"currency",required:"","onUpdate:modelValue":n[1]||(n[1]=a=>l(s).currency_name=a)},null,512),[[r,l(s).currency_name]])]),e("div",null,[e("label",$,o(t.trans("Delay (Processing Days)")),1),i(e("input",{type:"number",class:"input",name:"delay",placeholder:t.trans("Delay"),"onUpdate:modelValue":n[2]||(n[2]=a=>l(s).delay=a)},null,8,j),[[r,l(s).delay]])])]),e("div",O,[e("div",null,[e("label",H,o(t.trans("Minimum Amount")),1),i(e("input",{"onUpdate:modelValue":n[3]||(n[3]=a=>l(s).min_limit=a),type:"number",class:"input",placeholder:t.trans("Minimum Amount"),required:"",name:"min_limit"},null,8,G),[[r,l(s).min_limit]])]),e("div",null,[e("label",J,o(t.trans("Maximum Amount")),1),i(e("input",{"onUpdate:modelValue":n[4]||(n[4]=a=>l(s).max_limit=a),type:"number",class:"input",placeholder:t.trans("Maximum Amount"),required:"",name:"max_limit"},null,8,K),[[r,l(s).max_limit]])])]),e("div",null,[e("label",Q,o(t.trans("Charge Type")),1),i(e("select",{class:"select","onUpdate:modelValue":n[5]||(n[5]=a=>l(s).charge_type=a)},[e("option",W,o(t.trans("Select charge type")),1),e("option",X,o(t.trans("Fixed")),1),e("option",Y,o(t.trans("Percentage")),1)],512),[[y,l(s).charge_type]])]),l(s).charge_type==="fixed"?(u(),m("div",Z,[e("label",ee,o(t.trans("Enter Amount For Fixed Charge")),1),i(e("input",{"onUpdate:modelValue":n[6]||(n[6]=a=>l(s).fixed_charge=a),type:"number",class:"input",name:"fixed_charge",placeholder:"Fixed Amount",step:"any"},null,512),[[r,l(s).fixed_charge]])])):V("",!0),l(s).charge_type==="percentage"?(u(),m("div",te,[e("label",se,o(t.trans("Enter Percentage Amount")),1),i(e("input",{step:"any","onUpdate:modelValue":n[7]||(n[7]=a=>l(s).percent_charge=a),type:"number",class:"input",name:"percent_charge"},null,512),[[r,l(s).percent_charge]])])):V("",!0),e("div",null,[e("label",ae,o(t.trans("Currency Image")),1),e("input",{type:"file",class:"input",required:"",name:"image",onInput:n[8]||(n[8]=a=>l(s).image=a.target.files[0])},null,32)]),e("div",null,[e("label",le,o(t.trans("Instruction")),1),_(E,{modelValue:l(s).instruction,"onUpdate:modelValue":n[9]||(n[9]=a=>l(s).instruction=a)},null,8,["modelValue"])])]),e("div",ne,[oe,e("div",ie,[(u(!0),m(M,null,U(l(s).rates,(a,c)=>(u(),m("div",{key:c},[e("label",re,o(c),1),i(e("input",{type:"number",step:"any",placeholder:"Rate",class:"input","onUpdate:modelValue":p=>l(s).rates[c]=p},null,8,de),[[r,l(s).rates[c]]])]))),128))])]),e("div",ce,[e("div",ue,[e("div",me,[e("div",pe,[e("label",_e,o(t.trans("Label")),1)]),e("div",be,[e("label",he,o(t.trans("Input Type")),1)]),e("button",{type:"button",onClick:w,class:"btn btn-primary py-2"},[_(g,{icon:"bx:plus",class:"text-lg"})])]),(u(!0),m(M,null,U(d.value,(a,c)=>(u(),m("div",{key:c,class:"grid grid-cols-12 gap-3"},[e("div",ge,[i(e("input",{type:"text","data-key":"0",class:"input",placeholder:"Label here","onUpdate:modelValue":p=>a.label=p},null,8,ye),[[r,a.label]])]),e("div",ve,[i(e("select",{"onUpdate:modelValue":p=>a.type=p,class:"select"},[e("option",Ve,o(t.trans("Text")),1),e("option",Me,o(t.trans("Number")),1),e("option",Ue,o(t.trans("Textarea")),1),e("option",we,o(t.trans("Email")),1)],8,fe),[[y,a.type]])]),e("div",Ce,[e("button",{type:"button",onClick:p=>C(c),class:"btn btn-danger py-3",title:"Remove"},Le,8,xe)])]))),128))]),e("div",null,[e("label",Se,o(t.trans("Status")),1),i(e("select",{"onUpdate:modelValue":n[10]||(n[10]=a=>l(s).status=a),name:"status",class:"select"},[e("option",ke,o(t.trans("Active")),1),e("option",Fe,o(t.trans("Inactive")),1)],512),[[y,l(s).status]])]),_(P,{classes:"btn btn-primary",processing:l(s).processing,"btn-text":t.trans("Save")},null,8,["processing","btn-text"])])],32)])}}});export{He as default};
