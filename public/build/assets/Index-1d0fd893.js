import{i as U,T as y,k as $,o as i,c as r,b as e,a as m,t as a,F as h,r as g,d as j,w as q,l as c,v as b,u as o,m as w,O as A}from"./app-55c25e51.js";import{_ as B}from"./AdminLayout-d7dc3a0b.js";import{t as k}from"./toastComposable-bc1f97e9.js";import{S as x}from"./SpinnerBtn-5f5f7277.js";import{P as E}from"./PageHeader-8abf30c3.js";import{P as N}from"./Paginate-d3bcd4a4.js";import{s as L}from"./sharedComposable-713147fd.js";import{d as _}from"./drawer-fe4c5e1a.js";import{_ as M}from"./NoDataFound-c4885428.js";import"./dropdown-8ee40221.js";import"./moment-a9aaa855.js";import"./Modal-522ea419.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-869d906f.js";const P={class:"container flex-grow p-4 sm:p-6"},I={class:"space-y-6"},O={class:"table-responsive whitespace-nowrap rounded-primary"},Q={class:"table"},T={class:"text-right"},H={class:"text-right"},R={class:"flex justify-end"},z={key:0},G={class:"text-left"},J={class:"text-left"},K={class:"text-left"},W={class:"text-right"},X={class:"flex justify-end"},Y={class:"dropdown","data-placement":"bottom-start"},Z={class:"dropdown-toggle"},ee={class:"dropdown-content w-40"},te={class:"dropdown-list"},se={class:"dropdown-list-item"},ae=["onClick"],ne={class:"dropdown-list-item"},oe=["onClick"],le={class:"card-footer py-4"},ie={id:"addNewFaqDrawer",class:"drawer drawer-right"},re={class:"drawer-header"},de=e("button",{type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},[e("i",{"data-feather":"x",width:"1.5rem",height:"1.5rem"})],-1),ue={class:"drawer-body"},ce={class:"mb-2"},me={class:"mb-2"},pe={class:"mb-2"},he=["value"],ge={class:"mb-2"},be=["value"],we={class:"drawer-footer"},_e={class:"flex justify-between gap-2"},ve={type:"button",class:"btn btn-secondary w-full","data-dismiss":"drawer"},fe={id:"editFaqDrawer",class:"drawer drawer-right"},ye={class:"drawer-header"},qe=e("button",{type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},[e("i",{"data-feather":"x",width:"1.5rem",height:"1.5rem"})],-1),ke={class:"drawer-body"},xe={class:"mb-2"},Fe={class:"mb-2"},Ce={class:"mb-2"},Se=["value","selected"],Ve={class:"mb-2"},De=["value"],Ue={class:"drawer-footer"},$e={class:"flex justify-between gap-2"},je={type:"button",class:"btn btn-secondary w-full","data-dismiss":"drawer"},Ae={layout:B},Je=Object.assign(Ae,{__name:"Index",props:["buttons","faqs","languages","categories"],setup(u){U(()=>{_.init()});const{textExcerpt:v,deleteRow:F}=L(),d=y({question:null,answer:null,categories:null,language:null}),l=y({question:null,answer:null,categories:null,language:null,id:null});function C(s){var n;l.question=s.title,l.answer=s.excerpt.value,l.categories=((n=s.faq_categories[0])==null?void 0:n.id)||null,l.language=s.lang,l.id=s.id,_.of("#editFaqDrawer").show()}const S=()=>{d.post(route("admin.faq.store"),{onSuccess:()=>{d.reset(),k.success(trans("Faq has been added successfully")),_.of("#addNewFaqDrawer").hide()}})},V=()=>{A.patch(route("admin.faq.update",l.id),l,{onSuccess:()=>{l.value={},k.success(trans("Faq has been updated successfully")),_.of("#editFaqDrawer").hide()}})};return(s,n)=>{const f=$("Icon");return i(),r(h,null,[e("main",P,[m(E,{title:s.trans("Frequently asked questions"),buttons:u.buttons},null,8,["title","buttons"]),e("div",I,[e("div",O,[e("table",Q,[e("thead",null,[e("tr",null,[e("th",null,a(s.trans("Question")),1),e("th",null,a(s.trans("Answer")),1),e("th",T,a(s.trans("Category")),1),e("th",H,a(s.trans("Language")),1),e("th",R,a(s.trans("Action")),1)])]),u.faqs.total?(i(),r("tbody",z,[(i(!0),r(h,null,g(u.faqs.data,t=>{var p;return i(),r("tr",{key:t.id},[e("td",G,a(o(v)(t.title,20)),1),e("td",J,a(o(v)(t.excerpt.value,70)),1),e("td",K,a(o(v)(((p=t.faq_categories[0])==null?void 0:p.title)||"",70)),1),e("td",W,a(t.lang),1),e("td",X,[e("div",Y,[e("div",Z,[m(f,{class:"text-lg w-30",icon:"bi:three-dots-vertical"})]),e("div",ee,[e("ul",te,[e("li",se,[e("button",{type:"button",onClick:D=>C(t),class:"dropdown-link"},[m(f,{class:"h-6 text-slate-400",icon:"material-symbols:edit-outline"}),e("span",null,a(s.trans("Edit")),1)],8,ae)]),e("li",ne,[e("button",{class:"dropdown-link",onClick:D=>o(F)("/admin/faq/"+t.id)},[m(f,{class:"h-6",icon:"material-symbols:delete-outline"}),e("span",null,a(s.trans("Delete")),1)],8,oe)])])])])])])}),128))])):(i(),j(M,{key:1,"for-table":"true"}))])]),e("div",le,[m(N,{links:u.faqs.links},null,8,["links"])])])]),e("div",ie,[e("form",{onSubmit:n[4]||(n[4]=q(t=>S(),["prevent"]))},[e("div",re,[e("h5",null,a(s.trans("Add New Faq")),1),de]),e("div",ue,[e("div",ce,[e("label",null,a(s.trans("Question")),1),c(e("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=t=>o(d).question=t),maxlength:"150",class:"input",required:""},null,512),[[b,o(d).question]])]),e("div",me,[e("label",null,a(s.trans("Answer")),1),c(e("textarea",{class:"textarea h-100",maxlength:"500","onUpdate:modelValue":n[1]||(n[1]=t=>o(d).answer=t),required:""},null,512),[[b,o(d).answer]])]),e("div",pe,[e("label",null,a(s.trans("Select Category")),1),c(e("select",{class:"select",name:"category","onUpdate:modelValue":n[2]||(n[2]=t=>o(d).categories=t),required:""},[(i(!0),r(h,null,g(u.categories,t=>(i(),r("option",{key:t.id,value:t.id},a(t.title),9,he))),128))],512),[[w,o(d).categories]])]),e("div",ge,[e("label",null,a(s.trans("Select Language")),1),c(e("select",{class:"select",name:"language",required:"","onUpdate:modelValue":n[3]||(n[3]=t=>o(d).language=t)},[(i(!0),r(h,null,g(u.languages,(t,p)=>(i(),r("option",{key:t.key,value:p},a(t),9,be))),128))],512),[[w,o(d).language]])])]),e("div",we,[e("div",_e,[e("button",ve,[e("span",null,a(s.trans("Close")),1)]),m(x,{classes:"btn btn-primary w-full",processing:o(d).processing,"btn-text":s.trans("Create")},null,8,["processing","btn-text"])])])],32)]),e("div",fe,[e("form",{onSubmit:n[9]||(n[9]=q(t=>V(),["prevent"]))},[e("div",ye,[e("h5",null,a(s.trans("Edit Faq")),1),qe]),e("div",ke,[e("div",xe,[e("label",null,a(s.trans("Question")),1),c(e("input",{type:"text",name:"question","onUpdate:modelValue":n[5]||(n[5]=t=>o(l).question=t),maxlength:"150",class:"input",id:"question",required:""},null,512),[[b,o(l).question]])]),e("div",Fe,[e("label",null,a(s.trans("Answer")),1),c(e("textarea",{class:"textarea h-100","onUpdate:modelValue":n[6]||(n[6]=t=>o(l).answer=t),maxlength:"500",name:"answer",required:"",id:"answer"},null,512),[[b,o(l).answer]])]),e("div",Ce,[e("label",null,a(s.trans("Select Categories")),1),c(e("select",{class:"select",name:"position","onUpdate:modelValue":n[7]||(n[7]=t=>o(l).categories=t),id:"position",required:""},[(i(!0),r(h,null,g(u.categories,t=>(i(),r("option",{key:t.id,value:t.id,selected:t.id==o(l).categories},a(t.title),9,Se))),128))],512),[[w,o(l).categories]])]),e("div",Ve,[e("label",null,a(s.trans("Select Language")),1),c(e("select",{class:"select",name:"language",required:"","onUpdate:modelValue":n[8]||(n[8]=t=>o(l).language=t)},[(i(!0),r(h,null,g(u.languages,(t,p)=>(i(),r("option",{key:t.key,value:p},a(t),9,De))),128))],512),[[w,o(l).language]])])]),e("div",Ue,[e("div",$e,[e("button",je,[e("span",null,a(s.trans("Close")),1)]),m(x,{classes:"btn btn-primary w-full",processing:o(l).processing,"btn-text":s.trans("Save Changes")},null,8,["processing","btn-text"])])])],32)])],64)}}});export{Je as default};
