import{T as h,i as f,k as C,o as d,c as p,a as m,b as e,t as r,w,l as c,v as u,u as i,h as _,F as S,r as V,m as U,f as k,p as P}from"./app-8b08b02b.js";import{_ as M}from"./AdminLayout-2a0b7492.js";import{P as B}from"./PageHeader-f9559e85.js";import{S as I}from"./SpinnerBtn-92ab3ac7.js";import{t as L}from"./toastComposable-d43a11ef.js";import"./dropdown-dfddaeee.js";import"./moment-a9aaa855.js";import"./sharedComposable-7773727f.js";import"./Modal-68ba130b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-e495c250.js";const T={class:"container p-4 sm:p-6"},A={class:"space-y-6"},D={class:"grid grid-cols-1 lg:grid-cols-12"},E={class:"lg:col-span-5"},F={class:"lg:col-span-7"},N={class:"card card-body"},R={class:"mb-2"},q={class:"label mb-1"},x={class:"mb-2 mt-2"},H={class:"label mb-1"},j={class:"label mb-1"},O={class:"text-xs"},$={class:"col-span-full"},z={class:"card card-body grid grid-cols-2 gap-3"},G={class:"label mb-1 uppercase"},J=["onUpdate:modelValue"],K={class:"col-span-full"},Q={class:"card-body card"},W={class:"mb-2"},X={class:"mb-2"},Y={value:"left"},Z={value:"right"},ee={class:"mb-2 mt-3"},se=k({layout:M}),me=Object.assign(se,{__name:"Currency",props:["segments","id","rates","virtualCurrency","currencies","base_currency"],setup(y){const o=y,a=h({_method:"PATCH",currency:o.virtualCurrency.currency,preview:o.virtualCurrency.preview,precision:o.virtualCurrency.precision,rates:[],virtual_currency_id:o.virtualCurrency.id,icon:o.base_currency.icon,position:o.base_currency.position});f(()=>{var s;for(const n of o.currencies){const l=o.rates.find(t=>n.id==t.virtual_currency_exchange_id);a.rates.push({id:l?l.virtual_currency_exchange_id:n.id,currency:l?(s=l.exchange_currency)==null?void 0:s.currency:n.currency,rate:l?+l.rate:1})}});function v(){a.post(route("admin.developer-settings.update",o.id),{onSuccess:()=>{L.success("Settings has been updated successfully")}})}return(s,n)=>{const l=C("Link");return d(),p("main",T,[m(B,{title:s.trans("Currency Settings")},null,8,["title"]),e("div",A,[e("div",D,[e("div",E,[e("strong",null,r(s.trans("App Default Currency Settings")),1),e("p",null,r(s.trans("Edit App Currency settings")),1)]),e("div",F,[e("form",{onSubmit:w(v,["prevent"]),class:"space-y-3"},[e("div",N,[e("div",R,[e("label",q,r(s.trans("Currency")),1),c(e("input",{"onUpdate:modelValue":n[0]||(n[0]=t=>i(a).currency=t),type:"text",name:"currency",required:"",class:"input"},null,512),[[u,i(a).currency]])]),e("div",x,[e("label",H,r(s.trans("Image (Preview)")),1),e("input",{onInput:n[1]||(n[1]=t=>i(a).preview=t.target.files[0]),type:"file",class:"input",name:"preview",accept:"image/*"},null,32)]),e("div",null,[e("label",j,[_(r(s.trans("Precision"))+" ",1),e("span",O,"( "+r(s.trans("Min:2"))+" )",1)]),c(e("input",{type:"number",step:"any",placeholder:"Precision",class:"input","onUpdate:modelValue":n[2]||(n[2]=t=>i(a).precision=t)},null,512),[[u,i(a).precision]])])]),e("p",$,r(s.trans("Exchange Rate")),1),e("div",z,[(d(!0),p(S,null,V(i(a).rates,(t,b)=>(d(),p("div",{key:b},[e("label",G,r(t.currency),1),c(e("input",{type:"number",step:"any",placeholder:"Rate",class:"input","onUpdate:modelValue":g=>t.rate=g},null,8,J),[[u,t.rate]]),m(l,{class:"text-xs hover:underline",href:s.route("admin.virtual-currency.edit",t.id)},{default:P(()=>[_(" * "+r(s.trans("update related exchange rate")),1)]),_:2},1032,["href"])]))),128))]),e("p",K,r(s.trans("Currency Format")),1),e("div",Q,[e("div",W,[e("label",null,r(s.trans("Currency Icon")),1),c(e("input",{type:"text","onUpdate:modelValue":n[3]||(n[3]=t=>i(a).icon=t),class:"input",required:""},null,512),[[u,i(a).icon]])]),e("div",X,[e("label",null,r(s.trans("Currency Icon")),1),c(e("select",{class:"select","onUpdate:modelValue":n[4]||(n[4]=t=>i(a).position=t)},[e("option",Y,r(s.trans("Left")),1),e("option",Z,r(s.trans("Right")),1)],512),[[U,i(a).position]])])]),e("div",ee,[m(I,{classes:"btn btn-primary",processing:i(a).processing,"btn-text":s.trans("Update")},null,8,["processing","btn-text"])])],32)])])])])}}});export{me as default};
