import{i as L,T as N,k as C,o as i,c as l,b as e,a as c,F as m,r as U,d as T,w as j,t as n,l as _,v as f,u as o,f as D,h as b,e as E,p as F}from"./app-8b08b02b.js";import{_ as I}from"./AdminLayout-2a0b7492.js";import{_ as M}from"./NoDataFound-f8b61a7b.js";import{P as q}from"./PageHeader-f9559e85.js";import{s as A}from"./sharedComposable-7773727f.js";import{d as P}from"./drawer-fe4c5e1a.js";import{S as H}from"./SpinnerBtn-92ab3ac7.js";import{t as R}from"./toastComposable-d43a11ef.js";import{_ as z}from"./ImageInput.vue_vue_type_script_setup_true_lang-64fbfcdd.js";import"./dropdown-dfddaeee.js";import"./moment-a9aaa855.js";import"./Modal-68ba130b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-e495c250.js";const G={class:"container flex-grow p-4 sm:p-6"},J={class:"space-y-6"},K={key:0,class:"grid grid-cols-1 gap-5 sm:grid-cols-2 xl:grid-cols-4"},Q={class:"card-body flex h-full flex-col justify-between"},W={class:"text-center"},X={class:"text-muted"},Y=e("hr",{class:"mt-3 opacity-60"},null,-1),Z={key:0,class:"mt-3 text-left"},ee={key:0,class:"far fa-check-circle text-green-600"},te={key:1,class:"far fa-times-circle text-red-600"},se={class:"mt-4"},ne=e("hr",{class:"opacity-60"},null,-1),ae={class:"mt-4 flex justify-center gap-2"},oe=["onClick"],re={id:"planSettingDrawer",class:"drawer drawer-right"},ie={class:"drawer-header"},le=e("button",{type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},[e("i",{"data-feather":"x",width:"1.5rem",height:"1.5rem"})],-1),de={class:"drawer-body"},ce={class:"mb-2"},pe={class:"mb-2"},ue={class:"mb-2"},me={class:"mb-2"},_e={class:"drawer-footer"},fe={class:"flex gap-2"},be={type:"button",class:"btn btn-secondary flex-1","data-dismiss":"drawer"},ve=e("div",{class:"drawer-backdrop"},null,-1),he=D({layout:I}),Ne=Object.assign(he,{__name:"Index",props:["segments","buttons","plans","planSetting"],setup(u){var h,g,y,w,k,S,x;L(()=>{P.init()});const p=u,{deleteRow:B}=A(),a=N({overview:(h=p.planSetting)==null?void 0:h.overview,percentage:(g=p.planSetting)==null?void 0:g.percentage,plan_data:{cards:(w=(y=p.planSetting)==null?void 0:y.plan_data)==null?void 0:w.cards,deposit_fee:(S=(k=p.planSetting)==null?void 0:k.plan_data)==null?void 0:S.deposit_fee},banner:(x=p.planSetting)==null?void 0:x.banner,_method:"put"});function O(){a.post(route("admin.option.update","plan"),{onSuccess:()=>{R.success("Option Updated successfully"),P.of("#planSettingDrawer").hide()}})}return(s,r)=>{const V=C("Icon"),$=C("Link");return i(),l(m,null,[e("main",G,[c(q,{title:s.trans("Subscriptions"),buttons:u.buttons},null,8,["title","buttons"]),e("div",J,[u.plans.length!=0?(i(),l("div",K,[(i(!0),l(m,null,U(u.plans,t=>(i(),l("div",{class:"card",key:t.id},[e("div",Q,[e("div",null,[e("div",W,[e("h5",null,n(t.title),1),e("h4",null,n(t.price_format),1),b(" "+n(t.days===30?s.trans("Per month"):t.days===365?s.trans("Per year"):s.trans("Lifetime"))+" ",1),e("p",X,n(s.trans("Active Users"))+" ("+n(t.activeuser_count)+")",1)]),Y,(i(!0),l(m,null,U(t.data,(d,v)=>(i(),l(m,{key:v},[v!=="stock_content"?(i(),l("div",Z,[d.value?(i(),l("i",ee)):(i(),l("i",te)),b(" "+n(v.replace(/_/g," "))+" "+n(d.value=="-1"?"(Unlimited)":d.value=="true"||d.value=="false"?"":`(${d.value})`),1)])):E("",!0)],64))),128))]),e("div",se,[ne,e("div",ae,[c($,{href:s.route("admin.plan.edit",t.id),class:"btn btn-primary px-5"},{default:F(()=>[c(V,{icon:"fe:pencil"}),b(" "+n(s.trans("Edit")),1)]),_:2},1032,["href"]),e("button",{onClick:d=>t.activeuser_count==0?o(B)("/admin/plan/"+t.id):s.toastError(),class:"btn btn-sm btn-danger delete-confirm px-5 text-left","data-icon":"bx bx-plus-circle"},[c(V,{icon:"fe:trash"}),b(" "+n(s.trans("Delete")),1)],8,oe)])])])]))),128))])):(i(),T(M,{key:1}))])]),e("div",re,[e("form",{method:"POST",onSubmit:j(O,["prevent"])},[e("div",ie,[e("h5",null,n(s.trans("Plan Description")),1),le]),e("div",de,[e("div",ce,[e("label",null,n(s.trans("Overview")),1),_(e("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=t=>o(a).overview=t),class:"input",required:""},null,512),[[f,o(a).overview]])]),e("div",pe,[e("label",null,n(s.trans("Save Percentage")),1),_(e("input",{type:"number","onUpdate:modelValue":r[1]||(r[1]=t=>o(a).percentage=t),class:"input",required:""},null,512),[[f,o(a).percentage]])]),e("div",ue,[e("label",null,n(s.trans("Cards")),1),_(e("input",{type:"text","onUpdate:modelValue":r[2]||(r[2]=t=>o(a).plan_data.cards=t),class:"input"},null,512),[[f,o(a).plan_data.cards]])]),e("div",me,[e("label",null,n(s.trans("Deposit Fee")),1),_(e("input",{type:"text","onUpdate:modelValue":r[3]||(r[3]=t=>o(a).plan_data.deposit_fee=t),class:"input"},null,512),[[f,o(a).plan_data.deposit_fee]])]),c(z,{modelValue:o(a).banner,"onUpdate:modelValue":r[4]||(r[4]=t=>o(a).banner=t),label:s.trans("Banner")},null,8,["modelValue","label"])]),e("div",_e,[e("div",fe,[e("button",be,[e("span",null,n(s.trans("Close")),1)]),c(H,{classes:"btn btn-primary flex-1",processing:o(a).processing,"btn-text":s.trans("Save Changes")},null,8,["processing","btn-text"])])])],32),ve])],64)}}});export{Ne as default};
