import{T as U,k as v,o as c,c as m,a as d,b as e,t as n,w as k,l as i,v as r,u as a,m as C,s as u,e as P,F as q,r as x,f as F}from"./app-55c25e51.js";import{_ as I}from"./AdminLayout-d7dc3a0b.js";import{S as D}from"./SpinnerBtn-5f5f7277.js";import{P as S}from"./PageHeader-8abf30c3.js";import{t as T}from"./toastComposable-bc1f97e9.js";import"./dropdown-8ee40221.js";import"./moment-a9aaa855.js";import"./sharedComposable-713147fd.js";import"./Modal-522ea419.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-869d906f.js";const E={class:"container flex-grow p-4 sm:p-6"},M={class:"space-y-6"},O={class:"card card-body flex-1"},B={class:"my-2"},N={class:"my-2"},A={class:"my-2"},$={class:"label mb-2"},L={class:"my-2"},j={value:"30"},H={value:"365"},K={value:"999999"},z={class:"my-2"},G={class:"mb-2"},J={for:"toggle-featured",class:"toggle toggle-sm"},Q=e("div",{class:"toggle-body"},null,-1),R={class:"label label-md"},W={class:"mb-2"},X={for:"toggle-is_recommended",class:"toggle toggle-sm"},Y=e("div",{class:"toggle-body"},null,-1),Z={class:"label label-md"},ee={class:"mb-2"},se={for:"toggle-is_default",class:"toggle toggle-sm"},te=e("div",{class:"toggle-body"},null,-1),le={class:"label label-md"},ae={class:"mb-2"},oe={for:"toggle-is_trial",class:"toggle toggle-sm"},ne=e("div",{class:"toggle-body"},null,-1),ie={class:"label label-md"},re={key:0,class:"from-group trial-days mb-2 mt-2"},de={class:"col-lg-12"},ue={class:"col-lg-12"},pe={class:"mb-2"},ce={for:"toggle-status",class:"toggle toggle-sm"},me=e("div",{class:"toggle-body"},null,-1),_e={class:"label label-md"},be={class:"mt-6"},ve={class:"card card-body flex-1 space-y-2"},ge={class:"my-2"},fe={class:"label mb-1"},ye={class:"label mb-1"},he={class:"my-2"},Ve={class:"label mb-1"},we={class:"label mb-1"},Ue={class:"my-2"},ke={class:"label mb-1"},Ce={class:"label mb-1"},Pe={class:"my-2"},qe={class:"label mb-1"},xe={class:"label mb-1"},Fe={class:"mb-2"},Ie={class:"label mb-2 block font-semibold"},De=["onUpdate:modelValue"],Se=["onUpdate:modelValue"],Te=["onClick"],Ee=F({layout:I}),Ge=Object.assign(Ee,{__name:"Create",props:["segments","buttons"],setup(g){const s=U({title:null,description:null,preview:"",days:30,price:null,plan_data:{cards:{value:0,overview:""},deposit_fee:{value:0,overview:""},transaction_fee:{value:0,overview:""},service_fee:{value:0,overview:""}},extra_data:[],is_featured:!1,is_recommended:!1,is_trial:!1,is_default:!1,status:!0,trial_days:0}),f={key:"",value:""},y=()=>{s.extra_data.push({...f})},h=o=>{s.extra_data.splice(o,1)};function V(){var o,t;s.extra_data.length<2&&!((o=s.extra_data[0])!=null&&o.key)&&!((t=s.extra_data[0])!=null&&t.value)&&(s.extra_data=null),s.post(route("admin.plan.store"),{onSuccess:()=>{T.success("Plan created successfully")}})}return(o,t)=>{const w=v("InputFieldError"),_=v("Icon");return c(),m("main",E,[d(S,{title:o.trans("Create Plan"),buttons:g.buttons},null,8,["title","buttons"]),e("div",M,[e("div",null,[e("strong",null,n(o.trans("Create Plan")),1),e("p",null,n(o.trans("Create subscription plan for charging from the customer")),1)]),e("form",{class:"flex flex-col-reverse items-start gap-8 lg:flex-row",onSubmit:t[19]||(t[19]=k(l=>V(),["prevent"]))},[e("div",O,[e("strong",null,n(o.trans("Plan Details")),1),e("div",B,[e("label",null,n(o.trans("Plan Name")),1),i(e("input",{type:"text",name:"title",required:"",class:"input","onUpdate:modelValue":t[0]||(t[0]=l=>a(s).title=l)},null,512),[[r,a(s).title]])]),e("div",N,[e("label",null,n(o.trans("Plan Description")),1),i(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=l=>a(s).description=l),required:"",class:"textarea"},null,512),[[r,a(s).description]])]),e("div",A,[e("label",$,n(o.trans("Icon")),1),e("input",{type:"file",onChange:t[2]||(t[2]=l=>a(s).preview=l.target.files[0]),class:"input"},null,32),d(w,{message:a(s).errors.preview},null,8,["message"])]),e("div",L,[e("label",null,n(o.trans("Select Duration")),1),i(e("select",{class:"select",name:"days","onUpdate:modelValue":t[3]||(t[3]=l=>a(s).days=l)},[e("option",j,n(o.trans("Monthly")),1),e("option",H,n(o.trans("yearly")),1),e("option",K,n(o.trans("Lifetime")),1)],512),[[C,a(s).days]])]),e("div",z,[e("label",null,n(o.trans("Price")),1),i(e("input",{type:"number",name:"price","onUpdate:modelValue":t[4]||(t[4]=l=>a(s).price=l),step:"any",required:"",class:"input"},null,512),[[r,a(s).price]])]),e("div",G,[e("label",J,[i(e("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>a(s).is_featured=l),class:"toggle-input peer sr-only",id:"toggle-featured",type:"checkbox"},null,512),[[u,a(s).is_featured]]),Q,e("span",R,n(o.trans("Is Featured?")),1)])]),e("div",W,[e("label",X,[i(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>a(s).is_recommended=l),class:"toggle-input peer sr-only",id:"toggle-is_recommended",type:"checkbox"},null,512),[[u,a(s).is_recommended]]),Y,e("span",Z,n(o.trans("Is recommended?")),1)])]),e("div",ee,[e("label",se,[i(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>a(s).is_default=l),class:"toggle-input peer sr-only",id:"toggle-is_default",type:"checkbox"},null,512),[[u,a(s).is_default]]),te,e("span",le,n(o.trans("Default Plan"))+" ("+n(o.trans("For free registration"))+")",1)])]),e("div",ae,[e("label",oe,[i(e("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>a(s).is_trial=l),class:"toggle-input peer sr-only",id:"toggle-is_trial",type:"checkbox"},null,512),[[u,a(s).is_trial]]),ne,e("span",ie,n(o.trans("Accept Trial?")),1)])]),a(s).is_trial?(c(),m("div",re,[e("label",de,n(o.trans("Trial days")),1),e("div",ue,[i(e("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=l=>a(s).trial_days=l),name:"trial_days",class:"input",required:""},null,512),[[r,a(s).trial_days]])])])):P("",!0),e("div",pe,[e("label",ce,[i(e("input",{"onUpdate:modelValue":t[10]||(t[10]=l=>a(s).status=l),class:"toggle-input peer sr-only",id:"toggle-status",type:"checkbox"},null,512),[[u,a(s).status]]),me,e("span",_e,n(o.trans("Activate This Plan?")),1)])]),e("div",be,[d(D,{classes:"btn btn-primary",processing:a(s).processing,"btn-text":"Create"},null,8,["processing"])])]),e("div",ve,[e("strong",null,n(o.trans("Plan Perks")),1),e("div",ge,[e("label",fe,n(o.trans("Cards")),1),i(e("input",{type:"number","onUpdate:modelValue":t[11]||(t[11]=l=>a(s).plan_data.cards.value=l),required:"",class:"input"},null,512),[[r,a(s).plan_data.cards.value]]),e("label",ye,n(o.trans("Overview")),1),i(e("textarea",{"onUpdate:modelValue":t[12]||(t[12]=l=>a(s).plan_data.cards.overview=l),required:"",class:"input"},null,512),[[r,a(s).plan_data.cards.overview]])]),e("div",he,[e("label",Ve,n(o.trans("Deposit Fee %")),1),i(e("input",{type:"number","onUpdate:modelValue":t[13]||(t[13]=l=>a(s).plan_data.deposit_fee.value=l),required:"",class:"input"},null,512),[[r,a(s).plan_data.deposit_fee.value]]),e("label",we,n(o.trans("Overview")),1),i(e("textarea",{"onUpdate:modelValue":t[14]||(t[14]=l=>a(s).plan_data.deposit_fee.overview=l),required:"",class:"input"},null,512),[[r,a(s).plan_data.deposit_fee.overview]])]),e("div",Ue,[e("label",ke,n(o.trans("Transaction Fee %")),1),i(e("input",{type:"number","onUpdate:modelValue":t[15]||(t[15]=l=>a(s).plan_data.transaction_fee.value=l),required:"",class:"input"},null,512),[[r,a(s).plan_data.transaction_fee.value]]),e("label",Ce,n(o.trans("Overview")),1),i(e("textarea",{"onUpdate:modelValue":t[16]||(t[16]=l=>a(s).plan_data.transaction_fee.overview=l),required:"",class:"input"},null,512),[[r,a(s).plan_data.transaction_fee.overview]])]),e("div",Pe,[e("label",qe,n(o.trans("Service Fee %")),1),i(e("input",{type:"number","onUpdate:modelValue":t[17]||(t[17]=l=>a(s).plan_data.service_fee.value=l),required:"",class:"input"},null,512),[[r,a(s).plan_data.service_fee.value]]),e("label",xe,n(o.trans("Overview")),1),i(e("textarea",{"onUpdate:modelValue":t[18]||(t[18]=l=>a(s).plan_data.service_fee.overview=l),required:"",class:"input"},null,512),[[r,a(s).plan_data.service_fee.overview]])]),e("div",Fe,[e("label",Ie,n(o.trans("Add Extra Perks")),1),(c(!0),m(q,null,x(a(s).extra_data,(l,b)=>(c(),m("div",{class:"mb-2 flex items-center gap-x-2",key:b},[i(e("input",{type:"text",class:"input",placeholder:"Key","onUpdate:modelValue":p=>l.key=p},null,8,De),[[r,l.key]]),i(e("input",{type:"text",class:"input",placeholder:"Value","onUpdate:modelValue":p=>l.value=p},null,8,Se),[[r,l.value]]),e("button",{type:"button",onClick:p=>h(b),class:"btn btn-danger"},[d(_,{icon:"bx:x",class:"text-lg"})],8,Te)]))),128)),e("button",{type:"button",onClick:y,class:"btn btn-primary"},[d(_,{icon:"bx:plus",class:"text-lg"})])])])],32)])])}}});export{Ge as default};
