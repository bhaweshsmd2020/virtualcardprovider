import{T as V,x as U,o as r,c,a as f,u as e,b as t,t as n,d as k,e as p,w as q,l as d,v as u,m as b,F as E,r as S,f as C,g as l}from"./app-55c25e51.js";import{_ as M}from"./AdminLayout-d7dc3a0b.js";import{t as D}from"./toastComposable-bc1f97e9.js";import{P}from"./PageHeader-8abf30c3.js";import{S as A}from"./SpinnerBtn-5f5f7277.js";import B from"./CoingateInstructions-19ccf350.js";import"./dropdown-8ee40221.js";import"./moment-a9aaa855.js";import"./sharedComposable-713147fd.js";import"./Modal-522ea419.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-869d906f.js";const G={class:"container flex-grow p-4 sm:p-6"},N={class:"space-y-6"},L={class:"grid grid-cols-1 md:grid-cols-2"},j={class:"mt-5"},z={class:"mt-5"},F={class:"card"},I={class:"card-body"},T={class:"mb-4"},$={class:"",for:"name"},H={class:"mb-4"},O={class:"",for:"logo"},J={class:"flex-1"},K={class:"flex justify-start"},Q={key:0,height:"10",width:"30",alt:""},R={class:"mb-4"},W={class:"",for:"currency"},X={key:0,class:"mb-4"},Y={class:"",for:"sandbox"},Z={value:"1"},tt={value:"0"},et={key:1,class:"mb-4"},st={value:"1"},at={value:"0"},ot={class:"mb-4"},nt={class:"",for:"min_amount"},lt={class:"mb-4"},it={class:"",for:"max_amount"},dt={class:"mb-4"},mt={class:"",for:"charge"},ut={class:"mb-4"},rt={class:"",for:"multiply"},ct={class:"",for:"status"},_t=["onUpdate:modelValue"],pt={class:"mb-4"},yt={class:"required block",for:"status"},gt={class:"mb-4"},bt={class:"",for:"status"},ft={value:"1"},ht={value:"0"},vt={class:"mb-4"},wt=C({layout:M}),Bt=Object.assign(wt,{__name:"Edit",props:["segments","buttons","gateway","credentials"],setup(m){const i=m,s=V({_method:"Patch",name:i.gateway.name,logo:"",currency:i.gateway.currency,test_mode:i.gateway.test_mode,min_amount:i.gateway.min_amount,max_amount:i.gateway.max_amount,charge:i.gateway.charge,multiply:i.gateway.multiply,credentials:i.credentials??[],comment:i.gateway.comment,log_enabled:i.gateway.log_enabled,status:i.gateway.status,is_crypto:i.gateway.is_crypto===1});function h(_){return _.charAt(0).toUpperCase()+_.slice(1)}function v(_,a,y){return y.replaceAll(_,a)}function w(){s.post(route("admin.gateways.update",i.gateway.id),{onSuccess:()=>{D.success("Gateway has been updated successfully")}})}return(_,a)=>{const y=U("lazy");return r(),c("main",G,[f(P,{title:e(l)("Edit Payment Gateway"),buttons:m.buttons},null,8,["title","buttons"]),t("div",N,[t("div",L,[t("div",j,[t("strong",null,n(e(l)("Edit Payment Gateway")),1),t("p",null,n(e(l)("Edit gateway information for accepting payment")),1),m.gateway.name=="Coingate"?(r(),k(B,{key:0})):p("",!0)]),t("div",z,[t("form",{onSubmit:q(w,["prevent"])},[t("div",F,[t("div",I,[t("div",T,[t("label",$,n(e(l)("Gateway Name")),1),d(t("input",{type:"text",class:"input",name:"name",id:"name","onUpdate:modelValue":a[0]||(a[0]=o=>e(s).name=o),required:""},null,512),[[u,e(s).name]])]),t("div",H,[t("label",O,n(e(l)("Logo")),1),t("div",J,[t("input",{type:"file",id:"logo",class:"input mb-3",name:"logo",onInput:a[1]||(a[1]=o=>e(s).logo=o.target.files[0])},null,32),t("div",K,[m.gateway.logo!=""?d((r(),c("img",Q,null,512)),[[y,m.gateway.logo]]):p("",!0)])])]),t("div",R,[t("label",W,n(e(l)("Currency")),1),d(t("input",{type:"text",class:"input",name:"currency",id:"currency","onUpdate:modelValue":a[2]||(a[2]=o=>e(s).currency=o),required:""},null,512),[[u,e(s).currency]])]),m.gateway.is_auto==1?(r(),c("div",X,[t("label",Y,n(e(l)("Sandbox Mode")),1),d(t("select",{class:"select flex-1",name:"test_mode",id:"sandbox","onUpdate:modelValue":a[3]||(a[3]=o=>e(s).test_mode=o)},[t("option",Z,n(e(l)("Enable")),1),t("option",tt,n(e(l)("Disable")),1)],512),[[b,e(s).test_mode]])])):p("",!0),m.gateway.name=="Coingate"?(r(),c("div",et,[t("label",null,n(e(l)("Enable Logging")),1),d(t("select",{class:"select flex-1","onUpdate:modelValue":a[4]||(a[4]=o=>e(s).log_enabled=o)},[t("option",st,n(e(l)("Enable")),1),t("option",at,n(e(l)("Disable")),1)],512),[[b,e(s).log_enabled]])])):p("",!0),t("div",ot,[t("label",nt,n(e(l)("Minimum Amount")),1),d(t("input",{type:"number",name:"min_amount",id:"min_amount",step:"any","onUpdate:modelValue":a[5]||(a[5]=o=>e(s).min_amount=o),class:"input",required:""},null,512),[[u,e(s).min_amount]])]),t("div",lt,[t("label",it,n(e(l)("Maximum Amount")),1),d(t("input",{type:"number",name:"max_amount",id:"max_amount",step:"any","onUpdate:modelValue":a[6]||(a[6]=o=>e(s).max_amount=o),class:"input",required:""},null,512),[[u,e(s).max_amount]])]),t("div",dt,[t("label",mt,n(e(l)("Charge")),1),d(t("input",{type:"text",class:"input",name:"charge",id:"charge","onUpdate:modelValue":a[7]||(a[7]=o=>e(s).charge=o),required:""},null,512),[[u,e(s).charge]])]),t("div",ut,[t("label",rt,n(e(l)("Multiply from base currency")),1),d(t("input",{type:"number",step:"any",class:"input","onUpdate:modelValue":a[8]||(a[8]=o=>e(s).multiply=o),required:""},null,512),[[u,e(s).multiply]])]),m.gateway.is_auto==1?(r(!0),c(E,{key:2},S(e(s).credentials,(o,g)=>(r(),c("div",{class:"mb-4",key:o},[t("label",ct,n(h(v("_"," ",g))),1),d(t("input",{type:"text",class:"input","onUpdate:modelValue":x=>e(s).credentials[g]=x,required:""},null,8,_t),[[u,e(s).credentials[g]]])]))),128)):p("",!0),t("div",pt,[t("label",yt,n(e(l)("Payment Instruction")),1),d(t("textarea",{class:"textarea",maxlength:"1000",name:"comment","onUpdate:modelValue":a[9]||(a[9]=o=>e(s).comment=o)},null,512),[[u,e(s).comment]])]),t("div",gt,[t("label",bt,n(e(l)("Status")),1),d(t("select",{class:"select flex-1",name:"status",id:"status","onUpdate:modelValue":a[10]||(a[10]=o=>e(s).status=o)},[t("option",ft,n(e(l)("Active")),1),t("option",ht,n(e(l)("Deactivate")),1)],512),[[b,e(s).status]])]),t("div",vt,[f(A,{processing:e(s).processing},null,8,["processing"])])])])],32)])])])])}}});export{Bt as default};
