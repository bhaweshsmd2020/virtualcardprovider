import{i as q,g as s,T as y,k as x,o as m,c as h,b as t,a as r,u as e,t as n,F as C,r as T,d as k,e as j,w as f,l as d,v as u,m as N,f as A,p as O,h as I}from"./app-8b08b02b.js";import{_ as $}from"./AdminLayout-2a0b7492.js";import{P as B}from"./PageHeader-f9559e85.js";import{_ as F}from"./OverviewGrid-f71a88c2.js";import{P as L}from"./Paginate-50e2af07.js";import{d as S}from"./drawer-fe4c5e1a.js";import{t as M}from"./toastComposable-d43a11ef.js";import{S as w}from"./SpinnerBtn-92ab3ac7.js";import{_ as E}from"./NoDataFound-f8b61a7b.js";import{_ as R}from"./FilterDropdown-576dea2b.js";import{s as z}from"./sharedComposable-7773727f.js";import"./dropdown-dfddaeee.js";import"./moment-a9aaa855.js";import"./Modal-68ba130b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-e495c250.js";const H={class:"container flex-grow p-4 sm:p-6"},G={class:"space-y-4"},J={class:"table-responsive whitespace-nowrap rounded-primary"},K={class:"table"},Q={class:"!text-right"},W={key:0},X={class:"badge badge-soft-primary capitalize"},Y={class:"text-center"},Z={class:"flex justify-end"},tt={class:"dropdown","data-placement":"bottom-start"},et={class:"dropdown-toggle"},st={class:"dropdown-content w-40"},nt={class:"dropdown-list"},ot={class:"dropdown-list-item"},at=t("i",{class:"h-5 text-slate-400","data-feather":"external-link"},null,-1),it={id:"invoiceSettingDrawer",class:"drawer drawer-right"},lt={class:"drawer-header"},rt=t("button",{type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},[t("i",{"data-feather":"x",width:"1.5rem",height:"1.5rem"})],-1),dt={class:"drawer-body"},ct={class:"mb-2"},ut={class:"mb-2"},pt={class:"mb-2"},mt={class:"mb-2"},_t={class:"mb-2"},bt={class:"drawer-footer"},ht={class:"flex justify-between gap-2"},vt={type:"button",class:"btn btn-secondary w-full","data-dismiss":"drawer"},yt={id:"taxSettingDrawer",class:"drawer drawer-right"},ft={class:"drawer-header"},wt=t("button",{type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},[t("i",{"data-feather":"x",width:"1.5rem",height:"1.5rem"})],-1),gt={class:"drawer-body"},xt={class:"mb-2"},Ct={class:"drawer-footer"},kt={class:"flex justify-between gap-2"},Ot={type:"button",class:"btn btn-secondary w-full","data-dismiss":"drawer"},St=t("div",{class:"drawer-backdrop"},null,-1),Pt={id:"currencySettingDrawer",class:"drawer drawer-right"},Vt={class:"drawer-header"},Ut=t("button",{type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},[t("i",{"data-feather":"x",width:"1.5rem",height:"1.5rem"})],-1),Dt={class:"drawer-body"},qt={class:"mb-2"},Tt={class:"mb-2"},jt={class:"mb-2"},Nt={value:"left"},At={value:"right"},It={class:"drawer-footer"},$t={class:"flex justify-between gap-2"},Bt={type:"button",class:"w-full btn btn-secondary","data-dismiss":"drawer"},Ft=A({layout:$}),se=Object.assign(Ft,{__name:"Index",props:["buttons","orders","request","totalOrders","totalPendingOrders","totalCompleteOrders","totalDeclinedOrders","type","currency","invoice","tax"],setup(p){q(()=>{S.init()});const{formatCurrency:P}=z(),i=p,V=[{value:i.totalOrders,title:s("Total Orders"),iconClass:"bx bx-badge-check"},{value:i.totalPendingOrders,title:s("Pending Orders"),iconClass:"bx bx-badge"},{value:i.totalCompleteOrders,title:s("Approved Orders"),iconClass:"bx bx-check"},{value:i.totalDeclinedOrders,title:s("Rejected Orders"),iconClass:"bx bx-x-circle"}],l=y({company_name:i.invoice.company_name,address:i.invoice.address,city:i.invoice.city,post_code:i.invoice.post_code,country:i.invoice.country}),_=y({tax:i.tax});function v(g,a,b){g.put(route("admin.option.update",a),{onSuccess:()=>{M.success("Option Updated successfully"),S.of(b).hide()}})}const c=y({name:i.currency.name,icon:i.currency.icon,position:i.currency.position}),U=[{value:"invoice_no",label:"Order no"},{value:"user_email",label:"User Email"},{label:"Status",value:"status",options:[{label:"Approved",value:"approved"},{label:"Pending",value:"pending"},{label:"Rejected",value:"rejected"}]}];return(g,a)=>{const b=x("Link"),D=x("Icon");return m(),h(C,null,[t("main",H,[r(B,{title:e(s)("Order List"),buttons:p.buttons},null,8,["title","buttons"]),t("div",G,[r(F,{items:V}),r(R,{options:U}),t("div",J,[t("table",K,[t("thead",null,[t("tr",null,[t("th",null,n(e(s)("Order No")),1),t("th",null,n(e(s)("Plan Name")),1),t("th",null,n(e(s)("Payment Mode")),1),t("th",null,n(e(s)("Amount")),1),t("th",null,n(e(s)("Status")),1),t("th",null,n(e(s)("Created At")),1),t("th",Q,n(e(s)("Actions")),1)])]),p.orders.total?(m(),h("tbody",W,[(m(!0),h(C,null,T(p.orders.data,o=>(m(),h("tr",{key:o.id},[t("td",null,[r(b,{href:"/admin/order/"+o.id,class:"text-sm font-medium text-primary-500 transition duration-150 ease-in-out hover:underline"},{default:O(()=>[I(n(o.invoice_no),1)]),_:2},1032,["href"])]),t("td",null,n(o.plan.title),1),t("td",null,n(o.gateway.name),1),t("td",null,n(e(P)(o.amount)),1),t("td",null,[t("div",X,n(e(s)(o.status)),1)]),t("td",Y,n(o.created_at_diff),1),t("td",null,[t("div",Z,[t("div",tt,[t("div",et,[r(D,{class:"w-30 text-lg",icon:"bi:three-dots-vertical"})]),t("div",st,[t("ul",nt,[t("li",ot,[r(b,{href:"/admin/order/"+o.id,class:"dropdown-link"},{default:O(()=>[at,t("span",null,n(e(s)("View")),1)]),_:2},1032,["href"])])])])])])])]))),128))])):(m(),k(E,{key:1,"for-table":"true"}))])]),p.orders.data.length!=0?(m(),k(L,{key:0,links:p.orders.links},null,8,["links"])):j("",!0)])]),t("div",it,[t("form",{method:"POST",onSubmit:a[5]||(a[5]=f(o=>v(e(l),"invoice_data","#invoiceSettingDrawer"),["prevent"]))},[t("div",lt,[t("h5",null,n(e(s)("Edit Invoice Information")),1),rt]),t("div",dt,[t("div",ct,[t("label",null,n(e(s)("Company Name")),1),d(t("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=o=>e(l).company_name=o),class:"input",required:""},null,512),[[u,e(l).company_name]])]),t("div",ut,[t("label",null,n(e(s)("Company Address")),1),d(t("input",{type:"text",name:"data[address]","onUpdate:modelValue":a[1]||(a[1]=o=>e(l).address=o),class:"input",required:""},null,512),[[u,e(l).address]])]),t("div",pt,[t("label",null,n(e(s)("Company City")),1),d(t("input",{type:"text",name:"data[city]","onUpdate:modelValue":a[2]||(a[2]=o=>e(l).city=o),class:"input",required:""},null,512),[[u,e(l).city]])]),t("div",mt,[t("label",null,n(e(s)("Post Code")),1),d(t("input",{type:"text",name:"data[post_code]","onUpdate:modelValue":a[3]||(a[3]=o=>e(l).post_code=o),class:"input",required:""},null,512),[[u,e(l).post_code]])]),t("div",_t,[t("label",null,n(e(s)("Country")),1),d(t("input",{type:"text",name:"data[country]","onUpdate:modelValue":a[4]||(a[4]=o=>e(l).country=o),class:"input",required:""},null,512),[[u,e(l).country]])])]),t("div",bt,[t("div",ht,[t("button",vt,[t("span",null,n(e(s)("Close")),1)]),r(w,{classes:"btn btn-primary w-full",processing:e(l).processing,"btn-text":"Update"},null,8,["processing"])])])],32)]),t("div",yt,[t("form",{method:"POST",onSubmit:a[7]||(a[7]=f(o=>v(e(_),"tax","#taxSettingDrawer"),["prevent"]))},[t("div",ft,[t("h5",null,n(e(s)("Tax Settings")),1),wt]),t("div",gt,[t("div",xt,[t("label",null,n(e(s)("Tax Amount")),1),d(t("input",{type:"number",step:"any",name:"data","onUpdate:modelValue":a[6]||(a[6]=o=>e(_).tax=o),class:"input",required:""},null,512),[[u,e(_).tax]])])]),t("div",Ct,[t("div",kt,[t("button",Ot,[t("span",null,n(e(s)("Close")),1)]),r(w,{classes:"btn btn-primary w-full",processing:e(_).processing,"btn-text":e(s)("Save Changes")},null,8,["processing","btn-text"])])])],32),St]),t("div",Pt,[t("form",{method:"POST",onSubmit:a[11]||(a[11]=f(o=>v(e(c),"base_currency","#currencySettingDrawer"),["prevent"]))},[t("div",Vt,[t("h5",null,n(e(s)("Currency Settings")),1),Ut]),t("div",Dt,[t("div",qt,[t("label",null,n(e(s)("Currency Name")),1),d(t("input",{type:"text",name:"data[name]","onUpdate:modelValue":a[8]||(a[8]=o=>e(c).name=o),class:"input",required:""},null,512),[[u,e(c).name]])]),t("div",Tt,[t("label",null,n(e(s)("Currency Icon")),1),d(t("input",{type:"text",name:"data[icon]","onUpdate:modelValue":a[9]||(a[9]=o=>e(c).icon=o),class:"input",required:""},null,512),[[u,e(c).icon]])]),t("div",jt,[t("label",null,n(e(s)("Currency Icon")),1),d(t("select",{class:"select",name:"data[position]","onUpdate:modelValue":a[10]||(a[10]=o=>e(c).position=o)},[t("option",Nt,n(e(s)("Left")),1),t("option",At,n(e(s)("Right")),1)],512),[[N,e(c).position]])])]),t("div",It,[t("div",$t,[t("button",Bt,[t("span",null,n(e(s)("Close")),1)]),r(w,{classes:"btn btn-primary w-full",processing:e(c).processing,"btn-text":e(s)("Save Changes")},null,8,["processing","btn-text"])])])],32)])],64)}}});export{se as default};
