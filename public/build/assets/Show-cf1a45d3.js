import{T as D,x as j,o,c as n,a as B,b as t,l as h,t as e,h as l,u as d,e as i,F as p,r as S,w as T,m as M,f as O}from"./app-55c25e51.js";import{_ as P}from"./AdminLayout-d7dc3a0b.js";import{P as z}from"./PageHeader-8abf30c3.js";import{s as F}from"./sharedComposable-713147fd.js";import{h as R}from"./moment-a9aaa855.js";import"./dropdown-8ee40221.js";import"./Modal-522ea419.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-869d906f.js";import"./toastComposable-bc1f97e9.js";const V={class:"container flex-grow p-4 sm:p-6"},I={class:"card-body card mt-5 space-y-6"},L={class:"flex flex-col justify-between space-y-4 p-1 md:flex-row"},N={class:"flex items-center justify-center md:justify-start"},A={class:"flex h-16 w-full items-center gap-4 pr-4"},C={alt:"logo",class:"block h-[45px] dark:hidden"},Y={alt:"logo",class:"hidden h-[45px] dark:block"},E={class:"flex flex-col items-start justify-center md:items-end"},U={class:"my-0 py-0 text-sm font-medium text-slate-700 dark:text-slate-300"},$={class:"font-normal text-slate-600 dark:text-slate-300"},q={class:"my-0 py-0 text-sm font-medium text-slate-700 dark:text-slate-300"},W={class:"font-normal capitalize text-slate-600 dark:text-slate-300"},H={key:0,class:"flex flex-col justify-between space-y-6 p-1 md:flex-row md:space-y-0"},G={class:"flex w-full flex-col items-start justify-center md:mb-0 md:w-2/3 md:justify-center"},J={class:"text-xs font-medium uppercase text-slate-400"},K={class:"my-1"},Q={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},X={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},Z={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},tt={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},et={class:"flex w-full flex-col items-start justify-center md:w-1/3 md:items-end"},st={class:"text-xs font-medium uppercase text-slate-400"},at={class:"my-1"},ot={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},nt={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},lt={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},dt={class:"w-full overflow-auto p-1"},it={class:"min-w-[38rem]"},rt={class:"table-responsive whitespace-nowrap rounded-primary border border-slate-200 dark:border-slate-600"},ct={class:"table-striped table-hover table-md table"},mt={class:"text-end"},ut={class:"text-end"},ht={class:"mt-4 flex items-stretch justify-between"},pt={class:"my-2 py-0 text-sm font-semibold"},ft={class:"font-normal"},_t={class:"my-2 py-0 text-sm font-semibold"},xt={class:"font-normal"},yt={class:"my-2 py-0 text-sm font-semibold"},bt={class:"font-normal capitalize"},vt={class:""},wt={class:"font-semibold"},kt={class:"space-y-1 text-sm"},gt=["href"],Dt={class:"font-semibold capitalize"},jt={class:"w-60 space-y-3 pr-6"},Bt={class:"flex items-center justify-between gap-x-2"},St={class:"text-sm text-slate-400 dark:text-slate-300"},Tt={class:"whitespace-nowrap text-sm font-semibold text-slate-700 dark:text-slate-300"},Mt={key:0,class:"flex items-center justify-between gap-x-2"},Ot={class:"text-sm text-slate-400 dark:text-slate-300"},Pt={class:"text-sm font-semibold text-slate-700 dark:text-slate-300"},zt=t("hr",{class:"mb-1 mt-5 border-slate-200 dark:border-slate-600"},null,-1),Ft={class:"flex items-center justify-between gap-x-2"},Rt={class:"text-sm text-slate-400"},Vt={class:"whitespace-nowrap text-sm font-semibold text-slate-700 dark:text-slate-300"},It={class:"py-2 text-center text-sm"},Lt={class:"card mt-4"},Nt={class:"card-body flex items-end space-x-2 pb-0"},At={key:0},Ct={class:"mb-2 font-semibold"},Yt={class:"mb-5 space-y-1 text-xs"},Et=["href"],Ut={key:0},$t={key:1},qt={key:2},Wt={key:0},Ht={class:"card-body flex items-end space-x-2 pt-0"},Gt={class:"label mb-1"},Jt={value:"pending"},Kt={value:"approved"},Qt={value:"rejected"},Xt=["disabled"],Zt=O({layout:P}),ce=Object.assign(Zt,{__name:"Show",props:["order","invoice_data","meta","receiptDetail"],setup(s){const f=s,{formatCurrency:r}=F(),c=D({status:f.order.status,cardholder_address:"user"}),g=()=>{c.put(route("admin.top-up.update",f.order.id),{onSuccess:()=>{toast.success("Order status updated")}})};return(a,_)=>{var y,b,v,w,k;const x=j("lazy");return o(),n("main",V,[B(z,{title:"Topup Details"}),t("div",I,[t("div",L,[t("div",N,[t("div",A,[h(t("img",C,null,512),[[x,a.$page.props.primaryData.deep_logo]]),h(t("img",Y,null,512),[[x,a.$page.props.primaryData.logo]])])]),t("div",E,[t("h4",null,"Invoice #"+e(s.order.invoice_no),1),t("p",U,[l(e(a.trans("Order Date"))+": ",1),t("span",$,e(d(R)(s.order.created_at).format("DD-MM-YYYY")),1)]),t("p",q,[l(e(a.trans("Status"))+": ",1),t("span",W,e(s.order.status),1)])])]),(y=s.order)!=null&&y.gateway&&s.order.payment_id?(o(),n("div",H,[t("div",G,[t("p",J,e(a.trans("BILLED FROM")),1),t("h6",K,e(s.invoice_data.company_name),1),t("p",Q,e(s.invoice_data.address),1),t("p",X,e(s.invoice_data.city),1),t("p",Z,e(s.invoice_data.post_code),1),t("p",tt,e(s.invoice_data.country),1)]),t("div",et,[t("p",st,e(a.trans("BILLED TO")),1),t("h6",at,e(s.order.user.name),1),t("p",ot,e(s.order.user.address_line),1),t("p",nt,e(s.order.user.email),1),t("p",lt,e(s.order.user.phone),1)])])):i("",!0),t("div",dt,[t("div",it,[t("div",rt,[t("table",ct,[t("tbody",null,[t("tr",null,[t("td",null,e(a.trans("User Name")),1),t("td",null,e(a.trans("Requested Amount")),1),t("td",null,[t("p",mt,e(a.trans("Amount")),1)])]),t("tr",null,[t("td",null,e(s.order.user.name),1),t("td",null,e(s.order.requested_amount),1),t("td",null,[t("p",ut,e(d(r)(s.order.amount)),1)])])])])]),t("div",ht,[t("div",null,[t("p",pt,[l(e(a.trans("Payment Method"))+": ",1),t("span",ft,e(((v=(b=s.order)==null?void 0:b.gateway)==null?void 0:v.name)||"Wallet Balance"),1)]),t("p",_t,[l(e(a.trans("Payment Id"))+": ",1),t("span",xt,e(((w=s.order)==null?void 0:w.payment_id)||"Wallet Balance"),1)]),t("p",yt,[l(e(a.trans("Topup To"))+": ",1),t("span",bt,e(((k=s.order)==null?void 0:k.type)||"Balance"),1)]),t("div",vt,[s.meta!=null?(o(),n(p,{key:0},[t("div",wt,e(a.trans("Payment Info:")),1),t("div",kt,[(o(!0),n(p,null,S(s.meta,(m,u)=>(o(),n("p",{key:u},[u==="screenshot"?(o(),n("a",{key:0,target:"_blank",href:m},e(a.trans("Attachment")),9,gt)):(o(),n(p,{key:1},[t("span",Dt,e(u),1),l(" : "+e(m),1)],64))]))),128))])],64)):i("",!0)])]),t("div",jt,[t("div",Bt,[t("p",St,e(a.trans("Subtotal"))+":",1),t("p",Tt,e(d(r)(parseFloat(s.order.amount)-parseFloat(s.order.transaction_fee||0))),1)]),s.order.transaction_fee?(o(),n("div",Mt,[t("p",Ot,e(a.trans("Transaction Fee"))+": ",1),t("p",Pt,e(d(r)(+s.order.transaction_fee||0)),1)])):i("",!0),zt,t("div",Ft,[t("p",Rt,e(a.trans("Total"))+":",1),t("p",Vt,e(d(r)(s.order.amount||0)),1)])])])])]),t("p",It,e(a.trans("Thanks for your Business")),1)]),t("div",Lt,[t("div",Nt,[s.receiptDetail!=null?(o(),n("div",At,[t("p",Ct,e(a.trans("Payment Receipt")),1),t("div",Yt,[t("p",null,e(a.trans("Message : "))+" "+e(s.receiptDetail.comments),1),t("p",null,[l(e(a.trans("Receipt : "))+" ",1),t("a",{target:"_blank",class:"badge badge-success",href:s.receiptDetail.image},e(a.trans("View")),9,Et)]),t("p",null,[l(e(a.trans("Status : "))+" ",1),s.receiptDetail.status==0?(o(),n("span",Ut,"Pending")):s.receiptDetail.status==1?(o(),n("span",$t,"Approved")):s.receiptDetail.status==2?(o(),n("span",qt,"Rejected")):i("",!0)])])])):i("",!0)]),s.order.status==="pending"?(o(),n("div",Wt,[t("form",{onSubmit:T(g,["prevent"])},[t("div",Ht,[t("div",null,[t("label",Gt,e(a.trans("Order Status")),1),h(t("select",{class:"select capitalize",name:"status","onUpdate:modelValue":_[0]||(_[0]=m=>d(c).status=m)},[t("option",Jt,e(a.trans("pending")),1),t("option",Kt,e(a.trans("approve")),1),t("option",Qt,e(a.trans("Reject")),1)],512),[[M,d(c).status]])]),t("button",{type:"submit",class:"btn btn-primary",disabled:d(c).processing},e(a.trans("Update")),9,Xt)])],32)])):i("",!0)])])}}});export{ce as default};
