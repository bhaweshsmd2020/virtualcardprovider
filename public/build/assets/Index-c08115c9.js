import{f as x,i as O,Y as T,k as D,o as a,c,a as u,u as s,b as o,t as n,p,F as L,r as P,d as g,g as i,h as y,q as m,e as v}from"./app-8b08b02b.js";import{P as Y}from"./PageHeader-f9559e85.js";import{_ as A}from"./NoDataFound-f8b61a7b.js";import{_ as I}from"./UserLayout-90970d6e.js";import{s as N}from"./sharedComposable-7773727f.js";import{S as d}from"./sweetalert2.esm.all-df3a4912.js";import"./dropdown-dfddaeee.js";import"./moment-a9aaa855.js";import"./Modal-68ba130b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-e495c250.js";import"./toastComposable-d43a11ef.js";const R={class:"container p-4 sm:p-6"},V={class:"mb-3"},K={key:0,class:"text-center"},M={key:1,class:"alert alert-info"},S={class:"table-responsive"},j={class:"table job-alert-table"},E={class:"border-0"},H={key:0,class:"border-top-0"},z={key:0,class:"badge badge-warning"},U={key:1,class:"badge badge-primary"},q={key:2,class:"badge badge-danger"},F={key:3,class:"badge badge-dark"},$={class:"text-end"},G=o("tr",null,null,-1),J=x({layout:I}),le=x({...J,__name:"Index",props:["KYCDocuments"],setup(f){const _=f,{authUser:B}=N(),b=()=>{var C;const r=((C=_.KYCDocuments)==null?void 0:C.data)||[],k=r.some(e=>e.type==="identity"),h=r.some(e=>e.type==="address");if(!k){d.fire({icon:"warning",title:"<h2 style='font-size: 20px;'>Identity verification is not completed. Please submit your Identity ID.</h2>",confirmButtonText:"Verify Now",allowOutsideClick:!1,customClass:{popup:"custom-swal-popup"},didOpen:e=>{const t=document.createElement("button");t.innerHTML="&times;",t.classList.add("swal-close-btn"),t.onclick=()=>d.close(),e.appendChild(t)}}).then(e=>{e.isConfirmed&&(window.location.href=route("user.kyc.tips","identity"))});return}if(!h){d.fire({icon:"warning",title:"<h2 style='font-size: 20px;'>Address verification is not completed. Please submit your Address Proof.</h2>",confirmButtonText:"Verify Now",allowOutsideClick:!1,customClass:{popup:"custom-swal-popup"},didOpen:e=>{const t=document.createElement("button");t.innerHTML="&times;",t.classList.add("swal-close-btn"),t.onclick=()=>d.close(),e.appendChild(t)}}).then(e=>{e.isConfirmed&&(window.location.href=route("user.kyc.tips","address"))});return}r.some(e=>(e.type==="identity"||e.type==="address")&&(e.status===0||e.status===3))&&d.fire({icon:"info",title:"<h2 style='font-size: 20px;'>Your account is being verified. Please allow 1 working day for review. Need more help, Get in touch via support@virtualcardprovider.com</h2>",confirmButtonText:"Okay",allowOutsideClick:!1,customClass:{popup:"custom-swal-popup"},didOpen:e=>{const t=document.createElement("button");t.innerHTML="&times;",t.classList.add("swal-close-btn"),t.onclick=()=>d.close(),e.appendChild(t)}}),r.some(e=>e.status===2)&&d.fire({icon:"error",title:"<h2 style='font-size: 20px;'>One or more of your KYC documents were rejected. Please resubmit. Need help? Contact support@virtualcardprovider.com</h2>",confirmButtonText:"Okay",allowOutsideClick:!1,customClass:{popup:"custom-swal-popup"},didOpen:e=>{const t=document.createElement("button");t.innerHTML="&times;",t.classList.add("swal-close-btn"),t.onclick=()=>d.close(),e.appendChild(t)}})};return O(()=>{b()}),T(()=>_.KYCDocuments,r=>{r&&b()},{immediate:!0,deep:!0}),(r,k)=>{const h=D("Icon");return a(),c("main",R,[u(Y,{title:s(i)("KYC Requests")},null,8,["title"]),o("div",V,[s(B).kyc_verified_at?(a(),c("h4",K)):(a(),c("div",M,[o("p",null,n(s(i)("Profile verification is not completed")),1),u(s(m),{class:"btn btn-primary",href:r.route("user.kyc.tips","identity")},{default:p(()=>[y(n(s(i)("Verify Identity")),1)]),_:1},8,["href"]),u(s(m),{class:"btn btn-primary",href:r.route("user.kyc.tips","address")},{default:p(()=>[y(n(s(i)("Verify Address")),1)]),_:1},8,["href"])]))]),o("div",S,[o("table",j,[o("thead",E,[o("tr",null,[o("th",null,n(s(i)("Method")),1),o("th",null,n(s(i)("Type")),1),o("th",null,n(s(i)("Status")),1),o("th",null,n(s(i)("Action")),1)])]),f.KYCDocuments.total?(a(),c("tbody",H,[(a(!0),c(L,null,P(f.KYCDocuments.data,(l,w)=>(a(),c("tr",{key:w},[o("td",null,n(l.method.title??null),1),o("td",null,n(l.type.charAt(0).toUpperCase()+l.type.slice(1)),1),o("td",null,[l.status==0?(a(),c("span",z,n(s(i)("Pending")),1)):l.status==1?(a(),c("span",U,n(s(i)("Approved")),1)):l.status==2?(a(),c("span",q,n(s(i)("Rejected")),1)):l.status==3?(a(),c("span",F,n(s(i)("Re-Submitted")),1)):v("",!0)]),o("td",$,[l.status==2?(a(),g(s(m),{key:0,class:"py-2 btn btn-dark me-4",href:r.route("user.kyc.tips",l.type)},{default:p(()=>[y(n(s(i)("Re Submit")),1)]),_:2},1032,["href"])):v("",!0),u(s(m),{class:"btn btn-primary",href:r.route("user.kyc.show",l.id)},{default:p(()=>[u(h,{icon:"bx:show"})]),_:2},1032,["href"])])]))),128)),G])):(a(),g(A,{key:1,"for-table":"true"}))])])])}}});export{le as default};
