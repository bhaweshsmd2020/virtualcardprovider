import{T as y,j as f,o as b,c as _,a as r,b as e,w as h,t as i,l as n,v as d,u as t,h as V,e as C,y as v,m as U,s as w,f as k}from"./app-55c25e51.js";import{_ as q}from"./AdminLayout-d7dc3a0b.js";import{P as S}from"./PageHeader-8abf30c3.js";import{s as c}from"./multiselect-5f58dd69.js";import{S as M}from"./SpinnerBtn-5f5f7277.js";import{C as x}from"./CreditCard-c5272ebb.js";import"./dropdown-8ee40221.js";import"./moment-a9aaa855.js";import"./sharedComposable-713147fd.js";import"./toastComposable-bc1f97e9.js";import"./Modal-522ea419.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-869d906f.js";const T={class:"container flex-grow p-4 sm:p-6"},B={class:"mx-auto max-w-3xl"},A={class:"card card-body"},D={class:"mb-2"},N={class:"label mb-1"},P={class:"mb-2"},j={class:"label mb-1"},E={class:"mb-2"},F={class:"label mb-1"},I={class:"mb-2"},L={class:"label mb-1"},H={class:"mb-2"},O={class:"label mb-1"},R={class:"mb-2"},z={class:"label mb-1"},$={class:"mb-2"},G={class:"label mb-1"},J={class:"mb-2"},K={class:"label mb-1"},Q={class:"mb-2"},W={class:"label mb-1"},X={class:"mb-2 mt-2"},Y={class:"label mb-1"},Z={class:"mb-2 mt-2"},ee={class:"label mb-1"},te={class:"mb-2"},se={class:"label mb-1"},ae={class:"mb-2"},le={class:"label mb-1"},oe={class:"mx-auto mt-6 w-8/12"},ie={class:"card card-body"},ne={class:"mb-4 flex items-center justify-between"},de={class:"text-xl font-semibold"},re={class:"text-base font-normal"},me={class:"mb-4 space-y-2"},pe={class:"label mb-1"},ce={class:"mb-2 flex flex-wrap gap-4"},ue={class:"flex items-center gap-1"},be={for:"allowed",class:"label"},_e={class:"flex items-center gap-1"},ve={for:"blocked",class:"label"},ge={class:"pt-2 text-xs"},ye={class:"mb-2"},fe={class:"label mb-1"},he={class:"card card-body mb-2 mt-3 space-y-3"},Ve={class:"label mb-1"},Ce={value:"active"},Ue={value:"inactive"},we={for:"toggle-featured",class:"toggle toggle-sm"},ke=e("div",{class:"toggle-body"},null,-1),qe={class:"label label-md"},Se=k({layout:q}),He=Object.assign(Se,{__name:"Edit",props:["categories","merchantCategories","card","card_variants"],setup(m){const p=m,s=y({_method:"PATCH",...p.card,is_featured:p.card.is_featured==1}),g=()=>{s.post(route("admin.cards.update",p.card.id))},u=f({exp_year:28,exp_month:28,last4:1234,user:{name:"User"},card:{card_variant:p.card.card_variant??"basic"}});return(o,a)=>(b(),_("main",T,[r(S,{title:"Edit Card"}),e("div",B,[e("form",{onSubmit:h(g,["prevent"]),class:"space-y-5"},[e("div",A,[e("div",D,[e("label",N,i(o.trans("Title")),1),n(e("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>t(s).title=l),type:"text",name:"title",required:"",class:"input"},null,512),[[d,t(s).title]])]),e("div",P,[e("label",j,i(o.trans("Min Deposit")),1),n(e("input",{"onUpdate:modelValue":a[1]||(a[1]=l=>t(s).min_deposit=l),type:"number",name:"min_deposit",required:"",class:"input"},null,512),[[d,t(s).min_deposit]])]),e("div",E,[e("label",F,i(o.trans("Max Deposit")),1),n(e("input",{"onUpdate:modelValue":a[2]||(a[2]=l=>t(s).max_deposit=l),type:"number",name:"max_deposit",required:"",class:"input"},null,512),[[d,t(s).max_deposit]])]),e("div",I,[e("label",L,i(o.trans("Creation Fee"))+" (%)",1),n(e("input",{"onUpdate:modelValue":a[3]||(a[3]=l=>t(s).card_fee=l),type:"number",name:"card_fee",required:"",class:"input",step:"any"},null,512),[[d,t(s).card_fee]])]),e("div",H,[e("label",O,i(o.trans("Card Topup Fee"))+" (%)",1),n(e("input",{"onUpdate:modelValue":a[4]||(a[4]=l=>t(s).increase_limit_fee=l),type:"number",name:"increase_limit_fee",required:"",class:"input",step:"any"},null,512),[[d,t(s).increase_limit_fee]])]),e("div",R,[e("label",z,i(o.trans("Card Topup Limit")),1),n(e("input",{"onUpdate:modelValue":a[5]||(a[5]=l=>t(s).topup_limit=l),type:"number",name:"topup_limit",required:"",class:"input",step:"any"},null,512),[[d,t(s).topup_limit]])]),e("div",$,[e("label",G,i(o.trans("Total Card Spending Limit")),1),n(e("input",{"onUpdate:modelValue":a[6]||(a[6]=l=>t(s).spending_limit=l),type:"number",name:"spending_limit",required:"",class:"input",step:"any"},null,512),[[d,t(s).spending_limit]])]),e("div",J,[e("label",K,i(o.trans("Card Limit")),1),n(e("input",{"onUpdate:modelValue":a[7]||(a[7]=l=>t(s).card_limit=l),type:"number",name:"card_limit",required:"",class:"input"},null,512),[[d,t(s).card_limit]])]),e("div",Q,[e("label",W,i(o.trans("Required Balance")),1),n(e("input",{"onUpdate:modelValue":a[8]||(a[8]=l=>t(s).required_balance=l),type:"number",name:"required_balance",required:"",class:"input"},null,512),[[d,t(s).required_balance]])]),e("div",X,[e("label",Y,i(o.trans("Image (Preview)")),1),e("input",{onInput:a[9]||(a[9]=l=>t(s).preview=l.target.files[0]),type:"file",class:"input",name:"preview",accept:"image/*"},null,32)]),e("div",Z,[e("label",ee,i(o.trans("Short Description")),1),n(e("textarea",{"onUpdate:modelValue":a[10]||(a[10]=l=>t(s).description=l),name:"description",required:"",class:"textarea",maxlength:"500"},null,512),[[d,t(s).description]])]),e("div",te,[e("label",se,i(o.trans("Select Category")),1),r(t(c),{class:"multiselect-dark",searchable:!0,modelValue:t(s).category_id,"onUpdate:modelValue":a[11]||(a[11]=l=>t(s).category_id=l),"value-prop":"id",label:"title",mode:"single",options:m.categories,placeholder:"Select Category"},null,8,["modelValue","options"])]),e("div",ae,[e("label",le,i(o.trans("Card Variant")),1),r(t(c),{onSelect:a[12]||(a[12]=()=>{u.value.card.card_variant=t(s).card_variant}),class:"multiselect-dark capitalize",modelValue:t(s).card_variant,"onUpdate:modelValue":a[13]||(a[13]=l=>t(s).card_variant=l),mode:"single",options:m.card_variants,placeholder:"Select Card Variant"},null,8,["modelValue","options"])]),e("div",oe,[r(x,{"credit-card":u.value},null,8,["credit-card"])])]),e("div",ie,[e("div",ne,[e("p",de,[V(i(o.trans("Merchant Categories"))+" ",1),e("span",re,"("+i(o.trans("Optional"))+")",1)]),t(s).category_type?(b(),_("button",{key:0,type:"button",onClick:a[14]||(a[14]=()=>{t(s).categories=[],t(s).category_type=""}),class:"btn btn-xs btn-danger"},i(o.trans(" Clear")),1)):C("",!0)]),e("div",me,[e("label",pe,i(o.trans("Add category to Allowed/Blocked")),1),e("div",ce,[e("div",ue,[n(e("input",{"onUpdate:modelValue":a[15]||(a[15]=l=>t(s).category_type=l),id:"allowed",class:"radio",type:"radio",name:"basic-radio",value:"allowed"},null,512),[[v,t(s).category_type]]),e("label",be,i(o.trans("Allowed")),1)]),e("div",_e,[n(e("input",{"onUpdate:modelValue":a[16]||(a[16]=l=>t(s).category_type=l),id:"blocked",type:"radio",class:"radio",name:"basic-radio",value:"blocked"},null,512),[[v,t(s).category_type]]),e("label",ve,i(o.trans("Blocked")),1)])]),e("p",ge," *"+i(o.trans("default: All categories are allowed (it's needed for stripe)")),1)]),e("div",ye,[e("label",fe,i(o.trans("Select Merchant Category")),1),r(t(c),{class:"multiselect-dark",searchable:!0,modelValue:t(s).categories,"onUpdate:modelValue":a[17]||(a[17]=l=>t(s).categories=l),"value-prop":"value",label:"name",mode:"tags",options:m.merchantCategories,placeholder:"Select Merchant Category"},null,8,["modelValue","options"])])]),e("div",he,[e("div",null,[e("label",Ve,i(o.trans("Status")),1),n(e("select",{"onUpdate:modelValue":a[18]||(a[18]=l=>t(s).status=l),class:"select",name:"status"},[e("option",Ce,i(o.trans("Active")),1),e("option",Ue,i(o.trans("Draft")),1)],512),[[U,t(s).status]])]),e("div",null,[e("label",we,[n(e("input",{"onUpdate:modelValue":a[19]||(a[19]=l=>t(s).is_featured=l),class:"toggle-input peer sr-only",id:"toggle-featured",type:"checkbox"},null,512),[[w,t(s).is_featured]]),ke,e("span",qe,i(o.trans("Is Featured?")),1)])]),e("div",null,[r(M,{classes:"btn btn-primary",processing:t(s).processing,"btn-text":o.trans("Update")},null,8,["processing","btn-text"])])])],32)])]))}});export{He as default};
