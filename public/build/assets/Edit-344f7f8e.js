import{j as g,i as A,k as C,o as u,c,a as b,b as e,w as S,t as n,l as o,v as i,m as _,e as f,F as M,r as V,h as L,f as N,O as k}from"./app-55c25e51.js";import{_ as F}from"./AdminLayout-d7dc3a0b.js";import{P}from"./PageHeader-8abf30c3.js";import{_ as I}from"./RichEditor-3e495917.js";import{t as y}from"./toastComposable-bc1f97e9.js";import{S as T}from"./SpinnerBtn-5f5f7277.js";import"./dropdown-8ee40221.js";import"./moment-a9aaa855.js";import"./sharedComposable-713147fd.js";import"./Modal-522ea419.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-869d906f.js";const E={class:"container flex-grow p-4 sm:p-6"},B={class:"mx-auto max-w-3xl"},O={class:"card card-body"},R={class:"label mb-1"},q={class:"grid grid-cols-2 gap-3"},D={class:"label mb-1",for:"currency"},z={class:"label mb-1"},$=["placeholder"],j={class:"grid grid-cols-2 gap-3"},H={class:"label mb-1"},J={class:"label mb-1"},G={class:"label mb-1"},K={value:"",disabled:""},Q={value:"fixed"},W={value:"percentage"},X={key:0},Y={class:"label mb-1"},Z=["placeholder"],ee={key:1},te={class:"label mb-1"},ae=["placeholder"],se={class:"label mb-1"},le={class:"label mb-1"},ne={class:"card card-body"},oe=e("p",{class:"col-span-full mb-2 text-lg font-semibold"},"Exchange Rate",-1),ie={class:"grid grid-cols-2 gap-3"},de={class:"label mb-1 uppercase"},re=["onUpdate:modelValue"],ue={class:"card card-body"},ce={class:"space-y-3"},me={class:"grid grid-cols-12"},pe={class:"col-span-5"},ve={class:"label mb-1"},be=e("br",null,null,-1),he={class:"col-span-6"},_e={class:"label mb-1"},ye={class:"col-span-5"},ge=["onUpdate:modelValue"],fe={class:"col-span-6"},Me=["onUpdate:modelValue"],Ve=["selected"],Ue=["selected"],xe=["selected"],we=["selected"],Ae={class:"col-span-1"},Ce=["onClick"],Se=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-x-circle",viewBox:"0 0 16 16"},[e("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),e("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})],-1),Le=[Se],Ne={class:"label mb-1"},ke=["selected"],Fe=["selected"],Pe=N({layout:F}),Je=Object.assign(Pe,{__name:"Edit",props:["segments","buttons","payoutMethod","currencies"],setup(v){const m=v,a=g({...m.payoutMethod}),d=g([]);A(()=>{d.value=JSON.parse(m.payoutMethod.data);for(let t=0;t<m.currencies.length;t++)a.value.rates.hasOwnProperty(m.currencies[t])||(a.value.rates[m.currencies[t]]="")});const U=()=>{if(d.value.length>=10){y.danger("10 Max, Limit Reached");return}const t={type:"",label:""};d.value.push(t)},x=t=>{if(d.value.length<=1){y.danger("1 Min, Limit Reached");return}d.value=d.value.filter((l,h)=>h!==t)},w=()=>{a.value.image instanceof File||(a.value.image=null),a.value.data=d.value,k.post(route("admin.payout-methods.update",m.payoutMethod.id),{_method:"PATCH",payoutMethod:a.value},{onSuccess:()=>{y.success("Method Updated successfully")}})};return(t,l)=>{const h=C("Icon");return u(),c("main",E,[b(P,{title:"Edit Payout Method",segments:v.segments,buttons:v.buttons},null,8,["segments","buttons"]),e("div",B,[e("form",{class:"space-y-3",onSubmit:S(w,["prevent"]),enctype:"multipart/form-data"},[e("div",O,[e("div",null,[e("label",R,n(t.trans("Method Name")),1),o(e("input",{type:"text",class:"input",placeholder:"Method Name","onUpdate:modelValue":l[0]||(l[0]=s=>a.value.name=s),required:"",name:"name"},null,512),[[i,a.value.name]])]),e("div",q,[e("div",null,[e("label",D,n(t.trans("Enter Currency Name")),1),o(e("input",{type:"text",class:"input",name:"currency",required:"","onUpdate:modelValue":l[1]||(l[1]=s=>a.value.currency_name=s)},null,512),[[i,a.value.currency_name]])]),e("div",null,[e("label",z,n(t.trans("Delay")),1),o(e("input",{type:"number",class:"input",name:"delay","onUpdate:modelValue":l[2]||(l[2]=s=>a.value.delay=s),placeholder:t.trans("Delay")},null,8,$),[[i,a.value.delay]])])]),e("div",j,[e("div",null,[e("label",H,n(t.trans("Minimum Amount")),1),o(e("input",{type:"number",class:"input","onUpdate:modelValue":l[3]||(l[3]=s=>a.value.min_limit=s),placeholder:"Minimum Amount",required:"",name:"min_limit"},null,512),[[i,a.value.min_limit]])]),e("div",null,[e("label",J,n(t.trans("Maximum Amount")),1),o(e("input",{type:"number",class:"input","onUpdate:modelValue":l[4]||(l[4]=s=>a.value.max_limit=s),placeholder:"Maximum Amount",required:"",name:"max_limit"},null,512),[[i,a.value.max_limit]])])]),e("div",null,[e("label",G,n(t.trans("Charge Type")),1),o(e("select",{class:"select","onUpdate:modelValue":l[5]||(l[5]=s=>a.value.charge_type=s)},[e("option",K,n(t.trans("Select charge type")),1),e("option",Q,n(t.trans("Fixed")),1),e("option",W,n(t.trans("Percentage")),1)],512),[[_,a.value.charge_type]])]),a.value.charge_type=="fixed"?(u(),c("div",X,[e("label",Y,n(t.trans("Fixed Amount")),1),o(e("input",{type:"number",step:"any",class:"input","onUpdate:modelValue":l[6]||(l[6]=s=>a.value.fixed_charge=s),name:"fixed_charge",placeholder:t.trans("Fixed Amount")},null,8,Z),[[i,a.value.fixed_charge]])])):f("",!0),a.value.charge_type=="percentage"?(u(),c("div",ee,[e("label",te,n(t.trans("Percentage Amount")),1),o(e("input",{type:"number",step:"any",class:"input","onUpdate:modelValue":l[7]||(l[7]=s=>a.value.percent_charge=s),name:"percent_charge",placeholder:t.trans("Percentage Amount")},null,8,ae),[[i,a.value.percent_charge]])])):f("",!0),e("div",null,[e("label",se,n(t.trans("Currency Image")),1),e("input",{type:"file",class:"input",name:"image",onInput:l[8]||(l[8]=s=>a.value.image=s.target.files[0])},null,32)]),e("div",null,[e("label",le,n(t.trans("Instruction")),1),b(I,{modelValue:a.value.instruction,"onUpdate:modelValue":l[9]||(l[9]=s=>a.value.instruction=s)},null,8,["modelValue"])])]),e("div",ne,[oe,e("div",ie,[(u(!0),c(M,null,V(a.value.rates,(s,r)=>(u(),c("div",{key:r},[e("label",de,n(r),1),o(e("input",{type:"number",step:"any",placeholder:"Rate",class:"input","onUpdate:modelValue":p=>v.payoutMethod.rates[r]=p},null,8,re),[[i,v.payoutMethod.rates[r]]])]))),128))])]),e("div",ue,[e("div",ce,[e("div",me,[e("div",pe,[e("label",ve,n(t.trans("Label")),1),L(),be]),e("div",he,[e("label",_e,n(t.trans("Input Type")),1)]),e("button",{type:"button",onClick:U,class:"btn btn-primary py-2"},[b(h,{icon:"bx:plus",class:"text-lg"})])]),(u(!0),c(M,null,V(d.value,(s,r)=>(u(),c("div",{key:r,class:"grid grid-cols-12 gap-3"},[e("div",ye,[o(e("input",{type:"text","data-key":"0",class:"input",placeholder:"Label here","onUpdate:modelValue":p=>s.label=p},null,8,ge),[[i,s.label]])]),e("div",fe,[o(e("select",{"onUpdate:modelValue":p=>s.type=p,class:"select"},[e("option",{selected:s.type=="text",value:"text"},n(t.trans("Text")),9,Ve),e("option",{selected:s.type=="number",value:"number"},n(t.trans("Number")),9,Ue),e("option",{selected:s.type=="textarea",value:"textarea"},n(t.trans("Textarea")),9,xe),e("option",{selected:s.type=="email",value:"email"},n(t.trans("Email")),9,we)],8,Me),[[_,s.type]])]),e("div",Ae,[e("button",{type:"button",onClick:p=>x(r),class:"btn btn-danger py-3",title:"Remove"},Le,8,Ce)])]))),128))]),e("div",null,[e("label",Ne,n(t.trans("Status")),1),o(e("select",{name:"status",class:"select","onUpdate:modelValue":l[10]||(l[10]=s=>a.value.status=s)},[e("option",{selected:a.value.status==1,value:"1"},n(t.trans("Active")),9,ke),e("option",{selected:a.value.status==0,value:"0"},n(t.trans("Inactive")),9,Fe)],512),[[_,a.value.status]])]),b(T,{classes:"btn btn-primary mt-4","btn-text":t.trans("Save")},null,8,["btn-text"])])],32)])])}}});export{Je as default};
