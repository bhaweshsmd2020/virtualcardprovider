import{j as f,k,o as p,c,a as v,b as e,w as P,t as n,l as o,v as i,m as q,s as r,e as x,F as C,r as F,f as D,O as I}from"./app-8b08b02b.js";import{_ as O}from"./AdminLayout-2a0b7492.js";import{S}from"./SpinnerBtn-92ab3ac7.js";import{P as T}from"./PageHeader-f9559e85.js";import{t as E}from"./toastComposable-d43a11ef.js";import"./dropdown-dfddaeee.js";import"./moment-a9aaa855.js";import"./sharedComposable-7773727f.js";import"./Modal-68ba130b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-e495c250.js";const M={class:"container flex-grow p-4 sm:p-6"},B={class:"space-y-6"},N={class:"card card-body flex-1"},A={class:"my-2"},j={class:"my-2"},L={class:"my-2"},$={class:"my-2"},H={value:"30"},K={value:"365"},R={value:"999999"},Y={class:"my-2"},z={class:"mb-2"},G={for:"toggle-featured",class:"toggle toggle-sm"},J=e("div",{class:"toggle-body"},null,-1),Q={class:"label label-md"},W={class:"mb-2"},X={for:"toggle-is_recommended",class:"toggle toggle-sm"},Z=e("div",{class:"toggle-body"},null,-1),ee={class:"label label-md"},le={class:"mb-2"},ae={for:"toggle-is_default",class:"toggle toggle-sm"},te=e("div",{class:"toggle-body"},null,-1),se={class:"label label-md"},ne={class:"mb-2"},oe={for:"toggle-is_trial",class:"toggle toggle-sm"},ie=e("div",{class:"toggle-body"},null,-1),de={class:"label label-md"},re={key:0,class:"my-2"},ue={class:"mb-2"},pe={for:"toggle-status",class:"toggle toggle-sm"},ce=e("div",{class:"toggle-body"},null,-1),ve={class:"label label-md"},me={class:"mt-6"},_e={class:"card card-body flex-1 space-y-2"},be={class:"my-2"},ge={class:"label mb-1"},fe={class:"label mb-1"},ye={class:"my-2"},he={class:"label mb-1"},Ve={class:"label mb-1"},Ue={class:"my-2"},we={class:"label mb-1"},ke={class:"label mb-1"},Pe={class:"my-2"},qe={class:"label mb-1"},xe={class:"label mb-1"},Ce={class:"mb-2"},Fe={class:"label mb-2 block font-semibold"},De=["onUpdate:modelValue"],Ie=["onUpdate:modelValue"],Oe=["onClick"],Se=D({layout:O}),Re=Object.assign(Se,{__name:"Edit",props:["segments","buttons","plan"],setup(_){const d=_,l=f({title:d.plan.title,description:d.plan.description,preview:null,days:d.plan.days,price:d.plan.price,plan_data:d.plan.data,extra_data:d.plan.extra_data??[],is_featured:d.plan.is_featured==1,is_default:d.plan.is_default==1,is_recommended:d.plan.is_recommended==1,is_trial:d.plan.is_trial==1,status:d.plan.status==1,trial_days:d.plan.trial_days}),m=f(!1),y={key:"",value:""},h=()=>{l.value.extra_data.push({...y})},V=s=>{l.value.extra_data.splice(s,1)};function U(s){const t=s.target.files[0];t&&(l.value.preview=t)}function w(){m.value=!0,l.value.preview instanceof File||(l.value.preview=null),I.post(route("admin.plan.update",d.plan.id),{_method:"PUT",...l.value},{onFinish:()=>{m.value=!1,E.success("Plan updated successfully")}})}return(s,t)=>{const b=k("Icon");return p(),c("main",M,[v(T,{title:s.trans("Edit Plan"),buttons:_.buttons},null,8,["title","buttons"]),e("div",B,[e("form",{class:"flex flex-col-reverse items-start gap-8 lg:flex-row",onSubmit:P(w,["prevent"]),enctype:"multipart/form-data"},[e("div",N,[e("strong",null,n(s.trans("Plan Details")),1),e("div",A,[e("label",null,n(s.trans("Plan Name")),1),o(e("input",{type:"text",required:"",class:"input","onUpdate:modelValue":t[0]||(t[0]=a=>l.value.title=a)},null,512),[[i,l.value.title]])]),e("div",j,[e("label",null,n(s.trans("Plan Description")),1),o(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=a=>l.value.description=a),required:"",class:"textarea"},null,512),[[i,l.value.description]])]),e("div",L,[e("label",null,n(s.trans("Icon")),1),e("input",{type:"file",onChange:U,accept:"image/*",class:"input"},null,32)]),e("div",$,[e("label",null,n(s.trans("Select Duration")),1),o(e("select",{class:"select","onUpdate:modelValue":t[2]||(t[2]=a=>l.value.days=a)},[e("option",H,n(s.trans("Monthly")),1),e("option",K,n(s.trans("Yearly")),1),e("option",R,n(s.trans("Lifetime")),1)],512),[[q,l.value.days]])]),e("div",Y,[e("label",null,n(s.trans("Price")),1),o(e("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=a=>l.value.price=a),step:"any",required:"",class:"input"},null,512),[[i,l.value.price]])]),e("div",z,[e("label",G,[o(e("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>l.value.is_featured=a),class:"toggle-input peer sr-only",id:"toggle-featured",type:"checkbox"},null,512),[[r,l.value.is_featured]]),J,e("span",Q,n(s.trans("Is Featured?")),1)])]),e("div",W,[e("label",X,[o(e("input",{"onUpdate:modelValue":t[5]||(t[5]=a=>l.value.is_recommended=a),class:"toggle-input peer sr-only",id:"toggle-is_recommended",type:"checkbox"},null,512),[[r,l.value.is_recommended]]),Z,e("span",ee,n(s.trans("Is Recommended?")),1)])]),e("div",le,[e("label",ae,[o(e("input",{"onUpdate:modelValue":t[6]||(t[6]=a=>l.value.is_default=a),class:"toggle-input peer sr-only",id:"toggle-is_default",type:"checkbox"},null,512),[[r,l.value.is_default]]),te,e("span",se,n(s.trans("Default Plan"))+" ("+n(s.trans("For free registration"))+")",1)])]),e("div",ne,[e("label",oe,[o(e("input",{"onUpdate:modelValue":t[7]||(t[7]=a=>l.value.is_trial=a),class:"toggle-input peer sr-only",id:"toggle-is_trial",type:"checkbox"},null,512),[[r,l.value.is_trial]]),ie,e("span",de,n(s.trans("Accept Trial?")),1)])]),l.value.is_trial?(p(),c("div",re,[e("label",null,n(s.trans("Trial Days")),1),o(e("input",{type:"number","onUpdate:modelValue":t[8]||(t[8]=a=>l.value.trial_days=a),class:"input",required:""},null,512),[[i,l.value.trial_days]])])):x("",!0),e("div",ue,[e("label",pe,[o(e("input",{"onUpdate:modelValue":t[9]||(t[9]=a=>l.value.status=a),class:"toggle-input peer sr-only",id:"toggle-status",type:"checkbox"},null,512),[[r,l.value.status]]),ce,e("span",ve,n(s.trans("Activate This Plan?")),1)])]),e("div",me,[v(S,{classes:"btn btn-primary",processing:m.value,"btn-text":"Update"},null,8,["processing"])])]),e("div",_e,[e("strong",null,n(s.trans("Plan Perks")),1),e("div",be,[e("label",ge,n(s.trans("Cards")),1),o(e("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=a=>l.value.plan_data.cards.value=a),required:"",class:"input"},null,512),[[i,l.value.plan_data.cards.value]]),e("label",fe,n(s.trans("Overview")),1),o(e("textarea",{"onUpdate:modelValue":t[11]||(t[11]=a=>l.value.plan_data.cards.overview=a),required:"",class:"input"},null,512),[[i,l.value.plan_data.cards.overview]])]),e("div",ye,[e("label",he,n(s.trans("Deposit Fee %")),1),o(e("input",{type:"number","onUpdate:modelValue":t[12]||(t[12]=a=>l.value.plan_data.deposit_fee.value=a),required:"",class:"input"},null,512),[[i,l.value.plan_data.deposit_fee.value]]),e("label",Ve,n(s.trans("Overview")),1),o(e("textarea",{"onUpdate:modelValue":t[13]||(t[13]=a=>l.value.plan_data.deposit_fee.overview=a),required:"",class:"input"},null,512),[[i,l.value.plan_data.deposit_fee.overview]])]),e("div",Ue,[e("label",we,n(s.trans("Transaction Fee %")),1),o(e("input",{type:"number","onUpdate:modelValue":t[14]||(t[14]=a=>l.value.plan_data.transaction_fee.value=a),required:"",class:"input"},null,512),[[i,l.value.plan_data.transaction_fee.value]]),e("label",ke,n(s.trans("Overview")),1),o(e("textarea",{"onUpdate:modelValue":t[15]||(t[15]=a=>l.value.plan_data.transaction_fee.overview=a),required:"",class:"input"},null,512),[[i,l.value.plan_data.transaction_fee.overview]])]),e("div",Pe,[e("label",qe,n(s.trans("Service Fee %")),1),o(e("input",{type:"number","onUpdate:modelValue":t[16]||(t[16]=a=>l.value.plan_data.service_fee.value=a),required:"",class:"input"},null,512),[[i,l.value.plan_data.service_fee.value]]),e("label",xe,n(s.trans("Overview")),1),o(e("textarea",{"onUpdate:modelValue":t[17]||(t[17]=a=>l.value.plan_data.service_fee.overview=a),required:"",class:"input"},null,512),[[i,l.value.plan_data.service_fee.overview]])]),e("div",Ce,[e("label",Fe,n(s.trans("Add Extra Perks")),1),(p(!0),c(C,null,F(l.value.extra_data,(a,g)=>(p(),c("div",{class:"mb-2 flex items-center gap-x-2",key:g},[o(e("input",{type:"text",class:"input",placeholder:"Key","onUpdate:modelValue":u=>a.key=u},null,8,De),[[i,a.key]]),o(e("input",{type:"text",class:"input",placeholder:"Value","onUpdate:modelValue":u=>a.value=u},null,8,Ie),[[i,a.value]]),e("button",{type:"button",onClick:u=>V(g),class:"btn btn-danger"},[v(b,{icon:"bx:x",class:"text-lg"})],8,Oe)]))),128)),e("button",{type:"button",onClick:h,class:"btn btn-primary"},[v(b,{icon:"bx:plus",class:"text-lg"})])])])],32)])])}}});export{Re as default};
