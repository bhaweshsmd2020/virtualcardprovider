import{i as U,g as a,T as V,k as w,o as i,c as d,b as t,a as n,u as s,t as o,F as b,r as g,d as $,w as A,l as C,v as T,f as B,p as P,h as f}from"./app-55c25e51.js";import{_ as L}from"./AdminLayout-d7dc3a0b.js";import{P as N}from"./PageHeader-8abf30c3.js";import{_ as Y}from"./OverviewGrid-646656c7.js";import{P as j}from"./Paginate-d3bcd4a4.js";import{_ as q}from"./NoDataFound-c4885428.js";import{_ as H}from"./FilterDropdown-df98b38e.js";import{s as R}from"./sharedComposable-713147fd.js";import{h as z}from"./moment-a9aaa855.js";import{d as D}from"./drawer-fe4c5e1a.js";import{t as G}from"./toastComposable-bc1f97e9.js";import{S as J}from"./SpinnerBtn-5f5f7277.js";import"./dropdown-8ee40221.js";import"./Modal-522ea419.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-869d906f.js";const K={class:"container flex-grow p-4 sm:p-6"},Q={class:"space-y-4"},W={class:"table-responsive whitespace-nowrap rounded-primary"},X={class:"table"},Z={class:"!text-right"},tt={key:0},et={class:"text-xs uppercase"},st={class:"text-xs uppercase"},ot={class:"!text-right"},at={id:"infoDrawer",class:"drawer drawer-right"},nt={class:"drawer-header"},lt=t("button",{type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},[t("i",{"data-feather":"x",width:"1.5rem",height:"1.5rem"})],-1),it={class:"drawer-body"},rt={class:"mb-2"},dt={class:"label mb-2 block font-semibold"},ct={class:"label my-2 block font-semibold"},ut=["onUpdate:modelValue"],mt=["onClick"],pt={class:"drawer-footer"},_t={class:"flex justify-between gap-2"},bt={type:"button",class:"btn btn-secondary w-full","data-dismiss":"drawer"},ft=t("div",{class:"drawer-backdrop"},null,-1),ht=B({layout:L}),Vt=Object.assign(ht,{__name:"Index",props:["segments","buttons","exchangeTransactions","request","exchange_details","type","total","totalServiceFee","todayExchanges"],setup(c){var v,y;U(()=>{D.init()});const{formatCurrency:h}=R(),u=c,S=[{value:u.total,title:a("Total"),iconClass:"bx bx-badge-check"},{value:h(+u.totalServiceFee||0),title:a("Total Service Fee"),iconClass:"bx bx-dollar"},{value:u.todayExchanges,title:a("Today's Exchanges"),iconClass:"bx bx-calendar"}],E=[{label:"ID",value:"id"},{label:"Amount",value:"from_amount"},{label:"User Email",value:"user_email"}],l=V({title:(v=u.exchange_details)==null?void 0:v.name,items:((y=u.exchange_details)==null?void 0:y.items)??[]}),I={value:""},F=()=>{l.items.push({...I})},M=m=>{l.items.splice(m,1)};function O(m,r,_){m.put(route("admin.option.update",r),{onSuccess:()=>{G.success("Option Updated successfully"),D.of(_).hide()}})}return(m,r)=>{const _=w("Link"),x=w("Icon");return i(),d(b,null,[t("main",K,[n(N,{title:s(a)("Exchange List"),buttons:c.buttons},null,8,["title","buttons"]),t("div",Q,[n(Y,{grid:3,items:S}),n(H,{options:E}),t("div",W,[t("table",X,[t("thead",null,[t("tr",null,[t("th",null,o(s(a)("ID")),1),t("th",null,o(s(a)("User Name")),1),t("th",null,o(s(a)("Request Amount")),1),t("th",null,o(s(a)("Converted Amount")),1),t("th",null,o(s(a)("Service Fee")),1),t("th",Z,o(s(a)("Created At")),1)])]),c.exchangeTransactions.total?(i(),d("tbody",tt,[(i(!0),d(b,null,g(c.exchangeTransactions.data,e=>(i(),d("tr",{key:e.id},[t("td",null,o(e.id),1),t("td",null,[n(_,{class:"text-primary-500 hover:underline",href:m.route("admin.users.show",e==null?void 0:e.user_id)},{default:P(()=>{var p;return[f(o((p=e==null?void 0:e.user)==null?void 0:p.name),1)]}),_:2},1032,["href"])]),t("td",null,[f(o(+e.from_amount)+" ",1),t("span",et,o(e.default_currency),1)]),t("td",null,[f(o(e.to_amount)+" ",1),t("span",st,o(e.transfer_currency),1)]),t("td",null,o(s(h)(+e.service_fee||0)),1),t("td",ot,o(s(z)(e.created_at).format("DD MMM, YYYY")),1)]))),128))])):(i(),$(q,{key:1,"for-table":"true"}))])]),n(j,{links:c.exchangeTransactions.links},null,8,["links"])])]),t("div",at,[t("form",{method:"POST",onSubmit:r[1]||(r[1]=A(e=>O(s(l),"exchange_details","#infoDrawer"),["prevent"]))},[t("div",nt,[t("h5",null,o(s(a)("Conversion Details")),1),lt]),t("div",it,[t("div",rt,[t("label",dt,o(s(a)("Title")),1),C(t("input",{type:"text",class:"input",placeholder:"Title","onUpdate:modelValue":r[0]||(r[0]=e=>s(l).title=e)},null,512),[[T,s(l).title]]),t("label",ct,o(s(a)("Add Details")),1),(i(!0),d(b,null,g(s(l).items,(e,p)=>(i(),d("div",{class:"mb-2 flex items-center gap-x-2",key:p},[C(t("input",{type:"text",class:"input",placeholder:"detail","onUpdate:modelValue":k=>e.value=k},null,8,ut),[[T,e.value]]),t("button",{type:"button",onClick:k=>M(p),class:"btn btn-danger"},[n(x,{icon:"bx:x",class:"text-lg"})],8,mt)]))),128)),t("button",{type:"button",onClick:F,class:"btn btn-primary"},[n(x,{icon:"bx:plus",class:"text-lg"})])])]),t("div",pt,[t("div",_t,[t("button",bt,[t("span",null,o(s(a)("Cancel")),1)]),n(J,{processing:s(l).processing,classes:"w-full btn btn-primary flex items-center","btn-text":s(a)("Submit")},null,8,["processing","btn-text"])])])],32),ft])],64)}}});export{Vt as default};
