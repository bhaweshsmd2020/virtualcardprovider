import{T as A,x as S,o as n,c as d,a as P,d as M,e as i,b as t,l as m,t as e,h as u,u as o,F as p,w as B,m as N,v as f,f as O}from"./app-8b08b02b.js";import{_ as U}from"./AdminLayout-2a0b7492.js";import{P as F}from"./PageHeader-f9559e85.js";import{s as I}from"./sharedComposable-7773727f.js";import{h as R}from"./moment-a9aaa855.js";import{C as T}from"./CreditCardDetails-cb23ac82.js";import"./toastComposable-d43a11ef.js";import"./dropdown-dfddaeee.js";import"./Modal-68ba130b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-e495c250.js";import"./CreditCard-6ead730a.js";import"./sweetalert2.esm.all-df3a4912.js";const z={class:"container flex-grow p-4 sm:p-6"},E={class:"card-body card mt-5 space-y-6"},L={class:"flex flex-col justify-between space-y-4 p-1 md:flex-row"},Y={class:"flex items-center justify-center md:justify-start"},$={class:"flex h-16 w-full items-center gap-4 pr-4"},H={alt:"logo",class:"block h-[45px] dark:hidden"},q={alt:"logo",class:"hidden h-[45px] dark:block"},G={class:"flex flex-col items-start justify-center md:items-end"},J={class:"my-0 py-0 text-sm font-medium text-slate-700 dark:text-slate-300"},K={class:"font-normal text-slate-600 dark:text-slate-300"},Q={class:"my-0 py-0 text-sm font-medium text-slate-700 dark:text-slate-300"},W={class:"font-normal capitalize text-slate-600 dark:text-slate-300"},X={class:"flex flex-col justify-between space-y-6 p-1 md:flex-row md:space-y-0"},Z={class:"flex w-full flex-col items-start justify-center md:mb-0 md:w-2/3 md:justify-center"},tt={class:"text-xs font-medium uppercase text-slate-400"},et={class:"my-1"},st={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},at={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},ot={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},nt={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},dt={class:"flex w-full flex-col items-start justify-center md:w-1/3 md:items-end"},lt={class:"text-xs font-medium uppercase text-slate-400"},rt={class:"my-1"},it={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},ct={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},mt={class:"w-full overflow-auto p-1"},ut={class:"min-w-[38rem]"},ht={class:"table-responsive whitespace-nowrap rounded-primary border border-slate-200 dark:border-slate-600"},pt={class:"table-striped table-hover table-md table"},ft={class:"text-end"},yt={class:"text-end"},_t={class:"mt-4 flex items-stretch justify-between"},vt={class:"my-2 py-0 text-sm font-semibold"},bt={class:"font-normal"},xt={class:"my-2 py-0 text-sm font-semibold"},kt={class:"font-normal"},wt={class:"my-2 py-0 text-sm font-semibold"},gt={class:"font-normal"},Dt={class:""},Ct={class:"font-semibold"},jt=t("br",null,null,-1),Nt={class:"section-lead"},Vt={class:"section-lead"},At=["href"],St={class:"w-60 space-y-3 pr-6"},Pt={class:"flex items-center justify-between gap-x-2"},Mt={class:"text-sm text-slate-400 dark:text-slate-300"},Bt={class:"text-sm font-semibold text-slate-700 dark:text-slate-300"},Ot={key:0,class:"flex items-center justify-between gap-x-2"},Ut={class:"text-sm text-slate-400 dark:text-slate-300"},Ft={class:"text-sm font-semibold text-slate-700 dark:text-slate-300"},It=t("hr",{class:"mb-1 mt-5 border-slate-200 dark:border-slate-600"},null,-1),Rt={class:"flex items-center justify-between gap-x-2"},Tt={class:"text-sm text-slate-400"},zt={class:"text-sm font-semibold text-slate-700 dark:text-slate-300"},Et={class:"py-2 text-center text-sm"},Lt={class:"card card-body mt-4"},Yt={class:"mt-4 flex items-stretch justify-between"},$t={class:"mb-2 font-semibold"},Ht={class:"mb-5 space-y-1 text-xs"},qt={key:0,class:"w-60 space-y-3 pr-6"},Gt={class:"mb-2 font-semibold"},Jt={class:"mb-5 space-y-1 text-xs"},Kt=["href"],Qt={key:0},Wt={key:1},Xt={key:2},Zt={class:"flex items-end space-x-2"},te={key:0},ee={class:"label mb-1"},se={value:"pending"},ae={value:"approved"},oe={value:"rejected"},ne={key:1},de={class:"label mb-1"},le={key:2},re={class:"label mb-1"},ie={key:3},ce={class:"label mb-1"},me={value:"pending"},ue={value:"approved"},he={value:"rejected"},pe={value:"active"},fe={value:"inactive"},ye=["disabled"],_e=O({layout:U}),Pe=Object.assign(_e,{__name:"Show",props:["order","invoice_data","meta","creditCard","card_details","receiptDetail","other_state","other_city"],setup(s){const y=s,{formatCurrency:h}=I(),l=A({status:y.order.status,cardholder_address:"user",card_number:"",card_cvv:"",payment_status:"pending"}),V=()=>{l.put(route("admin.card-orders.update",y.order.id),{onSuccess:()=>{}})};return(a,r)=>{var v,b,x,k,w,g,D,C,j;const _=S("lazy");return n(),d("main",z,[P(F,{title:"Order Details"}),s.creditCard?(n(),M(T,{key:0,"can-edit":!0,"credit-card":s.creditCard,"card-details":s.card_details,"other-state":s.other_state,"other-city":s.other_city},null,8,["credit-card","card-details","other-state","other-city"])):i("",!0),t("div",E,[t("div",L,[t("div",Y,[t("div",$,[m(t("img",H,null,512),[[_,a.$page.props.primaryData.deep_logo]]),m(t("img",q,null,512),[[_,a.$page.props.primaryData.logo]])])]),t("div",G,[t("h4",null,"Invoice #"+e(s.order.invoice_no),1),t("p",J,[u(e(a.trans("Order Date"))+": ",1),t("span",K,e(o(R)(s.order.created_at).format("DD-MM-YYYY")),1)]),t("p",Q,[u(e(a.trans("Status"))+": ",1),t("span",W,e(s.order.status),1)])])]),t("div",X,[t("div",Z,[t("p",tt,e(a.trans("BILLED FROM")),1),t("h6",et,e(s.invoice_data.company_name),1),t("p",st,e(s.invoice_data.address),1),t("p",at,e(s.invoice_data.city),1),t("p",ot,e(s.invoice_data.post_code),1),t("p",nt,e(s.invoice_data.country),1)]),t("div",dt,[t("p",lt,e(a.trans("BILLED TO")),1),t("h6",rt,e(s.order.user.name),1),t("p",it,e(s.order.user.email),1),t("p",ct,e(s.order.user.phone),1)])]),t("div",mt,[t("div",ut,[t("div",ht,[t("table",pt,[t("tbody",null,[t("tr",null,[t("td",null,e(a.trans("Card Name")),1),t("td",null,[t("p",ft,e(a.trans("Initial Paid Deposit")),1)])]),t("tr",null,[t("td",null,e(s.order.card.title),1),t("td",null,[t("p",yt,e(o(h)(s.order.amount)),1)])])])])]),t("div",_t,[t("div",null,[t("p",vt,[u(e(a.trans("Payment Method"))+": ",1),t("span",bt,e(s.order.gateway.name),1)]),t("p",xt,[u(e(a.trans("Payment Id"))+": ",1),t("span",kt,e(s.order.payment_id),1)]),t("p",wt,[u(e(a.trans("Card Number"))+": ",1),t("span",gt,"**** **** **** "+e(s.card_details.last_four),1)]),t("div",Dt,[s.meta!=null?(n(),d(p,{key:0},[t("div",Ct,e(a.trans("Payment Info:")),1),jt,t("p",Nt,e(s.meta.comment),1),t("p",Vt,[t("a",{target:"_blank",href:s.meta.screenshot},e(a.trans("Attachment")),9,At)])],64)):i("",!0)])]),t("div",St,[t("div",Pt,[t("p",Mt,e(a.trans("Subtotal"))+":",1),t("p",Bt,e(o(h)(parseFloat(+s.order.amount)-parseFloat(+s.order.deposit_fee||0))),1)]),(v=s.order)!=null&&v.deposit_fee?(n(),d("div",Ot,[t("p",Ut,e(a.trans("Deposit Fee"))+": ",1),t("p",Ft,e(o(h)(+s.order.deposit_fee)||0),1)])):i("",!0),It,t("div",Rt,[t("p",Tt,e(a.trans("Total"))+":",1),t("p",zt,e(o(h)(+s.order.amount)),1)])])])])]),t("p",Et,e(a.trans("Thanks for your Business")),1)]),t("div",Lt,[t("div",Yt,[t("div",null,[t("p",$t,e(a.trans("User Address")),1),t("div",Ht,[t("p",null,e(a.trans("Country : "))+" "+e(((b=s.order.user)==null?void 0:b.country.name)||"N/A"),1),t("p",null,e(a.trans("City : "))+" "+e(s.order.user.city_id===null?"N/A":s.order.user.city_id===1e3?((x=s.other_city)==null?void 0:x.name)||"N/A":((w=(k=s.order.user)==null?void 0:k.city)==null?void 0:w.name)||"N/A"),1),t("p",null,e(a.trans("State : "))+" "+e(s.order.user.state_id===null?"N/A":s.order.user.state_id===1e3?((g=s.other_state)==null?void 0:g.name)||"N/A":((C=(D=s.order.user)==null?void 0:D.state)==null?void 0:C.name)||"N/A"),1),t("p",null,e(a.trans("Postal Code : "))+" "+e(s.order.user.postal_code||"N/A"),1),t("p",null,e(a.trans("Address Line : "))+" "+e(((j=s.order.user)==null?void 0:j.address_line)||"N/A"),1)])]),s.receiptDetail!=null?(n(),d("div",qt,[t("p",Gt,e(a.trans("Payment Receipt")),1),t("div",Jt,[t("p",null,e(a.trans("Message : "))+" "+e(s.receiptDetail.comments),1),t("p",null,[u(e(a.trans("Receipt : "))+" ",1),t("a",{target:"_blank",class:"badge badge-success",href:s.receiptDetail.image},e(a.trans("View")),9,Kt)]),t("p",null,[u(e(a.trans("Status : "))+" ",1),s.receiptDetail.status==0?(n(),d("span",Qt,"Pending")):s.receiptDetail.status==1?(n(),d("span",Wt,"Approved")):s.receiptDetail.status==2?(n(),d("span",Xt,"Rejected")):i("",!0)])])])):i("",!0)]),t("form",{onSubmit:B(V,["prevent"])},[t("div",Zt,[s.receiptDetail!=null&&s.receiptDetail.status==0?(n(),d("div",te,[t("label",ee,e(a.trans("Payment Status")),1),m(t("select",{class:"select capitalize",name:"payment_status","onUpdate:modelValue":r[0]||(r[0]=c=>o(l).payment_status=c)},[t("option",se,e(a.trans("pending")),1),t("option",ae,e(a.trans("approve")),1),t("option",oe,e(a.trans("Reject")),1)],512),[[N,o(l).payment_status]])])):i("",!0),s.order.status==="pending"?(n(),d("div",ne,[t("label",de,e(a.trans("Card Number")),1),m(t("input",{type:"password",name:"card_number",class:"input","onUpdate:modelValue":r[1]||(r[1]=c=>o(l).card_number=c),placeholder:"Enter Card Number"},null,512),[[f,o(l).card_number]])])):i("",!0),s.order.status==="pending"?(n(),d("div",le,[t("label",re,e(a.trans("Card CVV")),1),m(t("input",{type:"password",name:"card_cvv",class:"input","onUpdate:modelValue":r[2]||(r[2]=c=>o(l).card_cvv=c),placeholder:"Enter Card CVV"},null,512),[[f,o(l).card_cvv]])])):i("",!0),s.order.status==="pending"?(n(),d("div",ie,[m(t("input",{type:"hidden",name:"status",class:"input",value:"user","onUpdate:modelValue":r[3]||(r[3]=c=>o(l).cardholder_address=c),placeholder:"Status"},null,512),[[f,o(l).cardholder_address]]),t("label",ce,e(a.trans("Order Status")),1),m(t("select",{class:"select capitalize",name:"status","onUpdate:modelValue":r[4]||(r[4]=c=>o(l).status=c)},[t("option",me,e(a.trans("pending")),1),s.order.status==="pending"?(n(),d(p,{key:0},[t("option",ue,e(a.trans("approve")),1),t("option",he,e(a.trans("Reject")),1)],64)):(n(),d(p,{key:1},[t("option",pe,e(a.trans("active")),1),t("option",fe,e(a.trans("inactive")),1)],64))],512),[[N,o(l).status]])])):i("",!0),s.order.status==="pending"?(n(),d("button",{key:4,type:"submit",class:"btn btn-primary",disabled:o(l).processing},e(a.trans("Update")),9,ye)):i("",!0)])],32)])])}}});export{Pe as default};
