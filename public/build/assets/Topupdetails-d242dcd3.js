import{T as j,x as D,o,c as n,a as T,b as t,l as h,t as e,h as d,u as l,e as m,F as p,r as B,m as O,w as S,f as z}from"./app-8b08b02b.js";import{_ as F}from"./AdminLayout-2a0b7492.js";import{P as M}from"./PageHeader-f9559e85.js";import{s as I}from"./sharedComposable-7773727f.js";import{h as L}from"./moment-a9aaa855.js";import"./dropdown-dfddaeee.js";import"./Modal-68ba130b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-e495c250.js";import"./toastComposable-d43a11ef.js";const N={class:"container flex-grow p-4 sm:p-6"},P={class:"card-body card mt-5 space-y-6"},V={class:"flex flex-col justify-between space-y-4 p-1 md:flex-row"},C={class:"flex items-center justify-center md:justify-start"},Y={class:"flex h-16 w-full items-center gap-4 pr-4"},A={alt:"logo",class:"block h-[45px] dark:hidden"},E={alt:"logo",class:"hidden h-[45px] dark:block"},R={class:"flex flex-col items-start justify-center md:items-end"},U={class:"my-0 py-0 text-sm font-medium text-slate-700 dark:text-slate-300"},$={class:"font-normal text-slate-600 dark:text-slate-300"},q={class:"my-0 py-0 text-sm font-medium text-slate-700 dark:text-slate-300"},W={class:"font-normal capitalize text-slate-600 dark:text-slate-300"},H={key:0,class:"flex flex-col justify-between space-y-6 p-1 md:flex-row md:space-y-0"},G={class:"flex w-full flex-col items-start justify-center md:mb-0 md:w-2/3 md:justify-center"},J={class:"text-xs font-medium uppercase text-slate-400"},K={class:"my-1"},Q={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},X={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},Z={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},tt={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},et={class:"flex w-full flex-col items-start justify-center md:w-1/3 md:items-end"},st={class:"text-xs font-medium uppercase text-slate-400"},at={class:"my-1"},ot={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},nt={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},lt={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},dt={class:"w-full overflow-auto p-1"},rt={class:"min-w-[38rem]"},it={class:"table-responsive whitespace-nowrap rounded-primary border border-slate-200 dark:border-slate-600"},ct={class:"table-striped table-hover table-md table"},mt={class:"text-end"},ut={class:"text-end"},ht={class:"mt-4 flex items-stretch justify-between"},pt={class:"my-2 py-0 text-sm font-semibold"},ft={class:"font-normal"},_t={class:"my-2 py-0 text-sm font-semibold"},xt={class:"font-normal"},yt={class:"my-2 py-0 text-sm font-semibold"},bt={class:"font-normal capitalize"},vt={class:""},wt={class:"font-semibold"},kt={class:"space-y-1 text-sm"},gt=["href"],jt={class:"font-semibold capitalize"},Dt={class:"w-60 space-y-3 pr-6"},Tt={class:"flex items-center justify-between gap-x-2"},Bt={class:"text-sm text-slate-400 dark:text-slate-300"},Ot={class:"whitespace-nowrap text-sm font-semibold text-slate-700 dark:text-slate-300"},St={key:0,class:"flex items-center justify-between gap-x-2"},zt={class:"text-sm text-slate-400 dark:text-slate-300"},Ft={class:"text-sm font-semibold text-slate-700 dark:text-slate-300"},Mt=t("hr",{class:"mb-1 mt-5 border-slate-200 dark:border-slate-600"},null,-1),It={class:"flex items-center justify-between gap-x-2"},Lt={class:"text-sm text-slate-400"},Nt={class:"whitespace-nowrap text-sm font-semibold text-slate-700 dark:text-slate-300"},Pt={class:"py-2 text-center text-sm"},Vt={key:0,class:"card mt-4"},Ct={class:"card-body flex items-end space-x-2"},Yt={class:"label mb-1"},At={value:"pending"},Et={value:"approved"},Rt={value:"rejected"},Ut=["disabled"],$t=z({layout:F}),ee=Object.assign($t,{__name:"Topupdetails",props:["order","invoice_data","meta"],setup(s){const f=s,{formatCurrency:r}=I(),i=j({status:f.order.status,cardholder_address:"user"}),g=()=>{i.put(route("admin.top-up.update",f.order.id),{onSuccess:()=>{toast.success("Order status updated")}})};return(a,_)=>{var y,b,v,w,k;const x=D("lazy");return o(),n("main",N,[T(M,{title:"Topup Details"}),t("div",P,[t("div",V,[t("div",C,[t("div",Y,[h(t("img",A,null,512),[[x,a.$page.props.primaryData.deep_logo]]),h(t("img",E,null,512),[[x,a.$page.props.primaryData.logo]])])]),t("div",R,[t("h4",null,"Invoice #"+e(s.order.invoice_no),1),t("p",U,[d(e(a.trans("Order Date"))+": ",1),t("span",$,e(l(L)(s.order.created_at).format("DD-MM-YYYY")),1)]),t("p",q,[d(e(a.trans("Status"))+": ",1),t("span",W,e(s.order.status),1)])])]),(y=s.order)!=null&&y.gateway&&s.order.payment_id?(o(),n("div",H,[t("div",G,[t("p",J,e(a.trans("BILLED FROM")),1),t("h6",K,e(s.invoice_data.company_name),1),t("p",Q,e(s.invoice_data.address),1),t("p",X,e(s.invoice_data.city),1),t("p",Z,e(s.invoice_data.post_code),1),t("p",tt,e(s.invoice_data.country),1)]),t("div",et,[t("p",st,e(a.trans("BILLED TO")),1),t("h6",at,e(s.order.user.name),1),t("p",ot,e(s.order.user.address_line),1),t("p",nt,e(s.order.user.email),1),t("p",lt,e(s.order.user.phone),1)])])):m("",!0),t("div",dt,[t("div",rt,[t("div",it,[t("table",ct,[t("tbody",null,[t("tr",null,[t("td",null,e(a.trans("User Name")),1),t("td",null,e(a.trans("Requested Amount")),1),t("td",null,[t("p",mt,e(a.trans("Amount")),1)])]),t("tr",null,[t("td",null,e(s.order.user.name),1),t("td",null,e(s.order.requested_amount),1),t("td",null,[t("p",ut,e(l(r)(s.order.amount)),1)])])])])]),t("div",ht,[t("div",null,[t("p",pt,[d(e(a.trans("Payment Method"))+": ",1),t("span",ft,e(((v=(b=s.order)==null?void 0:b.gateway)==null?void 0:v.name)||"Wallet Balance"),1)]),t("p",_t,[d(e(a.trans("Payment Id"))+": ",1),t("span",xt,e(((w=s.order)==null?void 0:w.payment_id)||"Wallet Balance"),1)]),t("p",yt,[d(e(a.trans("Topup To"))+": ",1),t("span",bt,e(((k=s.order)==null?void 0:k.type)||"Balance"),1)]),t("div",vt,[s.meta!=null?(o(),n(p,{key:0},[t("div",wt,e(a.trans("Payment Info:")),1),t("div",kt,[(o(!0),n(p,null,B(s.meta,(c,u)=>(o(),n("p",{key:u},[u==="screenshot"?(o(),n("a",{key:0,target:"_blank",href:c},e(a.trans("Attachment")),9,gt)):(o(),n(p,{key:1},[t("span",jt,e(u),1),d(" : "+e(c),1)],64))]))),128))])],64)):m("",!0)])]),t("div",Dt,[t("div",Tt,[t("p",Bt,e(a.trans("Subtotal"))+":",1),t("p",Ot,e(l(r)(parseFloat(s.order.amount)-parseFloat(s.order.transaction_fee||0))),1)]),s.order.transaction_fee?(o(),n("div",St,[t("p",zt,e(a.trans("Transaction Fee"))+": ",1),t("p",Ft,e(l(r)(+s.order.transaction_fee||0)),1)])):m("",!0),Mt,t("div",It,[t("p",Lt,e(a.trans("Total"))+":",1),t("p",Nt,e(l(r)(s.order.amount||0)),1)])])])])]),t("p",Pt,e(a.trans("Thanks for your Business")),1)]),s.order.status==="pending"?(o(),n("div",Vt,[t("form",{onSubmit:S(g,["prevent"])},[t("div",Ct,[t("div",null,[t("label",Yt,e(a.trans("Order Status")),1),h(t("select",{class:"select capitalize",name:"status","onUpdate:modelValue":_[0]||(_[0]=c=>l(i).status=c)},[t("option",At,e(a.trans("pending")),1),t("option",Et,e(a.trans("approve")),1),t("option",Rt,e(a.trans("Reject")),1)],512),[[O,l(i).status]])]),t("button",{type:"submit",class:"btn btn-primary",disabled:l(i).processing},e(a.trans("Update")),9,Ut)])],32)])):m("",!0)])}}});export{ee as default};
