import{f as C,j as U,T as B,k as M,o as s,c as a,a as h,u as n,b as t,t as l,p as N,F as _,r as g,w as D,Z as F,g as y,h as L,n as T,l as x,v as j,bF as K}from"./app-55c25e51.js";import{_ as Y}from"./UserLayout-5a6919f2.js";import{S as z}from"./SpinnerBtn-5f5f7277.js";import{s as E}from"./sharedComposable-713147fd.js";import"./dropdown-8ee40221.js";import"./moment-a9aaa855.js";import"./Modal-522ea419.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-869d906f.js";import"./toastComposable-bc1f97e9.js";const P={class:"container flex-grow p-4 sm:p-6"},Z={class:"flex items-center justify-between"},q={class:"main-title"},A={class:"w-8/12 mx-auto mt-3 card"},G={key:0,class:"card-body"},H={class:"flex gap-2"},I=["onClick"],J={key:0,class:"mb-2 dash-input-wrapper"},O=["onUpdate:modelValue"],Q={key:1,class:"mb-2"},R=["onChange"],W={key:2,class:"mb-2 dash-input-wrapper"},X=["for"],ee=["type","onUpdate:modelValue","id"],te={key:1,class:"py-6 text-center"},se=C({layout:Y}),pe=C({...se,__name:"Create",props:["kyc_methods","kyc_type"],setup(d){var f,k;const{kyc_methods:v,kyc_type:w}=d,i=U(v[0]?v[0]:{}),{authUser:b}=E(),V=r=>{var o,m;i.value=r,u.method=(o=i.value)==null?void 0:o.id,u.fields=((m=i.value)==null?void 0:m.fields)??[]},$=`${b.value.first_name} ${b.value.last_name}`,u=B({method:(f=i.value)==null?void 0:f.id,fields:((k=i.value)==null?void 0:k.fields.map((r,o)=>({...r,value:o===0?$:r.value})))??[],note:"",type:w}),S=()=>{u.post(route("user.kyc.store"))};return(r,o)=>{const m=M("Link");return s(),a(_,null,[h(n(F),{title:"KYC verification | User Panel"}),t("main",P,[t("div",Z,[t("h2",q,l(n(y)("KYC verification")),1),h(m,{href:r.route("user.kyc.types",d.kyc_type),class:"btn btn-primary"},{default:N(()=>[L(l(n(y)("Back")),1)]),_:1},8,["href"])]),t("div",A,[d.kyc_methods.length?(s(),a("div",G,[t("div",H,[(s(!0),a(_,null,g(d.kyc_methods,(e,p)=>(s(),a("button",{key:p,onClick:c=>V(e),type:"button",class:T([[i.value.id==e.id?"btn-primary":"border"],"btn"])},l(e.title),11,I))),128))]),t("form",{class:"p-3",onSubmit:o[0]||(o[0]=D(e=>S(),["prevent"]))},[(s(!0),a(_,null,g(n(u).fields,(e,p)=>(s(),a(_,{key:e.id},[e.type=="textarea"?(s(),a("div",J,[t("label",null,l(e.label),1),x(t("textarea",{"onUpdate:modelValue":c=>e.value=c,class:"textarea"},null,8,O),[[j,e.value]])])):e.type=="file"?(s(),a("div",Q,[t("label",null,l(e.label),1),t("input",{type:"file",onChange:c=>e.value=c.target.files[0],class:"input"},null,40,R)])):(s(),a("div",W,[t("label",{for:`fields_${p}`},l(e.label),9,X),x(t("input",{type:e.type,"onUpdate:modelValue":c=>e.value=c,id:`fields_${p}`,class:"input"},null,8,ee),[[K,e.value]])]))],64))),128)),h(z,{processing:n(u).processing,"btn-text":n(y)("Submit")},null,8,["processing","btn-text"])],32)])):(s(),a("div",te,l(n(y)("No remaining items to submit")),1))])])],64)}}});export{pe as default};
