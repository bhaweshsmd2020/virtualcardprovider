import{_ as k}from"./UserLayout-5a6919f2.js";import{P as O}from"./PageHeader-8abf30c3.js";import{i as _,g as o,k as h,o as i,c as u,a as n,u as a,b as t,t as s,F as P,r as L,d as M,f as S,p as f,h as B,n as D}from"./app-55c25e51.js";import{_ as A}from"./OverviewGrid-646656c7.js";import{P as N}from"./Paginate-d3bcd4a4.js";import{d as b}from"./drawer-fe4c5e1a.js";import{_ as Y}from"./NoDataFound-c4885428.js";import{_ as $}from"./FilterDropdown-df98b38e.js";import{s as j}from"./sharedComposable-713147fd.js";import{h as z}from"./moment-a9aaa855.js";import{S as w}from"./sweetalert2.esm.all-df3a4912.js";import"./dropdown-8ee40221.js";import"./Modal-522ea419.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-869d906f.js";import"./toastComposable-bc1f97e9.js";import"./SpinnerBtn-5f5f7277.js";const I={class:"container flex-grow p-4 sm:p-6"},T={class:"space-y-4"},V={class:"table-responsive whitespace-nowrap rounded-primary"},F={class:"table"},R={class:"!text-right"},E={key:0},H={class:"text-center"},U={class:"flex justify-end"},q={class:"dropdown","data-placement":"bottom-start"},G={class:"dropdown-toggle"},J={class:"dropdown-content w-40"},K={class:"dropdown-list"},Q={class:"dropdown-list-item"},W=S({layout:k}),ht=Object.assign(W,{__name:"Index",props:["orders","request","totalOrders","totalPendingOrders","totalCompleteOrders","totalDeclinedOrders","type"],setup(r){_(()=>{b.init();const m=new URLSearchParams(window.location.search).get("success");if(m){w.fire({icon:"success",title:`<h2 style='font-size: 20px;'>${m}</h2>`,html:"<p style='font-size: 15px;'>You will be notify once card will be ready to use with 1-2 days</p>",confirmButtonText:"Okay",allowOutsideClick:!1,customClass:{popup:"custom-swal-popup"},didOpen:d=>{const e=document.createElement("button");e.innerHTML="&times;",e.classList.add("swal-close-btn"),e.onclick=()=>w.close(),d.appendChild(e)}});const l=new URL(window.location.href);l.searchParams.delete("success"),window.history.replaceState({},document.title,l)}}),_(()=>{b.init()});const{formatCurrency:v,badgeClass:x}=j(),c=r,g=[{value:c.totalOrders,title:o("Total Orders"),iconClass:"bx bx-badge-check"},{value:c.totalPendingOrders||0,title:o("Pending Orders"),iconClass:"bx bx-badge"},{value:c.totalCompleteOrders||0,title:o("Completed Orders"),iconClass:"bx bx-check"},{value:c.totalDeclinedOrders||0,title:o("Declined Orders"),iconClass:"bx bx-x-circle"}],y=[{value:"invoice_no",label:"Invoice"},{value:"amount",label:"Amount"},{label:"Status",options:[{label:"Pending",value:"pending"},{label:"Approved",value:"approved"},{label:"Rejected",value:"rejected"}]}];return(C,m)=>{const l=h("Link"),d=h("Icon");return i(),u("main",I,[n(O,{title:a(o)("Card Orders")},null,8,["title"]),t("div",T,[n(A,{items:g}),n($,{options:y}),t("div",V,[t("table",F,[t("thead",null,[t("tr",null,[t("th",null,s(a(o)("Order No")),1),t("th",null,s(a(o)("Card Name")),1),t("th",null,s(a(o)("Payment Mode")),1),t("th",null,s(a(o)("Amount")),1),t("th",null,s(a(o)("Status")),1),t("th",null,s(a(o)("Created At")),1),t("th",R,s(a(o)("Actions")),1)])]),r.orders.total?(i(),u("tbody",E,[(i(!0),u(P,null,L(r.orders.data,e=>{var p;return i(),u("tr",{key:e.id},[t("td",null,[n(l,{href:"/user/card-orders/"+e.id,class:"text-sm font-medium text-primary-500 transition duration-150 ease-in-out hover:underline"},{default:f(()=>[B(s(e.invoice_no),1)]),_:2},1032,["href"])]),t("td",null,s((p=e==null?void 0:e.card)==null?void 0:p.title),1),t("td",null,s(e.gateway.name),1),t("td",null,s(a(v)(e.amount)),1),t("td",null,[t("div",{class:D(["capitalize",a(x)(e.status)])},s(e.status),3)]),t("td",H,s(a(z)(e.created_at).format("DD MMM, YYYY")),1),t("td",null,[t("div",U,[t("div",q,[t("div",G,[n(d,{class:"w-30 text-lg",icon:"bi:three-dots-vertical"})]),t("div",J,[t("ul",K,[t("li",Q,[n(l,{href:"/user/card-orders/"+e.id,class:"dropdown-link"},{default:f(()=>[n(d,{class:"h-6",icon:"fe:eye"}),t("span",null,s(a(o)("View")),1)]),_:2},1032,["href"])])])])])])])])}),128))])):(i(),M(Y,{key:1,"for-table":"true"}))])]),n(N,{links:r.orders.links},null,8,["links"])])])}}});export{ht as default};
