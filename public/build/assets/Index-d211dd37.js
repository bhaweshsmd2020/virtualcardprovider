import{f as y,g as t,T as g,j as f,k as A,o as l,c as i,a as d,b as e,t as s,u as a,w as P,l as x,m as V,F as j,r as F,e as p,d as N,s as B,p as I,h as M,q as R}from"./app-55c25e51.js";import{_ as U}from"./AdminLayout-d7dc3a0b.js";import{P as $}from"./Paginate-d3bcd4a4.js";import{P as D}from"./PageHeader-8abf30c3.js";import{_ as T}from"./OverviewGrid-646656c7.js";import"./sharedComposable-713147fd.js";import{_ as E}from"./NoDataFound-c4885428.js";import"./dropdown-8ee40221.js";import"./moment-a9aaa855.js";import"./Modal-522ea419.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-869d906f.js";import"./toastComposable-bc1f97e9.js";const H={class:"container flex-grow p-4 sm:p-6"},K={class:"space-y-4"},L={class:"mb-2"},O={class:"flex justify-between items-center"},Y={class:"mb-3 w-72"},z={class:"input-group"},G={value:""},J={value:"delete"},Q=["disabled"],W={class:"input-group w-72"},X=["placeholder"],Z={type:"submit",class:"btn btn-primary btn-icon"},ee={class:"table-responsive"},te={class:"table"},se={class:"pt-2 text-center"},ae={class:"text-right"},oe={key:0},le={class:"text-center"},ne=["id","value"],ie={key:0,class:"badge badge-warning"},re={key:1,class:"badge badge-primary"},ce={key:2,class:"badge badge-danger"},de={key:3,class:"badge badge-dark"},ue={class:"flex gap-x-2"},pe=y({layout:U}),Ce=y({...pe,__name:"Index",props:["requests","all","approved","pending","rejected","reSubmitted"],setup(u){const r=u,k=[{value:r.all,title:t("All"),iconClass:"bx bx-box"},{value:r.pending,title:t("Pending"),iconClass:"bx bx-hourglass"},{value:r.approved,title:t("Approved"),iconClass:"bx bx-check"},{value:r.rejected,title:t("Rejected"),iconClass:"bx bx-x"},{value:r.reSubmitted,title:t("reSubmitted"),iconClass:"bx bx-repeat"}],w=g({});g({});const q=()=>{w.post(window.location.href,{onFinish(){}})},n=f({request:"",ids:[]}),h=f(r.requests),S=()=>{n.value.ids.length==h.value.data.length?n.value.ids=[]:n.value.ids=h.value.data.map(c=>c.id)};return(_,c)=>{const b=A("Icon");return l(),i("main",H,[d(D),e("div",K,[d(T,{items:k,class:"grid grid-cols-2 gap-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5"}),e("h4",L,s(a(t)("KYC Requests")),1),e("form",{onSubmit:P(q,["prevent"])},[e("div",O,[e("div",Y,[e("div",z,[x(e("select",{class:"select","onUpdate:modelValue":c[0]||(c[0]=o=>n.value.request=o)},[e("option",G,s(a(t)("Select Action")),1),e("option",J,s(a(t)("Delete Permanently")),1)],512),[[V,n.value.request]]),e("button",{class:"btn btn-primary",type:"submit",disabled:!n.value.ids.length},s(a(t)("Submit")),9,Q)])]),e("div",W,[e("input",{type:"text",name:"src",class:"input",placeholder:a(t)("Search by invoice or user")},null,8,X),e("button",Z,[d(b,{icon:"bx:search"})])])])],32)]),e("div",ee,[e("table",te,[e("thead",null,[e("tr",null,[e("th",se,[e("input",{type:"checkbox",id:"select-all",class:"checkbox",onChange:S},null,32)]),e("th",null,s(a(t)("Method")),1),e("th",null,s(a(t)("User Name")),1),e("th",null,s(a(t)("Type")),1),e("th",null,s(a(t)("Status")),1),e("th",ae,s(a(t)("Action")),1)])]),u.requests.data?(l(),i("tbody",oe,[(l(!0),i(j,null,F(u.requests.data,o=>{var m,v;return l(),i("tr",{key:o},[e("td",le,[x(e("input",{type:"checkbox","onUpdate:modelValue":c[1]||(c[1]=C=>n.value.ids=C),id:`request-${o.id}`,class:"checkbox",value:o.id},null,8,ne),[[B,n.value.ids]])]),e("td",null,s((m=o.method)==null?void 0:m.title),1),e("td",null,s((v=o.user)==null?void 0:v.name),1),e("td",null,s(o.type.charAt(0).toUpperCase()+o.type.slice(1)),1),e("td",null,[o.status==0?(l(),i("span",ie,s(a(t)("Pending")),1)):o.status==1?(l(),i("span",re,s(a(t)("Approved")),1)):o.status==2?(l(),i("span",ce,s(a(t)("Rejected")),1)):o.status==3?(l(),i("span",de,s(a(t)("Re-Submitted")),1)):p("",!0)]),e("td",ue,[d(a(R),{class:"btn btn-primary",href:_.route("admin.kyc-requests.show",o.id)},{default:I(()=>[d(b,{icon:"bx:show"}),M(" "+s(a(t)("View")),1)]),_:2},1032,["href"])])])}),128))])):p("",!0),u.requests.data.length==0?(l(),N(E,{key:1,"for-table":"true"})):p("",!0)]),d($,{links:u.requests.links},null,8,["links"])])])}}});export{Ce as default};
