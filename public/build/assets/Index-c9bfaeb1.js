import{g as a,T as C,k as A,o as i,c as r,a as d,p as g,u as e,b as t,t as o,F as _,r as f,d as F,f as T,l as p,m as v,v as k,n as $}from"./app-55c25e51.js";import{_ as Y}from"./AdminLayout-d7dc3a0b.js";import{P as M}from"./PageHeader-8abf30c3.js";import{_ as B}from"./OverviewGrid-646656c7.js";import{P as O}from"./Paginate-d3bcd4a4.js";import{_ as S}from"./Drawer-d021e19f.js";import{d as w}from"./drawer-fe4c5e1a.js";import{_ as P}from"./NoDataFound-c4885428.js";import{_ as L}from"./FilterDropdown-df98b38e.js";import{s as R}from"./sharedComposable-713147fd.js";import{h as j}from"./moment-a9aaa855.js";import"./dropdown-8ee40221.js";import"./Modal-522ea419.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-869d906f.js";import"./toastComposable-bc1f97e9.js";import"./SpinnerBtn-5f5f7277.js";const z={class:"mb-2"},H={value:""},q=["value"],G={class:"mb-2"},J={class:"mb-2"},K={value:"active"},Q={value:"inactive"},W={class:"mb-2"},X={value:""},Z=["value"],tt={class:"mb-2"},et={class:"mb-2"},st={value:"active"},ot={value:"inactive"},at={class:"container flex-grow space-y-4 p-4 sm:p-6"},nt={class:"table-responsive whitespace-nowrap rounded-primary"},lt={class:"table"},it={class:"!text-end"},dt={key:0},ct={class:"text-center"},rt={class:"flex justify-end"},ut={class:"dropdown","data-placement":"bottom-start"},mt={class:"dropdown-toggle"},pt={class:"dropdown-content w-40"},_t={class:"dropdown-list"},vt={class:"dropdown-list-item"},bt=["onClick"],ht={class:"dropdown-list-item"},ft=["onClick"],wt=T({layout:Y}),Mt=Object.assign(wt,{__name:"Index",props:["states","counter","countries"],setup(m){const{deleteRow:x}=R(),b=m,I=[{value:"name",label:"State Name"},{value:"country_name",label:"Country Name"},{label:"Status",value:"status",options:[{label:"Active",value:"active"},{label:"Inactive",value:"inactive"}]}],N=[{value:b.counter.total,title:a("Total"),iconClass:"bx bx-list-ol"},{value:b.counter.active,title:a("Active"),iconClass:"bx bx-badge-check"},{value:b.counter.inactive,title:a("Inactive"),iconClass:"bx bx-x"}],c=C({country_id:"",name:"",status:"active"}),D=()=>{c.post(route("admin.states.store"),{onSuccess:()=>w.of("#addNewItemDrawer").hide(),onFinish:()=>form.reset()})},n=C({id:null,country_id:"",name:"",status:"active"}),E=u=>{n.id=u.id,n.country_id=u.country_id,n.name=u.name,n.status=u.status,w.of("#updateItemDrawer").show()},U=()=>{n.put(route("admin.states.update",n.id),{onSuccess:()=>n.reset(),onFinish:()=>w.of("#updateItemDrawer").hide()})};return(u,l)=>{const h=A("Icon");return i(),r(_,null,[d(S,{id:"addNewItemDrawer",title:e(a)("Add New State"),handleSubmit:D,processing:e(c).processing},{default:g(()=>[t("div",z,[t("label",null,o(e(a)("Country")),1),p(t("select",{"onUpdate:modelValue":l[0]||(l[0]=s=>e(c).country_id=s),class:"select"},[t("option",H,o(e(a)("SELECT COUNTRY")),1),(i(!0),r(_,null,f(m.countries,s=>(i(),r("option",{key:s.id,value:s.id},o(s.name)+" ("+o(s.code)+") ",9,q))),128))],512),[[v,e(c).country_id]])]),t("div",G,[t("label",null,o(e(a)("State Name")),1),p(t("input",{"onUpdate:modelValue":l[1]||(l[1]=s=>e(c).name=s),class:"input",placeholder:"California"},null,512),[[k,e(c).name]])]),t("div",J,[t("label",null,o(e(a)("Status")),1),p(t("select",{"onUpdate:modelValue":l[2]||(l[2]=s=>e(c).status=s),class:"select"},[t("option",K,o(e(a)("Active")),1),t("option",Q,o(e(a)("Inactive")),1)],512),[[v,e(c).status]])])]),_:1},8,["title","processing"]),d(S,{id:"updateItemDrawer",title:e(a)("Edit State"),handleSubmit:U,processing:e(n).processing},{default:g(()=>[t("div",W,[t("label",null,o(e(a)("Country")),1),p(t("select",{"onUpdate:modelValue":l[3]||(l[3]=s=>e(n).country_id=s),class:"select"},[t("option",X,o(e(a)("SELECT COUNTRY")),1),(i(!0),r(_,null,f(m.countries,s=>(i(),r("option",{key:s.id,value:s.id},o(s.name)+" ("+o(s.code)+") ",9,Z))),128))],512),[[v,e(n).country_id]])]),t("div",tt,[t("label",null,o(e(a)("State Name")),1),p(t("input",{"onUpdate:modelValue":l[4]||(l[4]=s=>e(n).name=s),class:"input",placeholder:"California"},null,512),[[k,e(n).name]])]),t("div",et,[t("label",null,o(e(a)("Status")),1),p(t("select",{"onUpdate:modelValue":l[5]||(l[5]=s=>e(n).status=s),class:"select"},[t("option",st,o(e(a)("Active")),1),t("option",ot,o(e(a)("Inactive")),1)],512),[[v,e(n).status]])])]),_:1},8,["title","processing"]),t("main",at,[d(M),d(B,{items:N,grid:"3"}),d(L,{action:u.route("admin.states.index"),options:I},null,8,["action"]),t("div",nt,[t("table",lt,[t("thead",null,[t("tr",null,[t("th",null,o(e(a)("#")),1),t("th",null,o(e(a)("State Name")),1),t("th",null,o(e(a)("Country Name")),1),t("th",null,o(e(a)("Status")),1),t("th",null,o(e(a)("Created At")),1),t("th",it,o(e(a)("Actions")),1)])]),m.states.total?(i(),r("tbody",dt,[(i(!0),r(_,null,f(m.states.data,s=>{var y;return i(),r("tr",{key:s.id},[t("td",null,o(s.id),1),t("td",null,o(s.name),1),t("td",null,o(((y=s.country)==null?void 0:y.name)??"na"),1),t("td",null,[t("div",{class:$([[s.status=="active"?"badge-primary":"badge-secondary"],"badge capitalize"])},o(s.status),3)]),t("td",ct,o(e(j)(s.created_at).format("DD MMM, YYYY")),1),t("td",null,[t("div",rt,[t("div",ut,[t("div",mt,[d(h,{class:"w-30 text-lg",icon:"bi:three-dots-vertical"})]),t("div",pt,[t("ul",_t,[t("li",vt,[t("button",{onClick:V=>E(s),class:"dropdown-link"},[d(h,{class:"h-6",icon:"bx:pencil"}),t("span",null,o(e(a)("Edit")),1)],8,bt)]),t("li",ht,[t("button",{type:"button",class:"dropdown-link",onClick:V=>e(x)(u.route("admin.states.destroy",s))},[d(h,{class:"h-6",icon:"material-symbols:delete-outline"}),t("span",null,o(e(a)("Delete")),1)],8,ft)])])])])])])])}),128))])):(i(),F(P,{key:1,"for-table":"true"}))])]),d(O,{links:m.states.links},null,8,["links"])])],64)}}});export{Mt as default};
