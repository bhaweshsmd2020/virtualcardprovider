import{o as r,c as l,R as F,j as B,g as s,T as S,k as L,a as m,p as I,u as i,b as t,t as a,F as y,r as f,d as E,f as R,l as c,m as g,e as V,v as _,n as j}from"./app-55c25e51.js";import{_ as O}from"./AdminLayout-d7dc3a0b.js";import{P as z}from"./PageHeader-8abf30c3.js";import{_ as H}from"./OverviewGrid-646656c7.js";import{P as q}from"./Paginate-d3bcd4a4.js";import{_ as A}from"./Drawer-d021e19f.js";import{d as C}from"./drawer-fe4c5e1a.js";import{_ as G}from"./NoDataFound-c4885428.js";import{_ as J}from"./FilterDropdown-df98b38e.js";import{s as K}from"./sharedComposable-713147fd.js";import{h as Q}from"./moment-a9aaa855.js";import{_ as W}from"./_plugin-vue_export-helper-c27b6911.js";import"./dropdown-8ee40221.js";import"./Modal-522ea419.js";import"./ToastrContainer-869d906f.js";import"./toastComposable-bc1f97e9.js";import"./SpinnerBtn-5f5f7277.js";const X={},Z={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"24px",height:"24px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},tt=F('<g transform="rotate(0 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.9285714285714286s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(25.714285714285715 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.8571428571428571s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(51.42857142857143 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.7857142857142857s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(77.14285714285714 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.7142857142857143s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(102.85714285714286 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.6428571428571429s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(128.57142857142858 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.5714285714285714s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(154.28571428571428 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.5s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(180 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.42857142857142855s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(205.71428571428572 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.35714285714285715s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(231.42857142857142 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.2857142857142857s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(257.14285714285717 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.21428571428571427s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(282.85714285714283 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.14285714285714285s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(308.57142857142856 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.07142857142857142s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(334.2857142857143 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#000"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="0s" repeatCount="indefinite"></animate></rect></g>',14),et=[tt];function it(p,k){return r(),l("svg",Z,et)}const at=W(X,[["render",it]]),st={class:"mb-2"},nt={value:""},ot=["value"],rt={class:"mb-2"},lt={class:"flex"},dt=["disabled"],ut={value:""},ct=["value"],mt={class:"mb-2"},pt={class:"mb-2"},ht={class:"mb-2"},yt={value:"active"},gt={value:"inactive"},ft={class:"mb-2"},_t={value:""},bt=["value"],vt={class:"mb-2"},xt={class:"flex"},wt={key:0},Ct=t("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"24px",height:"24px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},[t("g",{transform:"rotate(0 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.9285714285714286s",repeatCount:"indefinite"})])]),t("g",{transform:"rotate(25.714285714285715 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.8571428571428571s",repeatCount:"indefinite"})])]),t("g",{transform:"rotate(51.42857142857143 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.7857142857142857s",repeatCount:"indefinite"})])]),t("g",{transform:"rotate(77.14285714285714 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.7142857142857143s",repeatCount:"indefinite"})])]),t("g",{transform:"rotate(102.85714285714286 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.6428571428571429s",repeatCount:"indefinite"})])]),t("g",{transform:"rotate(128.57142857142858 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5714285714285714s",repeatCount:"indefinite"})])]),t("g",{transform:"rotate(154.28571428571428 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5s",repeatCount:"indefinite"})])]),t("g",{transform:"rotate(180 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.42857142857142855s",repeatCount:"indefinite"})])]),t("g",{transform:"rotate(205.71428571428572 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.35714285714285715s",repeatCount:"indefinite"})])]),t("g",{transform:"rotate(231.42857142857142 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.2857142857142857s",repeatCount:"indefinite"})])]),t("g",{transform:"rotate(257.14285714285717 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.21428571428571427s",repeatCount:"indefinite"})])]),t("g",{transform:"rotate(282.85714285714283 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.14285714285714285s",repeatCount:"indefinite"})])]),t("g",{transform:"rotate(308.57142857142856 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.07142857142857142s",repeatCount:"indefinite"})])]),t("g",{transform:"rotate(334.2857142857143 50 50)"},[t("rect",{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#000"},[t("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"})])])],-1),kt=[Ct],Nt=["disabled"],Tt={value:""},St=["value"],It={class:"mb-2"},Et={class:"mb-2"},Vt={class:"mb-2"},At={value:"active"},Ut={value:"inactive"},$t={class:"container flex-grow space-y-4 p-4 sm:p-6"},Dt={class:"table-responsive whitespace-nowrap rounded-primary"},Mt={class:"table"},Yt={class:"!text-end"},Pt={key:0},Ft={class:"text-center"},Bt={class:"flex justify-end"},Lt={class:"dropdown","data-placement":"bottom-start"},Rt={class:"dropdown-toggle"},jt={class:"dropdown-content w-40"},Ot={class:"dropdown-list"},zt={class:"dropdown-list-item"},Ht=["onClick"],qt={class:"dropdown-list-item"},Gt=["onClick"],Jt=R({layout:O}),me=Object.assign(Jt,{__name:"Index",props:["cities","counter","countries"],setup(p){const{deleteRow:k}=K(),b=p,v=B([]),U=[{value:"name",label:"City Name"},{value:"postal_code",label:"Postal Code"},{value:"state_name",label:"State Name"},{value:"country_name",label:"Country Name"},{label:"Status",value:"status",options:[{label:"Active",value:"active"},{label:"Inactive",value:"inactive"}]}],$=[{value:b.counter.total,title:s("Total"),iconClass:"bx bx-list-ol"},{value:b.counter.active,title:s("Active"),iconClass:"bx bx-badge-check"},{value:b.counter.inactive,title:s("Inactive"),iconClass:"bx bx-x"}],d=S({country_id:"",state_id:"",name:"",postal_code:"",status:"active"}),D=()=>{d.post(route("admin.cities.store"),{onSuccess:()=>C.of("#addNewItemDrawer").hide(),onFinish:()=>form.reset()})},o=S({id:null,country_id:"",state_id:"",name:"",postal_code:"",status:"active"}),M=u=>{o.id=u.id,o.country_id=u.country_id,o.state_id=u.state_id,o.name=u.name,o.postal_code=u.postal_code,o.status=u.status,x(o.country_id),C.of("#updateItemDrawer").show()},Y=()=>{o.put(route("admin.cities.update",o.id),{onSuccess:()=>o.reset(),onFinish:()=>C.of("#updateItemDrawer").hide()})},h={states:!1},x=u=>{u&&(h.states=!0,d.reset("country_id"),axios.get(`/api/get-states-by-country/${u}`).then(n=>{v.value=n.data,h.states=!1}))};return(u,n)=>{const w=L("Icon");return r(),l(y,null,[m(A,{id:"addNewItemDrawer",title:i(s)("Add New City"),handleSubmit:D,processing:i(d).processing},{default:I(()=>[t("div",st,[t("label",null,a(i(s)("Country")),1),c(t("select",{"onUpdate:modelValue":n[0]||(n[0]=e=>i(d).country_id=e),onInput:n[1]||(n[1]=e=>x(e.target.value)),class:"select"},[t("option",nt,a(i(s)("SELECT COUNTRY")),1),(r(!0),l(y,null,f(p.countries,e=>(r(),l("option",{key:e.id,value:e.id},a(e.name)+" ("+a(e.code)+") ",9,ot))),128))],544),[[g,i(d).country_id]])]),t("div",rt,[t("label",lt,[t("span",null,a(i(s)("State")),1),h.states?(r(),E(at,{key:0})):V("",!0)]),c(t("select",{"onUpdate:modelValue":n[2]||(n[2]=e=>i(d).state_id=e),class:"select",disabled:h.states},[t("option",ut,a(i(s)("SELECT STATE")),1),(r(!0),l(y,null,f(v.value,e=>(r(),l("option",{key:e.id,value:e.id},a(e.name),9,ct))),128))],8,dt),[[g,i(d).state_id]])]),t("div",mt,[t("label",null,a(i(s)("City Name")),1),c(t("input",{"onUpdate:modelValue":n[3]||(n[3]=e=>i(d).name=e),class:"input",placeholder:"New York"},null,512),[[_,i(d).name]])]),t("div",pt,[t("label",null,a(i(s)("Postal Code")),1),c(t("input",{"onUpdate:modelValue":n[4]||(n[4]=e=>i(d).postal_code=e),class:"input",placeholder:"10001"},null,512),[[_,i(d).postal_code]])]),t("div",ht,[t("label",null,a(i(s)("Status")),1),c(t("select",{"onUpdate:modelValue":n[5]||(n[5]=e=>i(d).status=e),class:"select"},[t("option",yt,a(i(s)("Active")),1),t("option",gt,a(i(s)("Inactive")),1)],512),[[g,i(d).status]])])]),_:1},8,["title","processing"]),m(A,{id:"updateItemDrawer",title:i(s)("Edit City"),handleSubmit:Y,processing:i(o).processing},{default:I(()=>[t("div",ft,[t("label",null,a(i(s)("Country")),1),c(t("select",{"onUpdate:modelValue":n[6]||(n[6]=e=>i(o).country_id=e),onInput:n[7]||(n[7]=e=>x(e.target.value)),class:"select"},[t("option",_t,a(i(s)("SELECT COUNTRY")),1),(r(!0),l(y,null,f(p.countries,e=>(r(),l("option",{key:e.id,value:e.id},a(e.name)+" ("+a(e.code)+") ",9,bt))),128))],544),[[g,i(o).country_id]])]),t("div",vt,[t("label",xt,[t("span",null,a(i(s)("State")),1),h.states?(r(),l("span",wt,kt)):V("",!0)]),c(t("select",{"onUpdate:modelValue":n[8]||(n[8]=e=>i(o).state_id=e),class:"select",disabled:h.states},[t("option",Tt,a(i(s)("SELECT STATE")),1),(r(!0),l(y,null,f(v.value,e=>(r(),l("option",{key:e.id,value:e.id},a(e.name),9,St))),128))],8,Nt),[[g,i(o).state_id]])]),t("div",It,[t("label",null,a(i(s)("City Name")),1),c(t("input",{"onUpdate:modelValue":n[9]||(n[9]=e=>i(o).name=e),class:"input",placeholder:"California"},null,512),[[_,i(o).name]])]),t("div",Et,[t("label",null,a(i(s)("Postal Code")),1),c(t("input",{"onUpdate:modelValue":n[10]||(n[10]=e=>i(o).postal_code=e),class:"input",placeholder:"10001"},null,512),[[_,i(o).postal_code]])]),t("div",Vt,[t("label",null,a(i(s)("Status")),1),c(t("select",{"onUpdate:modelValue":n[11]||(n[11]=e=>i(o).status=e),class:"select"},[t("option",At,a(i(s)("Active")),1),t("option",Ut,a(i(s)("Inactive")),1)],512),[[g,i(o).status]])])]),_:1},8,["title","processing"]),t("main",$t,[m(z),m(H,{items:$,grid:"3"}),m(J,{action:u.route("admin.cities.index"),options:U},null,8,["action"]),t("div",Dt,[t("table",Mt,[t("thead",null,[t("tr",null,[t("th",null,a(i(s)("#")),1),t("th",null,a(i(s)("City - Postal Code")),1),t("th",null,a(i(s)("State")),1),t("th",null,a(i(s)("Country")),1),t("th",null,a(i(s)("Status")),1),t("th",null,a(i(s)("Created At")),1),t("th",Yt,a(i(s)("Actions")),1)])]),p.cities.total?(r(),l("tbody",Pt,[(r(!0),l(y,null,f(p.cities.data,e=>{var N,T;return r(),l("tr",{key:e.id},[t("td",null,a(e.id),1),t("td",null,a(e.name+" - "+e.postal_code),1),t("td",null,a(((N=e.state)==null?void 0:N.name)??"na"),1),t("td",null,a(((T=e.country)==null?void 0:T.name)??"na"),1),t("td",null,[t("div",{class:j([[e.status=="active"?"badge-primary":"badge-secondary"],"badge capitalize"])},a(e.status),3)]),t("td",Ft,a(i(Q)(e.created_at).format("DD MMM, YYYY")),1),t("td",null,[t("div",Bt,[t("div",Lt,[t("div",Rt,[m(w,{class:"w-30 text-lg",icon:"bi:three-dots-vertical"})]),t("div",jt,[t("ul",Ot,[t("li",zt,[t("button",{onClick:P=>M(e),class:"dropdown-link"},[m(w,{class:"h-6",icon:"bx:pencil"}),t("span",null,a(i(s)("Edit")),1)],8,Ht)]),t("li",qt,[t("button",{type:"button",class:"dropdown-link",onClick:P=>i(k)(u.route("admin.cities.destroy",e))},[m(w,{class:"h-6",icon:"material-symbols:delete-outline"}),t("span",null,a(i(s)("Delete")),1)],8,Gt)])])])])])])])}),128))])):(r(),E(G,{key:1,"for-table":"true"}))])]),m(q,{links:p.cities.links},null,8,["links"])])],64)}}});export{me as default};
