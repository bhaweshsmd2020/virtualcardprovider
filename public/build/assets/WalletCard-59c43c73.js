import{s as D}from"./sharedComposable-7773727f.js";import{z as F,k as w,x as I,o as r,c as a,r as L,n as O,b as t,t as o,F as i,h as C,u as p,l as S,a as l,p as B,e as A,O as R}from"./app-8b08b02b.js";const E={class:"flex h-20 justify-between"},T={class:"flex flex-col justify-between"},W={class:"text-xl uppercase"},$={class:"mt-2"},q={class:"text-xl"},G={class:"uppercase text-gray-500 dark:text-gray-400"},H={class:"w-20 object-contain opacity-20 dark:opacity-40 dark:invert dark:filter",alt:"preview"},J={key:0,class:"mt-6 flex gap-3"},K={key:1,class:"mt-6 gap-3"},M=["onClick"],X={__name:"WalletCard",props:{accounts:[Object,Array],actionButtons:{type:Boolean,default:!0}},setup(d){const u=d,{formatCurrency:b,formatAmount:j}=D(),z=s=>{R.post(route("user.wallet.store",{virtual_currency_id:s}))},g=F(()=>{const s=u.accounts.find(y=>y.currency.is_default===1);return s?s.currency:null}),_=s=>u.accounts.find(n=>n.currency.id==s).currency.rates.find(n=>n.virtual_currency_exchange_id===g.value.id),N=["bg-green-200/30","bg-yellow-200/30","bg-purple-200/30","bg-blue-200/30","bg-red-200/30","bg-pink-200/30","bg-orange-200/30","bg-gray-200/30","bg-teal-200/30"];return(s,y)=>{const c=w("Icon"),n=w("Link"),V=I("lazy");return r(!0),a(i,null,L(d.accounts,(e,x)=>{var f,h,m,v,k;return r(),a("div",{key:x,class:O(["rounded-md p-4 text-secondary-950 dark:text-secondary-300",N[[parseInt(x.toString()[0])]]])},[t("div",E,[t("div",T,[t("p",W,o(e.currency.currency),1),t("div",$,[t("p",q,[g.value&&_(e.currency.id)&&((f=e==null?void 0:e.wallet)!=null&&f.balance)?(r(),a(i,{key:0},[C(o(p(b)(+((h=_(e.currency.id))==null?void 0:h.rate)*parseFloat(+((m=e==null?void 0:e.wallet)==null?void 0:m.balance)),+e.currency.precision)),1)],64)):(r(),a(i,{key:1},[C(o(p(b)(+((v=e==null?void 0:e.wallet)==null?void 0:v.balance)||0,+e.currency.precision)),1)],64))]),t("p",G,o(p(j)(+((k=e==null?void 0:e.wallet)==null?void 0:k.balance)||0,+e.currency.precision))+" "+o(e.currency.currency),1)])]),S(t("img",H,null,512),[[V,e.currency.preview]])]),d.actionButtons?(r(),a(i,{key:0},[e.wallet?(r(),a("div",J,[l(n,{href:s.route("user.top-up.create-wallet"),class:"btn flex-1 bg-secondary-50 py-3 text-secondary-950 hover:bg-secondary-200"},{default:B(()=>[l(c,{icon:"material-symbols-light:add-rounded",class:"text-2xl"})]),_:1},8,["href"]),l(n,{href:s.route("user.exchange.index"),class:"btn flex-1 bg-secondary-50 py-2 text-secondary-950 hover:bg-secondary-200"},{default:B(()=>[l(c,{icon:"basil:exchange-solid",class:"text-2xl"})]),_:1},8,["href"])])):(r(),a("div",K,[t("button",{type:"button",onClick:P=>z(e.currency.id),class:"btn w-full bg-secondary-50 py-2 text-secondary-950 hover:bg-secondary-200"},[l(c,{icon:"bx:cog",class:"text-2xl text-secondary-700"}),t("span",null,o(s.trans("Setup")),1)],8,M)]))],64)):A("",!0)],2)}),128)}}};export{X as _};
