import{i as q,T as N,j as E,k as I,x as O,o as h,c as w,b as e,a as u,t as s,F as y,r as $,w as S,l as d,v as m,u as l,m as k,f as j,O as A}from"./app-55c25e51.js";import{_ as B}from"./AdminLayout-d7dc3a0b.js";import{P as F}from"./PageHeader-8abf30c3.js";import{s as M}from"./sharedComposable-713147fd.js";import{P as z}from"./Paginate-d3bcd4a4.js";import{t as P}from"./toastComposable-bc1f97e9.js";import{S as C}from"./SpinnerBtn-5f5f7277.js";import{d as c}from"./drawer-fe4c5e1a.js";import"./dropdown-8ee40221.js";import"./moment-a9aaa855.js";import"./Modal-522ea419.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-869d906f.js";const G={class:"container flex-grow p-4 sm:p-6"},H={class:"space-y-6"},L={class:"table"},J={class:"text-right"},K={class:"!text-right"},Q={class:"flex"},W={class:"mr-3 avatar rounded-square"},X={class:"text-left"},Y={class:"text-left"},Z={class:"text-right"},ee={class:"dropdown","data-placement":"bottom-start"},te={class:"dropdown-toggle"},se={class:"w-40 dropdown-content"},ae={class:"dropdown-list"},ne={class:"dropdown-list-item"},oe=["onClick"],le={class:"dropdown-list-item"},ie=["onClick"],re={id:"addNewTestimonialDrawer",class:"drawer drawer-right"},de={class:"drawer-header"},ue=e("button",{type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},[e("i",{"data-feather":"x",width:"1.5rem",height:"1.5rem"})],-1),me={class:"drawer-body"},ce={class:"mb-2"},pe={class:"mb-2"},ve={class:"mb-2"},he={class:"mb-2"},we={value:"5"},be={value:"4"},ge={value:"3"},_e={value:"2"},fe={value:"1"},ye={class:"mb-2"},Se={class:"drawer-footer"},ke={class:"flex justify-between gap-2"},Pe={type:"button",class:"w-full btn btn-secondary","data-dismiss":"drawer"},Ce={id:"editTestimonialDrawer",class:"drawer drawer-right"},Te={class:"drawer-header"},xe=e("button",{type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},[e("i",{"data-feather":"x",width:"1.5rem",height:"1.5rem"})],-1),Re={class:"drawer-body"},Ue={class:"mb-2"},De={class:"mb-2"},Ve={class:"mb-2"},qe={class:"mb-2"},Ne={value:"5"},Ee={value:"4"},Ie={value:"3"},Oe={value:"2"},$e={value:"1"},je={class:"mb-2"},Ae=["value"],Be={class:"drawer-footer"},Fe={class:"flex justify-between gap-2"},Me={type:"button",class:"w-full btn btn-secondary","data-dismiss":"drawer"},ze=j({layout:B}),at=Object.assign(ze,{__name:"Index",props:["posts","buttons","segments"],setup(i){const{textExcerpt:p,deleteRow:T}=M();q(()=>{c.init()});const r=N({reviewer_name:"",reviewer_position:"",reviewer_avatar:"",star:0,comment:""}),o=E({});function x(t){o.value={...t},c.of("#editTestimonialDrawer").show()}const R=()=>{r.post(route("admin.testimonials.store"),{onSuccess:()=>{r.reset(),P.success(trans("Testimonial has been added successfully")),c.of("#addNewTestimonialDrawer").hide()}})},U=()=>{o.value.preview.value instanceof File||(o.value.preview.value=null),A.post(route("admin.testimonials.update",o.value.id),{_method:"patch",testimonial:o.value},{onSuccess:()=>{P.success("Testimonial Updated successfully"),c.of("#editTestimonialDrawer").hide()}})};return(t,n)=>{var b,g;const v=I("Icon"),D=O("lazy");return h(),w(y,null,[e("main",G,[u(F,{title:"Testimonial",buttons:i.buttons},null,8,["buttons"]),e("div",H,[e("table",L,[e("thead",null,[e("tr",null,[e("th",null,s(t.trans("Reviewer Name")),1),e("th",null,s(t.trans("Reviewer Position")),1),e("th",null,s(t.trans("Comment")),1),e("th",J,s(t.trans("Ratings")),1),e("th",K,s(t.trans("Action")),1)])]),e("tbody",null,[(h(!0),w(y,null,$(i.posts.data,a=>{var _,f;return h(),w("tr",{key:a.id},[e("td",Q,[d(e("img",W,null,512),[[D,(_=a.preview)==null?void 0:_.value]]),e("span",null,s(l(p)(a.title,30)),1)]),e("td",X,s(l(p)(a.slug,30)),1),e("td",Y,s(l(p)(((f=a.excerpt)==null?void 0:f.value)??"",50)),1),e("td",Z,s(a.lang)+" "+s(t.trans("Star")),1),e("td",null,[e("div",ee,[e("div",te,[u(v,{class:"text-lg w-30",icon:"bi:three-dots-vertical"})]),e("div",se,[e("ul",ae,[e("li",ne,[e("button",{onClick:V=>x(a),class:"dropdown-link"},[u(v,{class:"h-6 text-slate-400",icon:"material-symbols:edit-outline"}),e("span",null,s(t.trans("Edit")),1)],8,oe)]),e("li",le,[e("button",{class:"dropdown-link",onClick:V=>l(T)("/admin/testimonials/"+a.id)},[u(v,{class:"h-6",icon:"material-symbols:delete-outline"}),e("span",null,s(t.trans("Delete")),1)],8,ie)])])])])])])}),128))])]),u(z,{links:i.posts.links,currentPage:i.posts.current_page,from:i.posts.from,lastPage:i.posts.last_page,lastPageUrl:i.posts.last_page_url,nextpageurl:i.posts.next_page_url,perPage:i.posts.per_page,prevPageUrl:i.posts.prev_page_url,to:i.posts.to,total:i.posts.total},null,8,["links","currentPage","from","lastPage","lastPageUrl","nextpageurl","perPage","prevPageUrl","to","total"])])]),e("div",re,[e("form",{onSubmit:n[5]||(n[5]=S(a=>R(),["prevent"]))},[e("div",de,[e("h5",null,s(t.trans("Add New Testimonial")),1),ue]),e("div",me,[e("div",ce,[e("label",null,s(t.trans("Reviewer Name")),1),d(e("input",{"onUpdate:modelValue":n[0]||(n[0]=a=>l(r).reviewer_name=a),type:"text",name:"reviewer_name",maxlength:"150",class:"input",required:""},null,512),[[m,l(r).reviewer_name]])]),e("div",pe,[e("label",null,s(t.trans("Reviewer Position")),1),d(e("input",{"onUpdate:modelValue":n[1]||(n[1]=a=>l(r).reviewer_position=a),type:"text",name:"reviewer_position",class:"input",required:"",placeholder:"CEO of Google",maxlength:"50"},null,512),[[m,l(r).reviewer_position]])]),e("div",ve,[e("label",null,s(t.trans("Reviewer Avatar")),1),e("input",{onInput:n[2]||(n[2]=a=>l(r).reviewer_avatar=a.target.files[0]),type:"file",name:"reviewer_avatar",accept:"image/*",class:"input",required:""},null,32)]),e("div",he,[e("label",null,s(t.trans("Review Star")),1),d(e("select",{"onUpdate:modelValue":n[3]||(n[3]=a=>l(r).star=a),class:"select",name:"star"},[e("option",we,s(t.trans("5 Star")),1),e("option",be,s(t.trans("4 Star")),1),e("option",ge,s(t.trans("3 Star")),1),e("option",_e,s(t.trans("2 Star")),1),e("option",fe,s(t.trans("1 Star")),1)],512),[[k,l(r).star]])]),e("div",ye,[e("label",null,s(t.trans("Comment")),1),d(e("textarea",{"onUpdate:modelValue":n[4]||(n[4]=a=>l(r).comment=a),class:"textarea h-100",maxlength:"500",name:"comment",required:""},null,512),[[m,l(r).comment]])])]),e("div",Se,[e("div",ke,[e("button",Pe,[e("span",null,s(t.trans("Close")),1)]),u(C,{classes:"btn btn-primary w-full",processing:l(r).processing,"btn-text":t.trans("Create")},null,8,["processing","btn-text"])])])],32)]),e("div",Ce,[e("form",{onSubmit:n[11]||(n[11]=S(a=>U(),["prevent"]))},[e("div",Te,[e("h5",null,s(t.trans("Edit Testimonial")),1),xe]),e("div",Re,[e("div",Ue,[e("label",null,s(t.trans("Reviewer Name")),1),d(e("input",{"onUpdate:modelValue":n[6]||(n[6]=a=>o.value.title=a),type:"text",name:"reviewer_name",id:"reviewer_name",maxlength:"150",class:"input",required:""},null,512),[[m,o.value.title]])]),e("div",De,[e("label",null,s(t.trans("Reviewer Position")),1),d(e("input",{"onUpdate:modelValue":n[7]||(n[7]=a=>o.value.slug=a),type:"text",name:"reviewer_position",id:"reviewer_position",class:"input",required:"",placeholder:"CEO of Google",maxlength:"50"},null,512),[[m,o.value.slug]])]),e("div",Ve,[e("label",null,s(t.trans("Reviewer Avatar")),1),e("input",{onInput:n[8]||(n[8]=a=>o.value.preview.value=a.target.files[0]),type:"file",name:"reviewer_avatar",accept:"image/*",class:"input"},null,32)]),e("div",qe,[e("label",null,s(t.trans("Review Star")),1),d(e("select",{"onUpdate:modelValue":n[9]||(n[9]=a=>o.value.lang=a),class:"select",name:"star",id:"star"},[e("option",Ne,s(t.trans("5 Star")),1),e("option",Ee,s(t.trans("4 Star")),1),e("option",Ie,s(t.trans("3 Star")),1),e("option",Oe,s(t.trans("2 Star")),1),e("option",$e,s(t.trans("1 Star")),1)],512),[[k,o.value.lang]])]),e("div",je,[e("label",null,s(t.trans("Comment")),1),e("textarea",{value:((g=(b=o.value)==null?void 0:b.excerpt)==null?void 0:g.value)??"",onInput:n[10]||(n[10]=a=>o.value.excerpt.value=a.target.value),class:"textarea h-100",maxlength:"500",name:"comment",id:"comment",required:""},null,40,Ae)])]),e("div",Be,[e("div",Fe,[e("button",Me,[e("span",null,s(t.trans("Close")),1)]),u(C,{classes:"btn btn-primary w-full",processing:o.value.processing,"btn-text":t.trans("Save Changes")},null,8,["processing","btn-text"])])])],32)])],64)}}});export{at as default};
