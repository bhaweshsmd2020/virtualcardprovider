import{T as M,z as P,j as U,k as V,o as i,c as d,b as s,a as h,t as r,w as q,l as u,m as x,u as n,F as k,r as O,v as B,P as j,O as T}from"./app-55c25e51.js";import{S as A}from"./SpinnerBtn-5f5f7277.js";const D={class:"flex items-stretch justify-end gap-x-2"},L={class:"dropdown","data-placement":"bottom-end"},$={class:"dropdown-toggle"},z={type:"button",class:"btn bg-white font-medium shadow-sm dark:bg-slate-800"},E={class:"dropdown-content w-72 !overflow-visible"},I={class:"dropdown-list space-y-4 p-4"},N={key:0,class:"dropdown-list-item"},R={class:"mb-1 capitalize"},K={value:"",disabled:"",selected:""},Q=["value"],G={key:1,class:"dropdown-list-item"},H={class:"mb-1"},J={class:"dropdown-list-item"},W={class:"mb-1"},X=["value","selected"],Y={class:"dropdown-list-item"},Z=s("i",{class:"bx bx-x"},null,-1),se={__name:"FilterDropdown",props:{action:{type:String,required:!1,default:""},appends:{type:Object,required:!1,default:{}},options:{type:[Array,Object],required:!1,default:[{value:"id",label:"id",selected:!0}]}},setup(v){var y,f,w,g,_,S;const c=v,m=()=>{const t={},l=new URLSearchParams(window.location.search);for(const[o,e]of l)t.hasOwnProperty(o)?Array.isArray(t[o])?t[o].push(e):t[o]=[t[o],e]:t[o]=e;return t},a=M({search:((y=m())==null?void 0:y.search)??"",type:((f=m())==null?void 0:f.type)??((g=(w=c.options)==null?void 0:w.find(t=>t.selected))==null?void 0:g.value)??((S=(_=c.options)==null?void 0:_[0])==null?void 0:S.value)??""}),C=()=>{let t=c.action,l="?"+new URLSearchParams(c.appends).toString();a.get(t+l)},F=()=>{T.get(location.pathname)},p=P(()=>c.options&&a.type?c.options.find(t=>t.value==a.type):!1),b=U(!1);return(t,l)=>{const o=V("Icon");return i(),d("div",D,[s("div",L,[s("div",$,[s("button",z,[h(o,{class:"text-xl text-slate-400",icon:"material-symbols:filter-alt-outline-sharp"}),s("span",null,r(t.trans("Search")),1),h(o,{class:"text-xl text-slate-400",icon:"tdesign:chevron-down"})])]),s("div",E,[s("form",{onSubmit:q(C,["prevent"])},[s("ul",I,[p.value&&p.value.options?(i(),d("li",N,[s("label",R,r(p.value.label),1),u(s("select",{class:"select","onUpdate:modelValue":l[0]||(l[0]=e=>n(a).search=e)},[s("option",K,r(t.trans("Select")),1),(i(!0),d(k,null,O(p.value.options,e=>(i(),d("option",{key:e.value,value:e.value},r(e.label),9,Q))),128))],512),[[x,n(a).search]])])):(i(),d("li",G,[s("label",H,r(t.trans("Search Keyword")),1),u(s("input",{type:"text","onUpdate:modelValue":l[1]||(l[1]=e=>n(a).search=e),class:"input",placeholder:"enter search keyword"},null,512),[[B,n(a).search]])])),s("li",J,[s("label",W,r(t.trans("Search Type")),1),u(s("select",{class:"select",onChange:l[2]||(l[2]=e=>n(a).reset("search")),"onUpdate:modelValue":l[3]||(l[3]=e=>n(a).type=e)},[(i(!0),d(k,null,O(v.options,e=>(i(),d("option",{key:e.value,value:e.value,selected:e.selected},r(e.label),9,X))),128))],544),[[x,n(a).type]])]),s("li",Y,[h(A,{disabled:n(a).search.length===0,type:"submit",processing:n(a).processing,"btn-text":t.trans("Search"),class:"btn btn-primary w-full"},null,8,["disabled","processing","btn-text"])])])],32)])]),u(s("button",{onClick:F,onMouseover:l[4]||(l[4]=e=>b.value=!0),onMouseout:l[5]||(l[5]=e=>b.value=!1),class:"btn flex items-center border bg-gray-300 dark:bg-gray-700",title:"clear filter"},[Z,u(s("span",null,r(t.trans("Clear")),513),[[j,b.value]])],544),[[j,m().search]])])}}};export{se as _};
