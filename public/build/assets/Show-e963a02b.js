import{T as j,x as D,o,c as n,a as k,b as t,l as u,t as e,h as l,u as d,e as m,F as p,r as C,m as B,w as O,f as S}from"./app-55c25e51.js";import{_ as F}from"./AdminLayout-d7dc3a0b.js";import{P as M}from"./PageHeader-8abf30c3.js";import{s as z}from"./sharedComposable-713147fd.js";import{h as I}from"./moment-a9aaa855.js";import{C as L}from"./CreditCardDetails-90f6c85e.js";import"./dropdown-8ee40221.js";import"./Modal-522ea419.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-869d906f.js";import"./toastComposable-bc1f97e9.js";import"./CreditCard-c5272ebb.js";import"./sweetalert2.esm.all-df3a4912.js";const N={class:"container flex-grow p-4 sm:p-6"},P={class:"card-body card mt-5 space-y-6"},T={class:"flex flex-col justify-between space-y-4 p-1 md:flex-row"},V={class:"flex items-center justify-center md:justify-start"},Y={class:"flex h-16 w-full items-center gap-4 pr-4"},E={alt:"logo",class:"block h-[45px] dark:hidden"},U={alt:"logo",class:"hidden h-[45px] dark:block"},$={class:"flex flex-col items-start justify-center md:items-end"},A={class:"my-0 py-0 text-sm font-medium text-slate-700 dark:text-slate-300"},R={class:"font-normal text-slate-600 dark:text-slate-300"},W={class:"my-0 py-0 text-sm font-medium text-slate-700 dark:text-slate-300"},H={class:"font-normal capitalize text-slate-600 dark:text-slate-300"},q={key:0,class:"flex flex-col justify-between space-y-6 p-1 md:flex-row md:space-y-0"},G={class:"flex w-full flex-col items-start justify-center md:mb-0 md:w-2/3 md:justify-center"},J={class:"text-xs font-medium uppercase text-slate-400"},K={class:"my-1"},Q={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},X={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},Z={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},tt={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},et={class:"flex w-full flex-col items-start justify-center md:w-1/3 md:items-end"},st={class:"text-xs font-medium uppercase text-slate-400"},at={class:"my-1"},ot={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},nt={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},dt={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},lt={class:"w-full overflow-auto p-1"},rt={class:"min-w-[38rem]"},it={class:"table-responsive whitespace-nowrap rounded-primary border border-slate-200 dark:border-slate-600"},ct={class:"table-striped table-hover table-md table"},mt={class:"text-end"},ht={class:"text-end"},ut={class:"mt-4 flex items-stretch justify-between"},pt={class:"my-2 py-0 text-sm font-semibold"},ft={class:"font-normal"},_t={class:"my-2 py-0 text-sm font-semibold"},xt={class:"font-normal"},yt={class:""},bt={class:"font-semibold"},vt={class:"space-y-1 text-sm"},wt=["href"],kt={class:"font-semibold capitalize"},gt={class:"w-60 space-y-3 pr-6"},jt={class:"flex items-center justify-between gap-x-2"},Dt={class:"text-sm text-slate-400 dark:text-slate-300"},Ct={class:"text-sm font-semibold text-slate-700 dark:text-slate-300"},Bt={key:0,class:"flex items-center justify-between gap-x-2"},Ot={class:"text-sm text-slate-400 dark:text-slate-300"},St={class:"text-sm font-semibold text-slate-700 dark:text-slate-300"},Ft=t("hr",{class:"mb-1 mt-5 border-slate-200 dark:border-slate-600"},null,-1),Mt={class:"flex items-center justify-between gap-x-2"},zt={class:"text-sm text-slate-400"},It={class:"text-sm font-semibold text-slate-700 dark:text-slate-300"},Lt={class:"py-2 text-center text-sm"},Nt={key:0,class:"card mt-4"},Pt={class:"card-body flex items-end space-x-2"},Tt={class:"label mb-1"},Vt={value:"pending"},Yt={value:"approved"},Et={value:"rejected"},Ut=["disabled"],$t=S({layout:F}),se=Object.assign($t,{__name:"Show",props:["order","invoice_data","meta","creditCard"],setup(s){const f=s,{formatCurrency:r}=z(),i=j({status:f.order.status,cardholder_address:"user"}),g=()=>{i.put(route("admin.deposits.update",f.order.id))};return(a,_)=>{var y,b,v,w;const x=D("lazy");return o(),n("main",N,[k(M,{title:"Order Details"}),k(L,{"can-edit":!0,"credit-card":s.creditCard},null,8,["credit-card"]),t("div",P,[t("div",T,[t("div",V,[t("div",Y,[u(t("img",E,null,512),[[x,a.$page.props.primaryData.deep_logo]]),u(t("img",U,null,512),[[x,a.$page.props.primaryData.logo]])])]),t("div",$,[t("h4",null,"Invoice #"+e(s.order.invoice_no),1),t("p",A,[l(e(a.trans("Order Date"))+": ",1),t("span",R,e(d(I)(s.order.created_at).format("DD-MM-YYYY")),1)]),t("p",W,[l(e(a.trans("Status"))+": ",1),t("span",H,e(s.order.status),1)])])]),(y=s.order)!=null&&y.gateway&&s.order.payment_id?(o(),n("div",q,[t("div",G,[t("p",J,e(a.trans("BILLED FROM")),1),t("h6",K,e(s.invoice_data.company_name),1),t("p",Q,e(s.invoice_data.address),1),t("p",X,e(s.invoice_data.city),1),t("p",Z,e(s.invoice_data.post_code),1),t("p",tt,e(s.invoice_data.country),1)]),t("div",et,[t("p",st,e(a.trans("BILLED TO")),1),t("h6",at,e(s.order.user.name),1),t("p",ot,e(s.order.user.address_line),1),t("p",nt,e(s.order.user.email),1),t("p",dt,e(s.order.user.phone),1)])])):m("",!0),t("div",lt,[t("div",rt,[t("div",it,[t("table",ct,[t("tbody",null,[t("tr",null,[t("td",null,e(a.trans("User Name")),1),t("td",null,[t("p",mt,e(a.trans("Amount")),1)])]),t("tr",null,[t("td",null,e(s.order.user.name),1),t("td",null,[t("p",ht,e(d(r)(s.order.amount)),1)])])])])]),t("div",ut,[t("div",null,[t("p",pt,[l(e(a.trans("Payment Method"))+": ",1),t("span",ft,e(((v=(b=s.order)==null?void 0:b.gateway)==null?void 0:v.name)||"Wallet Balance"),1)]),t("p",_t,[l(e(a.trans("Payment Id"))+": ",1),t("span",xt,e(((w=s.order)==null?void 0:w.payment_id)||"Wallet Balance"),1)]),t("div",yt,[s.meta!=null?(o(),n(p,{key:0},[t("div",bt,e(a.trans("Payment Info:")),1),t("div",vt,[(o(!0),n(p,null,C(s.meta,(c,h)=>(o(),n("p",{key:h},[h==="screenshot"?(o(),n("a",{key:0,target:"_blank",href:c},e(a.trans("Attachment")),9,wt)):(o(),n(p,{key:1},[t("span",kt,e(h),1),l(" : "+e(c),1)],64))]))),128))])],64)):m("",!0)])]),t("div",gt,[t("div",jt,[t("p",Dt,e(a.trans("Subtotal"))+":",1),t("p",Ct,e(d(r)(parseFloat(s.order.amount)-parseFloat(s.order.deposit_fee||0))),1)]),s.order.deposit_fee?(o(),n("div",Bt,[t("p",Ot,e(a.trans("Deposit Fee"))+": ",1),t("p",St,e(d(r)(s.order.deposit_fee)),1)])):m("",!0),Ft,t("div",Mt,[t("p",zt,e(a.trans("Total"))+":",1),t("p",It,e(d(r)(s.order.amount||0)),1)])])])])]),t("p",Lt,e(a.trans("Thanks for your Business")),1)]),s.order.status==="pending"?(o(),n("div",Nt,[t("form",{onSubmit:O(g,["prevent"])},[t("div",Pt,[t("div",null,[t("label",Tt,e(a.trans("Order Status")),1),u(t("select",{class:"select capitalize",name:"status","onUpdate:modelValue":_[0]||(_[0]=c=>d(i).status=c)},[t("option",Vt,e(a.trans("pending")),1),t("option",Yt,e(a.trans("approve")),1),t("option",Et,e(a.trans("Reject")),1)],512),[[B,d(i).status]])]),t("button",{type:"submit",class:"btn btn-primary",disabled:d(i).processing},e(a.trans("Update")),9,Ut)])],32)])):m("",!0)])}}});export{se as default};
