import{T as v,x as b,o as h,c as _,a as y,b as t,l as c,t as s,h as d,u as o,F as w,e as k,w as g,m as u,f as D}from"./app-55c25e51.js";import{_ as j}from"./AdminLayout-d7dc3a0b.js";import{h as p}from"./moment-a9aaa855.js";import{P as S}from"./PageHeader-8abf30c3.js";import{t as Y}from"./toastComposable-bc1f97e9.js";import{s as M}from"./sharedComposable-713147fd.js";import"./dropdown-8ee40221.js";import"./Modal-522ea419.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-869d906f.js";const P={class:"container flex-grow p-4 sm:p-6"},O={class:"card"},T={class:"card-body space-y-6"},B={class:"flex flex-col justify-between space-y-4 p-1 md:flex-row"},I={class:"flex items-center justify-center md:justify-start"},N={class:"flex h-16 w-full items-center gap-4 pr-4"},V={alt:"logo",class:"block h-[45px] dark:hidden"},A={alt:"logo",class:"hidden h-[45px] dark:block"},C={class:"flex flex-col items-start justify-center md:items-end"},E={class:"my-0 py-0 text-sm font-medium text-slate-700 dark:text-slate-300"},L={class:"font-normal text-slate-600 dark:text-slate-300"},$={class:"my-0 py-0 text-sm font-medium text-slate-700 dark:text-slate-300"},F={class:"font-normal text-slate-600 dark:text-slate-300"},U={class:"my-0 py-0 text-sm font-medium text-slate-700 dark:text-slate-300"},z={class:"font-normal text-slate-600 dark:text-slate-300"},R={class:"flex flex-col justify-between space-y-6 p-1 md:flex-row md:space-y-0"},H={class:"flex w-full flex-col items-start justify-center md:mb-0 md:w-2/3 md:justify-center"},q=t("p",{class:"text-xs font-medium uppercase text-slate-400"},"BILLED FROM",-1),G={class:"my-1"},J={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},K={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},Q={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},W={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},X={class:"flex w-full flex-col items-start justify-center md:w-1/3 md:items-end"},Z={class:"text-xs font-medium uppercase text-slate-400"},tt={class:"my-1"},st={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},et={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},at={class:"whitespace-nowrap text-sm font-normal text-slate-600 dark:text-slate-300"},ot={class:"w-full overflow-auto p-1"},nt={class:"min-w-[38rem]"},lt={class:"table-responsive whitespace-nowrap rounded-primary border border-slate-200 dark:border-slate-600"},dt={class:"table-striped table-hover table-md table"},it={class:"text-end"},rt={class:"text-end"},ct={class:"mt-4 flex items-stretch justify-between"},mt={class:"w-2/5"},ht={class:"my-2 py-0 text-sm font-semibold"},_t={class:"font-normal"},ut={class:"my-2 py-0 text-sm font-semibold"},pt={class:"font-normal"},ft={class:""},xt={class:"font-semibold"},vt=t("br",null,null,-1),bt={class:"section-lead"},yt={class:"section-lead"},wt=["href"],kt={class:"space-y-3"},gt={class:"flex items-center gap-x-2"},Dt={class:"w-1/2 text-sm text-slate-400 dark:text-slate-300"},jt={class:"w-1/2 whitespace-nowrap text-sm font-semibold text-slate-700 dark:text-slate-300"},St={class:"flex items-center gap-x-2"},Yt={class:"w-1/2 text-sm text-slate-400 dark:text-slate-300"},Mt={class:"w-1/2 whitespace-nowrap text-sm font-semibold text-slate-700 dark:text-slate-300"},Pt=t("hr",{class:"mb-1 mt-5 border-slate-200 dark:border-slate-600"},null,-1),Ot={class:"flex items-center gap-x-2"},Tt={class:"w-1/2 text-sm text-slate-400"},Bt={class:"w-1/2 whitespace-nowrap text-sm font-semibold text-slate-700 dark:text-slate-300"},It={class:"py-2 text-center text-sm"},Nt={class:"card mt-4"},Vt={class:"card-body flex space-x-2"},At={class:"col-span-3 mb-2"},Ct={class:"float-left"},Et={value:"approved"},Lt={value:"pending"},$t={value:"rejected"},Ft={class:"col-span-3 mb-2"},Ut={class:"float-left"},zt={value:"yes"},Rt={value:"no"},Ht={class:"col-auto mb-2"},qt=t("br",null,null,-1),Gt=["disabled"],Jt=D({layout:j}),ns=Object.assign(Jt,{__name:"Show",props:["order","invoice_data","segments","buttons","meta"],setup(e){const f=e,{formatCurrency:i}=M(),n=v({status:f.order.status,assign_order:"no"}),x=a=>{n.put(a,{onSuccess:()=>{Y.success("Order status updated")}})};return(a,l)=>{const m=b("lazy");return h(),_("main",P,[y(S,{title:"Invoice details",buttons:e.buttons},null,8,["buttons"]),t("div",O,[t("div",T,[t("div",B,[t("div",I,[t("div",N,[c(t("img",V,null,512),[[m,a.$page.props.primaryData.deep_logo]]),c(t("img",A,null,512),[[m,a.$page.props.primaryData.logo]])])]),t("div",C,[t("h4",null,"Invoice #"+s(e.order.invoice_no),1),t("p",E,[d(s(a.trans("Order Date"))+": ",1),t("span",L,s(o(p)(e.order.created_at).format("DD-MM-YYYY")),1)]),t("p",$,[d(s(a.trans("Expire Date"))+": ",1),t("span",F,s(o(p)(e.order.will_expire).format("DD-MM-YYYY")),1)]),t("p",U,[d(s(a.trans("Status"))+": ",1),t("span",z,s(e.order.status==2?"pending":e.order.status==1?"approved":"declined"),1)])])]),t("div",R,[t("div",H,[q,t("h6",G,s(e.invoice_data.company_name),1),t("p",J,s(e.invoice_data.address),1),t("p",K,s(e.invoice_data.city),1),t("p",Q,s(e.invoice_data.post_code),1),t("p",W,s(e.invoice_data.country),1)]),t("div",X,[t("p",Z,s(a.trans("BILLED TO")),1),t("h6",tt,s(e.order.user.name),1),t("p",st,s(e.order.user.address_line),1),t("p",et,s(e.order.user.email),1),t("p",at,s(e.order.user.phone),1)])]),t("div",ot,[t("div",nt,[t("div",lt,[t("table",dt,[t("tbody",null,[t("tr",null,[t("td",null,s(a.trans("Subscription Plan Name")),1),t("td",null,[t("p",it,s(a.trans("Amount")),1)])]),t("tr",null,[t("td",null,s(e.order.plan.title),1),t("td",null,[t("p",rt,s(o(i)(e.order.amount)),1)])])])])]),t("div",ct,[t("div",mt,[t("p",ht,[d(s(a.trans("Payment Method"))+": ",1),t("span",_t,s(e.order.gateway.name),1)]),t("p",ut,[d(s(a.trans("Payment Id"))+": ",1),t("span",pt,s(e.order.payment_id),1)]),t("div",ft,[e.meta!=null?(h(),_(w,{key:0},[t("div",xt,s(a.trans("Payment Info:")),1),vt,t("p",bt,s(e.meta.comment),1),t("p",yt,[t("a",{target:"_blank",href:e.meta.screenshot},s(a.trans("Attachment")),9,wt)])],64)):k("",!0)])]),t("div",kt,[t("div",gt,[t("p",Dt,s(a.trans("Subtotal"))+": ",1),t("p",jt,s(o(i)(e.order.amount)),1)]),t("div",St,[t("p",Yt,s(a.trans("Tax"))+": ",1),t("p",Mt,s(o(i)(e.order.tax||0)),1)]),Pt,t("div",Ot,[t("p",Tt,s(a.trans("Total"))+":",1),t("p",Bt,s(o(i)(e.order.amount+e.order.tax||0)),1)])])])])]),t("p",It,s(a.trans("Thanks for your Business")),1)])]),t("div",Nt,[t("form",{onSubmit:l[2]||(l[2]=g(r=>x("/admin/order/"+e.order.id),["prevent"]))},[t("div",Vt,[t("div",At,[t("label",Ct,s(a.trans("Order Status")),1),c(t("select",{class:"select",name:"status","onUpdate:modelValue":l[0]||(l[0]=r=>o(n).status=r)},[t("option",Et,s(a.trans("Approved")),1),t("option",Lt,s(a.trans("Pending")),1),t("option",$t,s(a.trans("Rejected")),1)],512),[[u,o(n).status]])]),t("div",Ft,[t("label",Ut,s(a.trans("Assign This Plan?")),1),c(t("select",{class:"select",name:"assign_order","onUpdate:modelValue":l[1]||(l[1]=r=>o(n).assign_order=r)},[t("option",zt,s(a.trans("Yes")),1),t("option",Rt,s(a.trans("No")),1)],512),[[u,o(n).assign_order]])]),t("div",Ht,[qt,t("button",{type:"submit",class:"btn btn-primary",disabled:o(n).processing},s(a.trans("Update")),9,Gt)])])],32)])])}}});export{ns as default};
