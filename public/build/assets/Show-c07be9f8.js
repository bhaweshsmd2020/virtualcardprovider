import{j as x,T as w,x as k,o as n,c as l,a as y,b as t,l as d,t as s,F as S,r as j,w as V,v as M,u as m,h as z,m as C,f as D,n as F,e as N}from"./app-8b08b02b.js";import{_ as T}from"./AdminLayout-2a0b7492.js";import{P as Y}from"./PageHeader-f9559e85.js";import{h as B}from"./moment-a9aaa855.js";import{t as P}from"./toastComposable-d43a11ef.js";import"./dropdown-dfddaeee.js";import"./sharedComposable-7773727f.js";import"./Modal-68ba130b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-e495c250.js";const U={class:"container flex-grow p-4 sm:pr-4"},$={class:"h-fit space-y-6"},O={class:"h-full"},q={class:"relative mx-auto rounded-primary bg-white shadow dark:bg-slate-800 2xl:w-8/12"},E={class:"flex items-center justify-between rounded-t-primary border-b border-b-slate-200 p-4 dark:border-b-slate-600"},H={class:"flex items-center justify-start gap-x-3"},L=t("button",{id:"chat-btn-show-sidebar",class:"text-slate-500 hover:text-slate-700 focus:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300 dark:focus:text-slate-300 xl:hidden"},[t("i",{width:"20",height:"20","data-feather":"menu"})],-1),A={class:"avatar avatar-circle avatar-indicator avatar-indicator-online"},G={class:"avatar-img",alt:"profile-img"},I={class:"whitespace-nowrap text-sm font-medium text-slate-700 dark:text-slate-100"},J={class:"whitespace-normal text-sm font-normal text-slate-500 dark:text-slate-400"},K={class:"relative max-h-[calc(100vh-18rem)] overflow-auto px-4 pb-28 md:max-h-[calc(100vh-17rem)]","data-simplebar":""},Q={class:"space-y-3"},R={class:"flex gap-x-3 group-[.pr]:flex-row-reverse"},W={class:"avatar avatar-circle avatar-sm shrink-0"},X={class:"avatar-img",onerror:"this.src = '/images/avatar1.png'",alt:"profile-img"},Z={class:"flex max-w-sm flex-col items-start gap-y-2 group-[.pr]:items-end"},tt={class:"rounded-primary rounded-tl-none bg-slate-100 p-2 text-sm text-slate-600 group-[.pr]:rounded-tl-primary group-[.pr]:rounded-tr-none group-[.pr]:bg-primary-500 group-[.pr]:text-slate-100 dark:bg-slate-700 dark:text-slate-300"},et={class:"text-xs font-normal text-slate-400"},st=["href"],at=["src"],ot=t("div",{id:"chat-scroll-view"},null,-1),rt={class:"absolute bottom-[-0.5px] left-0 right-0 z-10 rounded-b-primary bg-white py-4 dark:bg-slate-800"},it={class:"flex items-center justify-end gap-x-4 px-4"},nt={value:"1"},lt={value:"2"},dt={value:"0"},ct=["disabled"],ut=t("i",{width:"18",height:"18","data-feather":"send"},null,-1),mt={class:"hidden md:inline-block"},pt=t("div",{id:"chat-overlay",class:"absolute inset-0 z-10 hidden h-full w-full bg-black bg-opacity-0 transition-colors duration-300 ease-in-out xl:hidden"},null,-1),ht=D({layout:T}),jt=Object.assign(ht,{__name:"Show",props:["segments","buttons","support"],setup(a){const c=a,u=x({message:"",status:c.support.status,support_image:null}),r=w({message:"",status:c.support.status,support_image:null}),v=o=>{r.support_image=o.target.files[0]},b=()=>{r.post(route("admin.support-update",c.support.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{r.reset("message","support_image"),P.success("Submitted successfully")}})};return(o,i)=>{var h,_,g,f;const p=k("lazy");return n(),l("main",U,[y(Y,{title:"Support",buttons:a.buttons},null,8,["buttons"]),t("div",$,[t("div",O,[t("div",q,[t("div",E,[t("div",H,[L,t("div",A,[d(t("img",G,null,512),[[p,(h=a.support.user)!=null&&h.avatar?(_=a.support.user)==null?void 0:_.avatar:`https://ui-avatars.com/api/?name=${(g=a.support.user)==null?void 0:g.name}`]])]),t("div",null,[t("h6",I,s((f=a.support.user)==null?void 0:f.name),1),t("p",J,s(o.trans("Subject :"))+" "+s(a.support.subject??""),1)])])]),t("div",K,[t("ul",Q,[(n(!0),l(S,null,j(a.support.conversations,e=>(n(),l("li",{class:F(["group mt-5",e.is_admin!=0?"pr":""]),key:e.id},[t("div",R,[t("div",W,[d(t("img",X,null,512),[[p,e.user.avatar?e.user.avatar:`https://ui-avatars.com/api/?name=${e.user.name}`]])]),t("div",Z,[t("p",tt,s(e.comment),1),t("span",et,s(m(B)(e.created_at).format("D MMM, YYYY")),1)]),e.image?(n(),l("a",{key:0,href:e.image,target:"_blank",title:"View attachment"},[t("img",{class:"support_image",src:e.image,alt:"profile-img"},null,8,at)],8,st)):N("",!0)])],2))),128))]),ot]),t("div",rt,[t("form",{enctype:"multipart/form-data",onSubmit:V(b,["prevent"]),class:"mx-4 flex h-[4.5rem] items-center rounded-primary border border-slate-200 shadow dark:border-slate-600"},[d(t("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>m(r).message=e),class:"h-full w-full border-transparent bg-transparent px-4 text-sm text-slate-700 placeholder:text-slate-500 focus:border-transparent focus:ring-0 dark:text-slate-300 dark:placeholder:text-slate-400",type:"text",placeholder:"Type your message here",required:""},null,512),[[M,m(r).message]]),z(),t("input",{onChange:v,type:"file",class:"input",name:"support_image",accept:"image/*"},null,32),t("div",it,[d(t("select",{class:"select w-[120px]",name:"status","onUpdate:modelValue":i[1]||(i[1]=e=>u.value.status=e)},[t("option",nt,s(o.trans("Open")),1),t("option",lt,s(o.trans("Pending")),1),t("option",dt,s(o.trans("Closed")),1)],512),[[C,u.value.status]]),t("button",{type:"submit",disabled:u.value.processing,class:"btn btn-sm btn-primary"},[ut,t("span",mt,s(o.trans("Send")),1)],8,ct)])],32)])]),pt])])])}}});export{jt as default};
