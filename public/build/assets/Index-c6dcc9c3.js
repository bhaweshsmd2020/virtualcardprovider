import{_ as k}from"./AdminLayout-2a0b7492.js";import{P as v}from"./PageHeader-f9559e85.js";import{_ as S}from"./NoDataFound-f8b61a7b.js";import{_ as x}from"./OverviewGrid-f71a88c2.js";import{h as C}from"./moment-a9aaa855.js";import{_ as y}from"./FilterDropdown-576dea2b.js";import{P as j}from"./Paginate-50e2af07.js";import{g as a,k as w,o as i,c as u,a as o,b as t,t as s,u as n,F as P,r as N,d as O,f as T,p as _,h as b,n as B}from"./app-8b08b02b.js";import"./dropdown-dfddaeee.js";import"./sharedComposable-7773727f.js";import"./toastComposable-d43a11ef.js";import"./Modal-68ba130b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-e495c250.js";import"./SpinnerBtn-92ab3ac7.js";const V={class:"container flex-grow p-4 sm:p-6"},$={class:"space-y-6"},M={class:"table-responsive whitespace-nowrap rounded-primary"},E={class:"table"},F={class:"text-end"},L={key:0},U={class:"text-center"},q=["href"],z={class:"text-center"},A={class:"text-center"},D=["href"],H={class:"text-center"},I={class:"flex justify-end"},G=T({layout:k}),it=Object.assign(G,{__name:"Index",props:["buttons","request","supports","pendingSupport","openSupport","closedSupport","totalSupports","type"],setup(l){const r=l,h=[{value:r.totalSupports,title:a("Total Supports"),iconClass:"bx bx-bar-chart"},{value:r.pendingSupport,title:a("Pending Supports"),iconClass:"bx bx-badge"},{value:r.openSupport,title:a("Open Supports"),iconClass:"bx bx-archive-out"},{value:r.closedSupport,title:a("Closed Supports"),iconClass:"bx bx-archive-in"}];function f(c,d){return c.length<=d?c:c.substring(0,d)+"..."}const g=[{label:"Ticket No",value:"ticket_no"},{label:"Subject",value:"subject"},{label:"User Email",value:"user_email"},{label:"Status",value:"status",options:[{label:"Open",value:0},{label:"Pending",value:1},{label:"Closed",value:2}]}];return(c,d)=>{const p=w("Link");return i(),u("main",V,[o(v,{title:"Supports",buttons:l.buttons},null,8,["buttons"]),t("div",$,[o(x,{items:h}),o(y,{options:g}),t("div",M,[t("table",E,[t("thead",null,[t("tr",null,[t("th",null,s(n(a)("Ticket No")),1),t("th",null,s(n(a)("Subject")),1),t("th",null,s(n(a)("Conversations")),1),t("th",null,s(n(a)("Status")),1),t("th",null,s(n(a)("User")),1),t("th",null,s(n(a)("Created At")),1),t("th",null,[t("p",F,s(n(a)("Ticket")),1)])])]),l.supports.total?(i(),u("tbody",L,[(i(!0),u(P,null,N(l.supports.data,e=>{var m;return i(),u("tr",{key:e.id},[t("td",U,[o(p,{href:"/admin/support/"+e.id},{default:_(()=>[b(s(e.ticket_no),1)]),_:2},1032,["href"])]),t("td",null,[t("a",{class:"text-dark",href:"/admin/support/"+e.id},s(f(e.subject,50)),9,q)]),t("td",z,s(e.conversations_count),1),t("td",null,[t("span",{class:B(e.status==2?"badge badge-warning":e.status==1?"badge badge-success":"badge badge-danger")},s(n(a)(e.status==2?"pending":e.status==1?"Open":"Closed")),3)]),t("td",A,[t("a",{href:"/admin/customer/"+e.user_id,class:"text-dark"},s(((m=e.user)==null?void 0:m.name)??""),9,D)]),t("td",H,s(n(C)(e.created_at).format("d MMM y")),1),t("td",null,[t("div",I,[o(p,{href:"/admin/support/"+e.id,class:"btn btn-primary btn-sm"},{default:_(()=>[b(s(n(a)("View")),1)]),_:2},1032,["href"])])])])}),128))])):(i(),O(S,{key:1,"for-table":"true"}))]),o(j,{links:l.supports.links},null,8,["links"])])])])}}});export{it as default};
