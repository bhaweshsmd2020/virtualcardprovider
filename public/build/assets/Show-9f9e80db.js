import{j as g,x as v,o as r,c as i,a as w,b as t,l as c,u,t as o,F as k,r as y,w as S,v as j,f as C,n as M,e as z,O}from"./app-55c25e51.js";import{_ as B}from"./UserLayout-5a6919f2.js";import{P as V}from"./PageHeader-8abf30c3.js";import{h as Y}from"./moment-a9aaa855.js";import{s as D}from"./sharedComposable-713147fd.js";import"./toastComposable-bc1f97e9.js";import{S as b}from"./sweetalert2.esm.all-df3a4912.js";import"./dropdown-8ee40221.js";import"./Modal-522ea419.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-869d906f.js";const T={class:"container flex-grow p-4 sm:pr-4"},L={class:"h-fit space-y-6"},N={class:"h-full"},A={class:"relative mx-auto rounded-primary bg-white shadow dark:bg-slate-800 2xl:w-8/12"},E={class:"flex items-center justify-between rounded-t-primary border-b border-b-slate-200 p-4 dark:border-b-slate-600"},F={class:"flex items-center justify-start gap-x-3"},H=t("button",{id:"chat-btn-show-sidebar",class:"text-slate-500 hover:text-slate-700 focus:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300 dark:focus:text-slate-300 xl:hidden"},[t("i",{width:"20",height:"20","data-feather":"menu"})],-1),P={class:"avatar avatar-circle avatar-indicator avatar-indicator-online"},U={class:"avatar-img",alt:"profile-img"},$={class:"whitespace-nowrap text-sm font-medium text-slate-700 dark:text-slate-100"},q={class:"whitespace-normal text-sm font-normal text-slate-500 dark:text-slate-400"},G={class:"relative max-h-[calc(100vh-18rem)] overflow-auto px-4 pb-28 md:max-h-[calc(100vh-17rem)]","data-simplebar":""},I={class:"space-y-3"},J={class:"flex gap-x-3 group-[.pr]:flex-row-reverse"},K={class:"avatar avatar-circle avatar-sm shrink-0"},Q={class:"avatar-img",alt:"profile-img"},R={class:"flex max-w-sm flex-col items-start gap-y-2 group-[.pr]:items-end"},W={class:"rounded-primary rounded-tl-none bg-slate-100 p-2 text-sm text-slate-600 group-[.pr]:rounded-tl-primary group-[.pr]:rounded-tr-none group-[.pr]:bg-primary-500 group-[.pr]:text-slate-100 dark:bg-slate-700 dark:text-slate-300"},X={class:"text-xs font-normal text-slate-400"},Z=["href"],tt=["src"],et=t("div",{id:"chat-scroll-view"},null,-1),st={class:"absolute bottom-[-0.5px] left-0 right-0 z-10 rounded-b-primary bg-white py-4 dark:bg-slate-800"},at={class:"flex items-center justify-end gap-x-4 px-4"},ot=["disabled"],rt=t("i",{width:"18",height:"18","data-feather":"send"},null,-1),it={class:"hidden md:inline-block"},lt={key:1,class:"text-center font-bold text-red-500"},nt=t("div",{id:"chat-overlay",class:"absolute inset-0 z-10 hidden h-full w-full bg-black bg-opacity-0 transition-colors duration-300 ease-in-out xl:hidden"},null,-1),dt=C({layout:B}),wt=Object.assign(dt,{__name:"Show",props:["buttons","support"],setup(s){const m=s,{uiAvatar:p}=D(),l=g({message:"",status:m.support.status}),x=()=>{O.patch(route("user.supports.update",m.support.id),{message:l.value.message},{onSuccess:()=>{l.value.message="";function n(){b.fire({icon:"success",title:"<h2 style='font-size: 20px;'>Message sent successfully</h2>",confirmButtonText:"Okay",allowOutsideClick:!1,customClass:{popup:"custom-swal-popup"},didOpen:d=>{const a=document.createElement("button");a.innerHTML="&times;",a.classList.add("swal-close-btn"),a.onclick=()=>b.close(),d.appendChild(a)}})}n()}})};return(n,d)=>{var h,f,_;const a=v("lazy");return r(),i("main",T,[w(V,{title:"Support",buttons:s.buttons},null,8,["buttons"]),t("div",L,[t("div",N,[t("div",A,[t("div",E,[t("div",F,[H,t("div",P,[c(t("img",U,null,512),[[a,u(p)((h=s.support.user)==null?void 0:h.name,(f=s.support.user)==null?void 0:f.avatar)]])]),t("div",null,[t("h6",$,o((_=s.support.user)==null?void 0:_.name),1),t("p",q,o(n.trans("Subject :"))+" "+o(s.support.subject??""),1)])])]),t("div",G,[t("ul",I,[(r(!0),i(k,null,y(s.support.conversations,e=>(r(),i("li",{class:M(["group mt-5",e.is_admin===0?"pr":""]),key:e.id},[t("div",J,[t("div",K,[c(t("img",Q,null,512),[[a,u(p)(e.user.name,e.user.avatar)]])]),t("div",R,[t("p",W,o(e.comment),1),t("span",X,o(u(Y)(e.created_at).format("D MMM, YYYY")),1)]),e.image?(r(),i("a",{key:0,href:e.image,target:"_blank",title:"View attachment"},[t("img",{class:"support_image",src:e.image,alt:"profile-img"},null,8,tt)],8,Z)):z("",!0)])],2))),128))]),et]),t("div",st,[s.support.status==1?(r(),i("form",{key:0,onSubmit:S(x,["prevent"]),class:"mx-4 flex h-[4.5rem] items-center rounded-primary border border-slate-200 shadow dark:border-slate-600"},[c(t("input",{"onUpdate:modelValue":d[0]||(d[0]=e=>l.value.message=e),class:"h-full w-full border-transparent bg-transparent px-4 text-sm text-slate-700 placeholder:text-slate-500 focus:border-transparent focus:ring-0 dark:text-slate-300 dark:placeholder:text-slate-400",type:"text",placeholder:"Type your message here"},null,512),[[j,l.value.message]]),t("div",at,[t("button",{type:"submit",disabled:l.value.processing,class:"btn btn-sm btn-primary"},[rt,t("span",it,o(n.trans("Send")),1)],8,ot)])],32)):(r(),i("div",lt,o(n.trans("You can't not send reply")),1))])]),nt])])])}}});export{wt as default};
