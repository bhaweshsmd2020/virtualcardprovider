import{i as $,g as s,T as j,j as N,k as U,o as d,c as r,b as t,a as c,t as a,u as e,F as p,r as f,d as q,w as C,l as m,v as y,m as g,f as B,n as T,p as E,q as F,O as I}from"./app-8b08b02b.js";import{_ as L}from"./AdminLayout-2a0b7492.js";import{P as O}from"./PageHeader-f9559e85.js";import"./Paginate-50e2af07.js";import{h as P}from"./moment-a9aaa855.js";import{s as z}from"./sharedComposable-7773727f.js";import{_ as H}from"./OverviewGrid-f71a88c2.js";import{S as x}from"./SpinnerBtn-92ab3ac7.js";import{d as h}from"./drawer-fe4c5e1a.js";import{t as k}from"./toastComposable-d43a11ef.js";import{_ as R}from"./NoDataFound-f8b61a7b.js";import"./dropdown-dfddaeee.js";import"./Modal-68ba130b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-e495c250.js";const Y={class:"container p-4 sm:p-6"},G={class:"space-y-6"},J={class:"table-responsive whitespace-nowrap rounded-primary"},K={class:"table"},Q={class:""},W={class:""},X={class:"text-center"},Z={class:""},tt={class:""},et={class:"flex justify-end"},st={key:0},at={class:"text-left"},ot={class:"text-left"},lt={class:"text-center"},nt={class:"text-left"},it={class:"flex justify-end"},dt={class:"dropdown","data-placement":"bottom-start"},rt={class:"dropdown-toggle"},ct={class:"w-40 dropdown-content"},ut={class:"dropdown-list"},_t={class:"dropdown-list-item"},mt=["onClick"],pt={class:"dropdown-list-item"},gt={id:"addNewCategoryDrawer",class:"drawer drawer-right"},ht={class:"drawer-header"},bt=t("button",{type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},[t("i",{"data-feather":"x",width:"1.5rem",height:"1.5rem"})],-1),vt={class:"drawer-body"},ft={class:"mb-2"},wt={class:"mb-2"},Ct={value:"1"},yt={value:"0"},xt={class:"mb-2"},kt=["value"],St={class:"drawer-footer"},Dt={class:"flex justify-between gap-2"},At={type:"button",class:"w-full btn btn-secondary","data-dismiss":"drawer"},Vt={id:"editCategoryDrawer",class:"drawer drawer-right"},Mt={class:"drawer-header"},$t=t("button",{type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},[t("i",{"data-feather":"x",width:"1.5rem",height:"1.5rem"})],-1),jt={class:"drawer-body"},Nt={class:"mb-2"},Ut={class:"mb-2"},qt={value:"1"},Bt={value:"0"},Tt={class:"mb-2"},Et=["value"],Ft={class:"drawer-footer"},It={class:"flex justify-between gap-2"},Lt={type:"button",class:"w-full btn btn-secondary","data-dismiss":"drawer"},Ot=B({layout:L}),ae=Object.assign(Ot,{__name:"Index",props:["categories","totalCategories","activeCategories","inActiveCategories","languages","buttons","segments"],setup(_){const{deleteRow:S}=z();$(()=>{h.init()});const b=_,D=[{value:b.totalCategories,title:s("Total Categories"),iconClass:"bx bx-bar-chart"},{value:b.activeCategories,title:s("Active Categories"),iconClass:"bx bx-check-circle"},{value:b.inActiveCategories,title:s("Inactive Categories"),iconClass:"bx bx-x-circle"}],i=j({title:"",status:1,language:"en"}),n=N({}),A=()=>{i.post(route("admin.category.store"),{onSuccess:()=>{i.reset(),k.success(s("Category has been added successfully")),h.of("#addNewCategoryDrawer").hide()}})},V=w=>{n.value={...w},h.of("#editCategoryDrawer").show()},M=()=>{I.patch(route("admin.category.update",n.value.id),n.value,{onSuccess:()=>{n.value={},k.success(s("Category has been updated successfully")),h.of("#editCategoryDrawer").hide()}})};return(w,l)=>{const v=U("Icon");return d(),r(p,null,[t("main",Y,[c(O,{title:"Categories",buttons:_.buttons},null,8,["buttons"]),t("div",G,[c(H,{items:D,grid:"3"}),t("div",J,[t("table",K,[t("thead",null,[t("tr",null,[t("th",Q,a(e(s)("Name")),1),t("th",W,a(e(s)("Slug")),1),t("th",X,a(e(s)("Language")),1),t("th",Z,a(e(s)("Status")),1),t("th",tt,a(e(s)("Created At")),1),t("th",et,a(e(s)("Action")),1)])]),_.categories.total?(d(),r("tbody",st,[(d(!0),r(p,null,f(_.categories.data,o=>(d(),r("tr",{key:o.id},[t("td",at,a(o.title),1),t("td",ot,a(o.slug),1),t("td",lt,a(o.lang),1),t("td",nt,[t("span",{class:T(["badge",o.status==1?"badge-success":"badge-danger"])},a(o.status==1?e(s)("Active"):e(s)("Draft")),3)]),t("td",null,a(e(P)(o.created_at).format("D-MMM-Y")),1),t("td",null,[t("div",it,[t("div",dt,[t("div",rt,[c(v,{class:"text-lg w-30",icon:"bi:three-dots-vertical"})]),t("div",ct,[t("ul",ut,[t("li",_t,[t("button",{onClick:u=>V(o),class:"dropdown-link"},[c(v,{class:"h-6 text-slate-400",icon:"material-symbols:edit-outline"}),t("span",null,a(e(s)("Edit")),1)],8,mt)]),t("li",pt,[c(e(F),{as:"button",class:"dropdown-link",onClick:u=>e(S)("/admin/category/"+o.id)},{default:E(()=>[c(v,{class:"h-6",icon:"material-symbols:delete-outline"}),t("span",null,a(e(s)("Delete")),1)]),_:2},1032,["onClick"])])])])])])])]))),128))])):(d(),q(R,{key:1,"for-table":"true"}))])])])]),t("div",gt,[t("form",{onSubmit:l[3]||(l[3]=C(o=>A(),["prevent"]))},[t("div",ht,[t("h5",null,a(e(s)("Add New Category")),1),bt]),t("div",vt,[t("div",ft,[t("label",null,a(e(s)("Title")),1),m(t("input",{"onUpdate:modelValue":l[0]||(l[0]=o=>e(i).title=o),type:"text",name:"title",class:"input",required:""},null,512),[[y,e(i).title]])]),t("div",wt,[t("label",null,a(e(s)("Status")),1),m(t("select",{required:"","onUpdate:modelValue":l[1]||(l[1]=o=>e(i).status=o),class:"select",name:"status"},[t("option",Ct,a(e(s)("Active")),1),t("option",yt,a(e(s)("Deactive")),1)],512),[[g,e(i).status]])]),t("div",xt,[t("label",null,a(e(s)("Language")),1),m(t("select",{required:"","onUpdate:modelValue":l[2]||(l[2]=o=>e(i).language=o),class:"select",name:"language"},[(d(!0),r(p,null,f(_.languages,(o,u)=>(d(),r("option",{key:u,value:u},a(o),9,kt))),128))],512),[[g,e(i).language]])])]),t("div",St,[t("div",Dt,[t("button",At,[t("span",null,a(e(s)("Close")),1)]),c(x,{classes:"btn btn-primary w-full",processing:e(i).processing,"btn-text":e(s)("Save Changes")},null,8,["processing","btn-text"])])])],32)]),t("div",Vt,[t("form",{onSubmit:l[7]||(l[7]=C(o=>M(),["prevent"]))},[t("div",Mt,[t("h5",null,a(e(s)("Edit Category")),1),$t]),t("div",jt,[t("div",Nt,[t("label",null,a(e(s)("Title")),1),m(t("input",{"onUpdate:modelValue":l[4]||(l[4]=o=>n.value.title=o),type:"text",name:"title",class:"input",required:""},null,512),[[y,n.value.title]])]),t("div",Ut,[t("label",null,a(e(s)("Status")),1),m(t("select",{"onUpdate:modelValue":l[5]||(l[5]=o=>n.value.status=o),class:"select",name:"status"},[t("option",qt,a(e(s)("Active")),1),t("option",Bt,a(e(s)("Draft")),1)],512),[[g,n.value.status]])]),t("div",Tt,[t("label",null,a(e(s)("Language")),1),m(t("select",{"onUpdate:modelValue":l[6]||(l[6]=o=>n.value.lang=o),class:"select",name:"language"},[(d(!0),r(p,null,f(_.languages,(o,u)=>(d(),r("option",{key:u,value:u},a(o),9,Et))),128))],512),[[g,n.value.lang]])])]),t("div",Ft,[t("div",It,[t("button",Lt,[t("span",null,a(e(s)("Close")),1)]),c(x,{classes:"btn btn-primary w-full",processing:n.value.processing,"btn-text":e(s)("Save Changes")},null,8,["processing","btn-text"])])])],32)])],64)}}});export{ae as default};
