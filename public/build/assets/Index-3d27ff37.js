import{i as M,g as s,T as O,k as x,o as d,c,b as t,a as i,t as a,u as e,F as C,r as B,d as F,w as $,l as p,v as m,f as P,n as y,p as U}from"./app-55c25e51.js";import{_ as L}from"./AdminLayout-d7dc3a0b.js";import{P as N}from"./PageHeader-8abf30c3.js";import"./Paginate-d3bcd4a4.js";import{h as j}from"./moment-a9aaa855.js";import{s as q}from"./sharedComposable-713147fd.js";import{_ as E}from"./OverviewGrid-646656c7.js";import{_ as z}from"./NoDataFound-c4885428.js";import{d as k}from"./drawer-fe4c5e1a.js";import{_ as H}from"./ImageInput.vue_vue_type_script_setup_true_lang-338ca183.js";import{t as R}from"./toastComposable-bc1f97e9.js";import{S as Y}from"./SpinnerBtn-5f5f7277.js";import{_ as G}from"./FilterDropdown-df98b38e.js";import"./dropdown-8ee40221.js";import"./Modal-522ea419.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastrContainer-869d906f.js";const J={class:"container p-4 sm:p-6"},K={class:"space-y-6"},Q={class:"table-responsive whitespace-nowrap rounded-primary"},W={class:"table"},X={class:"flex justify-end"},Z={key:0},tt={class:"flex justify-end"},et={class:"dropdown","data-placement":"bottom-start"},st={class:"dropdown-toggle"},at={class:"dropdown-content w-40"},ot={class:"dropdown-list"},lt={class:"dropdown-list-item"},it={class:"dropdown-list-item"},nt=["onClick"],rt={id:"cardIntroDrawer",class:"drawer drawer-right"},dt={class:"drawer-header"},ct=t("button",{type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},[t("i",{"data-feather":"x",width:"1.5rem",height:"1.5rem"})],-1),ut={class:"drawer-body"},_t={class:"my-2"},pt={class:"label mb-1"},mt={class:"mb-2"},bt={class:"label mb-1"},vt={class:"mb-2"},ht={class:"label mb-1"},ft={class:"drawer-footer"},wt={class:"flex gap-2"},gt={type:"button",class:"btn btn-secondary flex-1","data-dismiss":"drawer"},xt=t("div",{class:"drawer-backdrop"},null,-1),Ct=P({layout:L}),qt=Object.assign(Ct,{__name:"Index",props:["cards","card_intro_details","totalCard","totalActiveCard","totalInactiveCard"],setup(u){var b,v,h,f;const{deleteRow:I,formatCurrency:T}=q();M(()=>{k.init()});const r=u,D=[{value:r.totalCard,title:s("Total Cards"),iconClass:"bx bx-bar-chart"},{value:r.totalActiveCard,title:s("Active Cards"),iconClass:"bx bx-check-circle"},{value:r.totalInactiveCard,title:s("Inactive Cards"),iconClass:"bx bx-x-circle"}],l=O({overview:(b=r.card_intro_details)==null?void 0:b.overview,title:(v=r.card_intro_details)==null?void 0:v.title,btn_text:(h=r.card_intro_details)==null?void 0:h.btn_text,preview:(f=r.card_intro_details)==null?void 0:f.preview,_method:"put"});function S(){l.post(route("admin.option.update","card_intro_details"),{onSuccess:()=>{R.success("Option Updated successfully"),k.of("#cardIntroDrawer").hide()}})}const A=[{label:"Title",value:"title"},{label:"Category Title",value:"category_title"},{label:"Status",value:"status",options:[{label:"Active",value:"active"},{label:"Inactive",value:"inactive"}]},{label:"Featured",value:"is_featured",options:[{label:"Featured",value:1},{label:"Not Featured",value:0}]}];return(w,n)=>{const _=x("Icon"),V=x("Link");return d(),c(C,null,[t("main",J,[i(N,{title:"Card List",buttons:w.buttons},null,8,["buttons"]),t("div",K,[i(E,{items:D,grid:"3"}),i(G,{options:A}),t("div",Q,[t("table",W,[t("thead",null,[t("tr",null,[t("th",null,a(e(s)("Name")),1),t("th",null,a(e(s)("Min Deposit")),1),t("th",null,a(e(s)("Category")),1),t("th",null,a(e(s)("Total Orders")),1),t("th",null,a(e(s)("Total Prepaid Cards")),1),t("th",null,a(e(s)("Status")),1),t("th",null,a(e(s)("Featured")),1),t("th",null,a(e(s)("Created At")),1),t("th",X,a(e(s)("Action")),1)])]),u.cards.total?(d(),c("tbody",Z,[(d(!0),c(C,null,B(u.cards.data,o=>{var g;return d(),c("tr",{key:o.id},[t("td",null,a(o.title),1),t("td",null,a(e(T)(o.min_deposit)),1),t("td",null,a((g=o.category)==null?void 0:g.title),1),t("td",null,a(o.card_orders_count||0),1),t("td",null,a(o.credit_cards_count||0),1),t("td",null,[t("span",{class:y(["badge",o.status=="active"?"badge-success":"badge-danger"])},a(o.status=="active"?e(s)("Active"):e(s)("Draft")),3)]),t("td",null,[t("span",{class:y(["badge",o.is_featured==1?"badge-success":"badge-danger"])},a(o.is_featured==1?e(s)("Active"):e(s)("Inactive")),3)]),t("td",null,a(e(j)(o.created_at).format("D-MMM-Y")),1),t("td",null,[t("div",tt,[t("div",et,[t("div",st,[i(_,{class:"w-30 text-lg",icon:"bi:three-dots-vertical"})]),t("div",at,[t("ul",ot,[t("li",lt,[i(V,{href:w.route("admin.cards.edit",o.id),class:"dropdown-link"},{default:U(()=>[i(_,{class:"h-6",icon:"bx:pencil"}),t("span",null,a(e(s)("Edit")),1)]),_:2},1032,["href"])]),t("li",it,[t("button",{type:"button",class:"dropdown-link",onClick:yt=>e(I)("/admin/cards/"+o.id)},[i(_,{class:"h-6",icon:"material-symbols:delete-outline"}),t("span",null,a(e(s)("Delete")),1)],8,nt)])])])])])])])}),128))])):(d(),F(z,{key:1,"for-table":"true"}))])])])]),t("div",rt,[t("form",{method:"POST",onSubmit:$(S,["prevent"])},[t("div",dt,[t("h5",null,a(e(s)("Card Intro Details")),1),ct]),t("div",ut,[i(H,{modelValue:e(l).preview,"onUpdate:modelValue":n[0]||(n[0]=o=>e(l).preview=o),label:e(s)("Preview")},null,8,["modelValue","label"]),t("div",_t,[t("label",pt,a(e(s)("Title")),1),p(t("input",{type:"text","onUpdate:modelValue":n[1]||(n[1]=o=>e(l).title=o),class:"input",required:""},null,512),[[m,e(l).title]])]),t("div",mt,[t("label",bt,a(e(s)("Overview")),1),p(t("textarea",{class:"textarea","onUpdate:modelValue":n[2]||(n[2]=o=>e(l).overview=o),required:""},null,512),[[m,e(l).overview]])]),t("div",vt,[t("label",ht,a(e(s)("Button Text")),1),p(t("input",{type:"text","onUpdate:modelValue":n[3]||(n[3]=o=>e(l).btn_text=o),class:"input",required:""},null,512),[[m,e(l).btn_text]])])]),t("div",ft,[t("div",wt,[t("button",gt,[t("span",null,a(e(s)("Close")),1)]),i(Y,{classes:"btn btn-primary flex-1",processing:e(l).processing,"btn-text":e(s)("Save Changes")},null,8,["processing","btn-text"])])])],32),xt])],64)}}});export{qt as default};
